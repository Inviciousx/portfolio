var Vb=s=>{throw TypeError(s)};var hf=(s,t,e)=>t.has(s)||Vb("Cannot "+e);var te=(s,t,e)=>(hf(s,t,"read from private field"),e?e.call(s):t.get(s)),ni=(s,t,e)=>t.has(s)?Vb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),an=(s,t,e,n)=>(hf(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e),ii=(s,t,e)=>(hf(s,t,"access private method"),e);var Hb=(s,t,e,n)=>({set _(r){an(s,t,r,e)},get _(){return te(s,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Pp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var df={exports:{}},wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function sC(){if(Gb)return wo;Gb=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:s,type:n,key:l,ref:r!==void 0?r:null,props:o}}return wo.Fragment=t,wo.jsx=e,wo.jsxs=e,wo}var qb;function aC(){return qb||(qb=1,df.exports=sC()),df.exports}var R=aC(),ff={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function rC(){if(Xb)return At;Xb=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function E(k,q,tt){this.props=k,this.context=q,this.refs=w,this.updater=tt||A}E.prototype.isReactComponent={},E.prototype.setState=function(k,q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,q,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=E.prototype;function _(k,q,tt){this.props=k,this.context=q,this.refs=w,this.updater=tt||A}var D=_.prototype=new C;D.constructor=_,S(D,E.prototype),D.isPureReactComponent=!0;var M=Array.isArray;function P(){}var O={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function G(k,q,tt){var et=tt.ref;return{$$typeof:s,type:k,key:q,ref:et!==void 0?et:null,props:tt}}function W(k,q){return G(k.type,q,k.props)}function J(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function ot(k){var q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(tt){return q[tt]})}var ut=/\/+/g;function nt(k,q){return typeof k=="object"&&k!==null&&k.key!=null?ot(""+k.key):q.toString(36)}function dt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(P,P):(k.status="pending",k.then(function(q){k.status==="pending"&&(k.status="fulfilled",k.value=q)},function(q){k.status==="pending"&&(k.status="rejected",k.reason=q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function B(k,q,tt,et,ct){var mt=typeof k;(mt==="undefined"||mt==="boolean")&&(k=null);var ht=!1;if(k===null)ht=!0;else switch(mt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(k.$$typeof){case s:case t:ht=!0;break;case p:return ht=k._init,B(ht(k._payload),q,tt,et,ct)}}if(ht)return ct=ct(k),ht=et===""?"."+nt(k,0):et,M(ct)?(tt="",ht!=null&&(tt=ht.replace(ut,"$&/")+"/"),B(ct,q,tt,"",function(Ut){return Ut})):ct!=null&&(J(ct)&&(ct=W(ct,tt+(ct.key==null||k&&k.key===ct.key?"":(""+ct.key).replace(ut,"$&/")+"/")+ht)),q.push(ct)),1;ht=0;var Wt=et===""?".":et+":";if(M(k))for(var _t=0;_t<k.length;_t++)et=k[_t],mt=Wt+nt(et,_t),ht+=B(et,q,tt,mt,ct);else if(_t=v(k),typeof _t=="function")for(k=_t.call(k),_t=0;!(et=k.next()).done;)et=et.value,mt=Wt+nt(et,_t++),ht+=B(et,q,tt,mt,ct);else if(mt==="object"){if(typeof k.then=="function")return B(dt(k),q,tt,et,ct);throw q=String(k),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ht}function U(k,q,tt){if(k==null)return k;var et=[],ct=0;return B(k,et,"","",function(mt){return q.call(tt,mt,ct++)}),et}function Z(k){if(k._status===-1){var q=k._result;q=q(),q.then(function(tt){(k._status===0||k._status===-1)&&(k._status=1,k._result=tt)},function(tt){(k._status===0||k._status===-1)&&(k._status=2,k._result=tt)}),k._status===-1&&(k._status=0,k._result=q)}if(k._status===1)return k._result.default;throw k._result}var rt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},gt={map:U,forEach:function(k,q,tt){U(k,function(){q.apply(this,arguments)},tt)},count:function(k){var q=0;return U(k,function(){q++}),q},toArray:function(k){return U(k,function(q){return q})||[]},only:function(k){if(!J(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return At.Activity=m,At.Children=gt,At.Component=E,At.Fragment=e,At.Profiler=r,At.PureComponent=_,At.StrictMode=n,At.Suspense=d,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,At.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},At.cache=function(k){return function(){return k.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(k,q,tt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var et=S({},k.props),ct=k.key;if(q!=null)for(mt in q.key!==void 0&&(ct=""+q.key),q)!j.call(q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&q.ref===void 0||(et[mt]=q[mt]);var mt=arguments.length-2;if(mt===1)et.children=tt;else if(1<mt){for(var ht=Array(mt),Wt=0;Wt<mt;Wt++)ht[Wt]=arguments[Wt+2];et.children=ht}return G(k.type,ct,et)},At.createContext=function(k){return k={$$typeof:l,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},At.createElement=function(k,q,tt){var et,ct={},mt=null;if(q!=null)for(et in q.key!==void 0&&(mt=""+q.key),q)j.call(q,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ct[et]=q[et]);var ht=arguments.length-2;if(ht===1)ct.children=tt;else if(1<ht){for(var Wt=Array(ht),_t=0;_t<ht;_t++)Wt[_t]=arguments[_t+2];ct.children=Wt}if(k&&k.defaultProps)for(et in ht=k.defaultProps,ht)ct[et]===void 0&&(ct[et]=ht[et]);return G(k,mt,ct)},At.createRef=function(){return{current:null}},At.forwardRef=function(k){return{$$typeof:u,render:k}},At.isValidElement=J,At.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:Z}},At.memo=function(k,q){return{$$typeof:f,type:k,compare:q===void 0?null:q}},At.startTransition=function(k){var q=O.T,tt={};O.T=tt;try{var et=k(),ct=O.S;ct!==null&&ct(tt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(P,rt)}catch(mt){rt(mt)}finally{q!==null&&tt.types!==null&&(q.types=tt.types),O.T=q}},At.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},At.use=function(k){return O.H.use(k)},At.useActionState=function(k,q,tt){return O.H.useActionState(k,q,tt)},At.useCallback=function(k,q){return O.H.useCallback(k,q)},At.useContext=function(k){return O.H.useContext(k)},At.useDebugValue=function(){},At.useDeferredValue=function(k,q){return O.H.useDeferredValue(k,q)},At.useEffect=function(k,q){return O.H.useEffect(k,q)},At.useEffectEvent=function(k){return O.H.useEffectEvent(k)},At.useId=function(){return O.H.useId()},At.useImperativeHandle=function(k,q,tt){return O.H.useImperativeHandle(k,q,tt)},At.useInsertionEffect=function(k,q){return O.H.useInsertionEffect(k,q)},At.useLayoutEffect=function(k,q){return O.H.useLayoutEffect(k,q)},At.useMemo=function(k,q){return O.H.useMemo(k,q)},At.useOptimistic=function(k,q){return O.H.useOptimistic(k,q)},At.useReducer=function(k,q,tt){return O.H.useReducer(k,q,tt)},At.useRef=function(k){return O.H.useRef(k)},At.useState=function(k){return O.H.useState(k)},At.useSyncExternalStore=function(k,q,tt){return O.H.useSyncExternalStore(k,q,tt)},At.useTransition=function(){return O.H.useTransition()},At.version="19.2.0",At}var Yb;function kp(){return Yb||(Yb=1,ff.exports=rC()),ff.exports}var L=kp();const vs=Pp(L);var pf={exports:{}},Eo={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function oC(){return $b||($b=1,(function(s){function t(B,U){var Z=B.length;B.push(U);t:for(;0<Z;){var rt=Z-1>>>1,gt=B[rt];if(0<r(gt,U))B[rt]=U,B[Z]=gt,Z=rt;else break t}}function e(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var U=B[0],Z=B.pop();if(Z!==U){B[0]=Z;t:for(var rt=0,gt=B.length,k=gt>>>1;rt<k;){var q=2*(rt+1)-1,tt=B[q],et=q+1,ct=B[et];if(0>r(tt,Z))et<gt&&0>r(ct,tt)?(B[rt]=ct,B[et]=Z,rt=et):(B[rt]=tt,B[q]=Z,rt=q);else if(et<gt&&0>r(ct,Z))B[rt]=ct,B[et]=Z,rt=et;else break t}}return U}function r(B,U){var Z=B.sortIndex-U.sortIndex;return Z!==0?Z:B.id-U.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();s.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,b=3,v=!1,A=!1,S=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var U=e(f);U!==null;){if(U.callback===null)n(f);else if(U.startTime<=B)n(f),U.sortIndex=U.expirationTime,t(d,U);else break;U=e(f)}}function M(B){if(S=!1,D(B),!A)if(e(d)!==null)A=!0,P||(P=!0,ot());else{var U=e(f);U!==null&&dt(M,U.startTime-B)}}var P=!1,O=-1,j=5,G=-1;function W(){return w?!0:!(s.unstable_now()-G<j)}function J(){if(w=!1,P){var B=s.unstable_now();G=B;var U=!0;try{t:{A=!1,S&&(S=!1,C(O),O=-1),v=!0;var Z=b;try{e:{for(D(B),m=e(d);m!==null&&!(m.expirationTime>B&&W());){var rt=m.callback;if(typeof rt=="function"){m.callback=null,b=m.priorityLevel;var gt=rt(m.expirationTime<=B);if(B=s.unstable_now(),typeof gt=="function"){m.callback=gt,D(B),U=!0;break e}m===e(d)&&n(d),D(B)}else n(d);m=e(d)}if(m!==null)U=!0;else{var k=e(f);k!==null&&dt(M,k.startTime-B),U=!1}}break t}finally{m=null,b=Z,v=!1}U=void 0}}finally{U?ot():P=!1}}}var ot;if(typeof _=="function")ot=function(){_(J)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,nt=ut.port2;ut.port1.onmessage=J,ot=function(){nt.postMessage(null)}}else ot=function(){E(J,0)};function dt(B,U){O=E(function(){B(s.unstable_now())},U)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(B){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var Z=b;b=U;try{return B()}finally{b=Z}},s.unstable_requestPaint=function(){w=!0},s.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=b;b=B;try{return U()}finally{b=Z}},s.unstable_scheduleCallback=function(B,U,Z){var rt=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?rt+Z:rt):Z=rt,B){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=Z+gt,B={id:p++,callback:U,priorityLevel:B,startTime:Z,expirationTime:gt,sortIndex:-1},Z>rt?(B.sortIndex=Z,t(f,B),e(d)===null&&B===e(f)&&(S?(C(O),O=-1):S=!0,dt(M,Z-rt))):(B.sortIndex=gt,t(d,B),A||v||(A=!0,P||(P=!0,ot()))),B},s.unstable_shouldYield=W,s.unstable_wrapCallback=function(B){var U=b;return function(){var Z=b;b=U;try{return B.apply(this,arguments)}finally{b=Z}}}})(gf)),gf}var Kb;function lC(){return Kb||(Kb=1,mf.exports=oC()),mf.exports}var yf={exports:{}},Ue={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function cC(){if(Wb)return Ue;Wb=1;var s=kp();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ue.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ue.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},Ue.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},Ue.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Ue.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Ue.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:v}):p==="script"&&n.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ue.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Ue.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ue.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Ue.requestFormReset=function(d){n.d.r(d)},Ue.unstable_batchedUpdates=function(d,f){return d(f)},Ue.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Ue.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ue.version="19.2.0",Ue}var Qb;function uC(){if(Qb)return yf.exports;Qb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),yf.exports=cC(),yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function hC(){if(Zb)return Eo;Zb=1;var s=lC(),t=kp(),e=uC();function n(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(n(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(n(188));return a!==i?null:i}for(var c=i,h=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return d(g),i;if(y===h)return d(g),a;y=y.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=y;else{for(var x=!1,T=g.child;T;){if(T===c){x=!0,c=g,h=y;break}if(T===h){x=!0,h=g,c=y;break}T=T.sibling}if(!x){for(T=y.child;T;){if(T===c){x=!0,c=y,h=g;break}if(T===h){x=!0,h=y,c=g;break}T=T.sibling}if(!x)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),_=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ot(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var ut=Symbol.for("react.client.reference");function nt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ut?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList";case G:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case _:return i.displayName||"Context";case C:return(i._context.displayName||"Context")+".Consumer";case D:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return a=i.displayName||null,a!==null?a:nt(i.type)||"Memo";case j:a=i._payload,i=i._init;try{return nt(i(a))}catch{}}return null}var dt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},rt=[],gt=-1;function k(i){return{current:i}}function q(i){0>gt||(i.current=rt[gt],rt[gt]=null,gt--)}function tt(i,a){gt++,rt[gt]=i.current,i.current=a}var et=k(null),ct=k(null),mt=k(null),ht=k(null);function Wt(i,a){switch(tt(mt,a),tt(ct,i),tt(et,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?hb(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=hb(a),i=db(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(et),tt(et,i)}function _t(){q(et),q(ct),q(mt)}function Ut(i){i.memoizedState!==null&&tt(ht,i);var a=et.current,c=db(a,i.type);a!==c&&(tt(ct,i),tt(et,c))}function We(i){ct.current===i&&(q(et),q(ct)),ht.current===i&&(q(ht),vo._currentValue=Z)}var hn,kt;function Bt(i){if(hn===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);hn=a&&a[1]||"",kt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hn+i+kt}var ie=!1;function ce(i,a){if(!i||ie)return"";ie=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(Y){var H=Y}Reflect.construct(i,[],Q)}else{try{Q.call()}catch(Y){H=Y}i.call(Q.prototype)}}else{try{throw Error()}catch(Y){H=Y}(Q=i())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),x=y[0],T=y[1];if(x&&T){var N=x.split(`
`),V=T.split(`
`);for(g=h=0;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;for(;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;if(h===N.length||g===V.length)for(h=N.length-1,g=V.length-1;1<=h&&0<=g&&N[h]!==V[g];)g--;for(;1<=h&&0<=g;h--,g--)if(N[h]!==V[g]){if(h!==1||g!==1)do if(h--,g--,0>g||N[h]!==V[g]){var $=`
`+N[h].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=h&&0<=g);break}}}finally{ie=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Bt(c):""}function Vi(i,a){switch(i.tag){case 26:case 27:case 5:return Bt(i.type);case 16:return Bt("Lazy");case 13:return i.child!==a&&a!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return ce(i.type,!1);case 11:return ce(i.type.render,!1);case 1:return ce(i.type,!0);case 31:return Bt("Activity");default:return""}}function Hi(i){try{var a="",c=null;do a+=Vi(i,c),c=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var _s=Object.prototype.hasOwnProperty,Mr=s.unstable_scheduleCallback,Gi=s.unstable_cancelCallback,Ku=s.unstable_shouldYield,Wu=s.unstable_requestPaint,qe=s.unstable_now,Qu=s.unstable_getCurrentPriorityLevel,wl=s.unstable_ImmediatePriority,Vn=s.unstable_UserBlockingPriority,Hn=s.unstable_NormalPriority,Qn=s.unstable_LowPriority,da=s.unstable_IdlePriority,U1=s.log,z1=s.unstable_setDisableYieldValue,Dr=null,dn=null;function qi(i){if(typeof U1=="function"&&z1(i),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(Dr,i)}catch{}}var fn=Math.clz32?Math.clz32:G1,V1=Math.log,H1=Math.LN2;function G1(i){return i>>>=0,i===0?32:31-(V1(i)/H1|0)|0}var El=256,Tl=262144,Cl=4194304;function Rs(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _l(i,a,c){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var T=h&134217727;return T!==0?(h=T&~y,h!==0?g=Rs(h):(x&=T,x!==0?g=Rs(x):c||(c=T&~i,c!==0&&(g=Rs(c))))):(T=h&~y,T!==0?g=Rs(T):x!==0?g=Rs(x):c||(c=h&~i,c!==0&&(g=Rs(c)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:g}function Lr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function q1(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xm(){var i=Cl;return Cl<<=1,(Cl&62914560)===0&&(Cl=4194304),i}function Zu(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function Or(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function X1(i,a,c,h,g,y){var x=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var T=i.entanglements,N=i.expirationTimes,V=i.hiddenUpdates;for(c=x&~c;0<c;){var $=31-fn(c),Q=1<<$;T[$]=0,N[$]=-1;var H=V[$];if(H!==null)for(V[$]=null,$=0;$<H.length;$++){var Y=H[$];Y!==null&&(Y.lane&=-536870913)}c&=~Q}h!==0&&Ym(i,h,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(x&~a))}function Ym(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-fn(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function $m(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var h=31-fn(c),g=1<<h;g&a|i[h]&a&&(i[h]|=a),c&=~g}}function Km(i,a){var c=a&-a;return c=(c&42)!==0?1:Ju(c),(c&(i.suspendedLanes|a))!==0?0:c}function Ju(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function th(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wm(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:kb(i.type))}function Qm(i,a){var c=U.p;try{return U.p=i,a()}finally{U.p=c}}var Xi=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Xi,Qe="__reactProps$"+Xi,fa="__reactContainer$"+Xi,eh="__reactEvents$"+Xi,Y1="__reactListeners$"+Xi,$1="__reactHandles$"+Xi,Zm="__reactResources$"+Xi,Nr="__reactMarker$"+Xi;function nh(i){delete i[Oe],delete i[Qe],delete i[eh],delete i[Y1],delete i[$1]}function pa(i){var a=i[Oe];if(a)return a;for(var c=i.parentNode;c;){if(a=c[fa]||c[Oe]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=vb(i);i!==null;){if(c=i[Oe])return c;i=vb(i)}return a}i=c,c=i.parentNode}return null}function ma(i){if(i=i[Oe]||i[fa]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Pr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(n(33))}function ga(i){var a=i[Zm];return a||(a=i[Zm]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(i){i[Nr]=!0}var Jm=new Set,tg={};function Ms(i,a){ya(i,a),ya(i+"Capture",a)}function ya(i,a){for(tg[i]=a,i=0;i<a.length;i++)Jm.add(a[i])}var K1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eg={},ng={};function W1(i){return _s.call(ng,i)?!0:_s.call(eg,i)?!1:K1.test(i)?ng[i]=!0:(eg[i]=!0,!1)}function Rl(i,a,c){if(W1(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function Ml(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function gi(i,a,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+h)}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ig(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Q1(i,a,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){c=""+x,y.call(this,x)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ih(i){if(!i._valueTracker){var a=ig(i)?"checked":"value";i._valueTracker=Q1(i,a,""+i[a])}}function sg(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return i&&(h=ig(i)?i.checked?"true":"false":i.value),i=h,i!==c?(a.setValue(i),!0):!1}function Dl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Z1=/[\n"\\]/g;function Cn(i){return i.replace(Z1,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function sh(i,a,c,h,g,y,x,T){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),a!=null?x==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Tn(a)):i.value!==""+Tn(a)&&(i.value=""+Tn(a)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),a!=null?ah(i,x,Tn(a)):c!=null?ah(i,x,Tn(c)):h!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+Tn(T):i.removeAttribute("name")}function ag(i,a,c,h,g,y,x,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){ih(i);return}c=c!=null?""+Tn(c):"",a=a!=null?""+Tn(a):c,T||a===i.value||(i.value=a),i.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=T?i.checked:!!h,i.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),ih(i)}function ah(i,a,c){a==="number"&&Dl(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function ba(i,a,c,h){if(i=i.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=a.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Tn(c),a=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function rg(i,a,c){if(a!=null&&(a=""+Tn(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+Tn(c):""}function og(i,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(n(92));if(dt(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Tn(a),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),ih(i)}function va(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var J1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lg(i,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,c):typeof c!="number"||c===0||J1.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function cg(i,a,c){if(a!=null&&typeof a!="object")throw Error(n(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&lg(i,g,h)}else for(var y in a)a.hasOwnProperty(y)&&lg(i,y,a[y])}function rh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(i){return eE.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function yi(){}var oh=null;function lh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Aa=null,Sa=null;function ug(i){var a=ma(i);if(a&&(i=a.stateNode)){var c=i[Qe]||null;t:switch(i=a.stateNode,a.type){case"input":if(sh(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Cn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==i&&h.form===i.form){var g=h[Qe]||null;if(!g)throw Error(n(90));sh(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===i.form&&sg(h)}break t;case"textarea":rg(i,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&ba(i,!!c.multiple,a,!1)}}}var ch=!1;function hg(i,a,c){if(ch)return i(a,c);ch=!0;try{var h=i(a);return h}finally{if(ch=!1,(Aa!==null||Sa!==null)&&(bc(),Aa&&(a=Aa,i=Sa,Sa=Aa=null,ug(a),i)))for(a=0;a<i.length;a++)ug(i[a])}}function kr(i,a){var c=i.stateNode;if(c===null)return null;var h=c[Qe]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=!1;if(bi)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){uh=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{uh=!1}var Yi=null,hh=null,Ol=null;function dg(){if(Ol)return Ol;var i,a=hh,c=a.length,h,g="value"in Yi?Yi.value:Yi.textContent,y=g.length;for(i=0;i<c&&a[i]===g[i];i++);var x=c-i;for(h=1;h<=x&&a[c-h]===g[y-h];h++);return Ol=g.slice(i,1<h?1-h:void 0)}function Nl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Pl(){return!0}function fg(){return!1}function Ze(i){function a(c,h,g,y,x){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(c=i[T],this[T]=c?c(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Pl:fg,this.isPropagationStopped=fg,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),a}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Ze(Ds),Fr=m({},Ds,{view:0,detail:0}),nE=Ze(Fr),dh,fh,jr,Bl=m({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==jr&&(jr&&i.type==="mousemove"?(dh=i.screenX-jr.screenX,fh=i.screenY-jr.screenY):fh=dh=0,jr=i),dh)},movementY:function(i){return"movementY"in i?i.movementY:fh}}),pg=Ze(Bl),iE=m({},Bl,{dataTransfer:0}),sE=Ze(iE),aE=m({},Fr,{relatedTarget:0}),ph=Ze(aE),rE=m({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),oE=Ze(rE),lE=m({},Ds,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cE=Ze(lE),uE=m({},Ds,{data:0}),mg=Ze(uE),hE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pE(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=fE[i])?!!a[i]:!1}function mh(){return pE}var mE=m({},Fr,{key:function(i){if(i.key){var a=hE[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Nl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mh,charCode:function(i){return i.type==="keypress"?Nl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Nl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gE=Ze(mE),yE=m({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gg=Ze(yE),bE=m({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mh}),vE=Ze(bE),AE=m({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),SE=Ze(AE),xE=m({},Bl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wE=Ze(xE),EE=m({},Ds,{newState:0,oldState:0}),TE=Ze(EE),CE=[9,13,27,32],gh=bi&&"CompositionEvent"in window,Ir=null;bi&&"documentMode"in document&&(Ir=document.documentMode);var _E=bi&&"TextEvent"in window&&!Ir,yg=bi&&(!gh||Ir&&8<Ir&&11>=Ir),bg=" ",vg=!1;function Ag(i,a){switch(i){case"keyup":return CE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xa=!1;function RE(i,a){switch(i){case"compositionend":return Sg(a);case"keypress":return a.which!==32?null:(vg=!0,bg);case"textInput":return i=a.data,i===bg&&vg?null:i;default:return null}}function ME(i,a){if(xa)return i==="compositionend"||!gh&&Ag(i,a)?(i=dg(),Ol=hh=Yi=null,xa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return yg&&a.locale!=="ko"?null:a.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!DE[i.type]:a==="textarea"}function wg(i,a,c,h){Aa?Sa?Sa.push(h):Sa=[h]:Aa=h,a=Tc(a,"onChange"),0<a.length&&(c=new kl("onChange","change",null,c,h),i.push({event:c,listeners:a}))}var Ur=null,zr=null;function LE(i){ab(i,0)}function Fl(i){var a=Pr(i);if(sg(a))return i}function Eg(i,a){if(i==="change")return a}var Tg=!1;if(bi){var yh;if(bi){var bh="oninput"in document;if(!bh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),bh=typeof Cg.oninput=="function"}yh=bh}else yh=!1;Tg=yh&&(!document.documentMode||9<document.documentMode)}function _g(){Ur&&(Ur.detachEvent("onpropertychange",Rg),zr=Ur=null)}function Rg(i){if(i.propertyName==="value"&&Fl(zr)){var a=[];wg(a,zr,i,lh(i)),hg(LE,a)}}function OE(i,a,c){i==="focusin"?(_g(),Ur=a,zr=c,Ur.attachEvent("onpropertychange",Rg)):i==="focusout"&&_g()}function NE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fl(zr)}function PE(i,a){if(i==="click")return Fl(a)}function kE(i,a){if(i==="input"||i==="change")return Fl(a)}function BE(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var pn=typeof Object.is=="function"?Object.is:BE;function Vr(i,a){if(pn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!_s.call(a,g)||!pn(i[g],a[g]))return!1}return!0}function Mg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dg(i,a){var c=Mg(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=a&&h>=a)return{node:c,offset:a-i};i=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Mg(c)}}function Lg(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Lg(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Og(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Dl(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Dl(i.document)}return a}function vh(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var FE=bi&&"documentMode"in document&&11>=document.documentMode,wa=null,Ah=null,Hr=null,Sh=!1;function Ng(i,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sh||wa==null||wa!==Dl(h)||(h=wa,"selectionStart"in h&&vh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Hr&&Vr(Hr,h)||(Hr=h,h=Tc(Ah,"onSelect"),0<h.length&&(a=new kl("onSelect","select",null,a,c),i.push({event:a,listeners:h}),a.target=wa)))}function Ls(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var Ea={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},xh={},Pg={};bi&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Os(i){if(xh[i])return xh[i];if(!Ea[i])return i;var a=Ea[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in Pg)return xh[i]=a[c];return i}var kg=Os("animationend"),Bg=Os("animationiteration"),Fg=Os("animationstart"),jE=Os("transitionrun"),IE=Os("transitionstart"),UE=Os("transitioncancel"),jg=Os("transitionend"),Ig=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function Gn(i,a){Ig.set(i,a),Ms(a,[i])}var jl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},_n=[],Ta=0,Eh=0;function Il(){for(var i=Ta,a=Eh=Ta=0;a<i;){var c=_n[a];_n[a++]=null;var h=_n[a];_n[a++]=null;var g=_n[a];_n[a++]=null;var y=_n[a];if(_n[a++]=null,h!==null&&g!==null){var x=h.pending;x===null?g.next=g:(g.next=x.next,x.next=g),h.pending=g}y!==0&&Ug(c,g,y)}}function Ul(i,a,c,h){_n[Ta++]=i,_n[Ta++]=a,_n[Ta++]=c,_n[Ta++]=h,Eh|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Th(i,a,c,h){return Ul(i,a,c,h),zl(i)}function Ns(i,a){return Ul(i,null,null,a),zl(i)}function Ug(i,a,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=i.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&a!==null&&(g=31-fn(c),i=y.hiddenUpdates,h=i[g],h===null?i[g]=[a]:h.push(a),a.lane=c|536870912),y):null}function zl(i){if(50<ho)throw ho=0,Pd=null,Error(n(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ca={};function zE(i,a,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(i,a,c,h){return new zE(i,a,c,h)}function Ch(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vi(i,a){var c=i.alternate;return c===null?(c=mn(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function zg(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Vl(i,a,c,h,g,y){var x=0;if(h=i,typeof i=="function")Ch(i)&&(x=1);else if(typeof i=="string")x=XT(i,c,et.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case G:return i=mn(31,c,a,g),i.elementType=G,i.lanes=y,i;case S:return Ps(c.children,g,y,a);case w:x=8,g|=24;break;case E:return i=mn(12,c,a,g|2),i.elementType=E,i.lanes=y,i;case M:return i=mn(13,c,a,g),i.elementType=M,i.lanes=y,i;case P:return i=mn(19,c,a,g),i.elementType=P,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:x=10;break t;case C:x=9;break t;case D:x=11;break t;case O:x=14;break t;case j:x=16,h=null;break t}x=29,c=Error(n(130,i===null?"null":typeof i,"")),h=null}return a=mn(x,c,a,g),a.elementType=i,a.type=h,a.lanes=y,a}function Ps(i,a,c,h){return i=mn(7,i,h,a),i.lanes=c,i}function _h(i,a,c){return i=mn(6,i,null,a),i.lanes=c,i}function Vg(i){var a=mn(18,null,null,0);return a.stateNode=i,a}function Rh(i,a,c){return a=mn(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Hg=new WeakMap;function Rn(i,a){if(typeof i=="object"&&i!==null){var c=Hg.get(i);return c!==void 0?c:(a={value:i,source:a,stack:Hi(a)},Hg.set(i,a),a)}return{value:i,source:a,stack:Hi(a)}}var _a=[],Ra=0,Hl=null,Gr=0,Mn=[],Dn=0,$i=null,Zn=1,Jn="";function Ai(i,a){_a[Ra++]=Gr,_a[Ra++]=Hl,Hl=i,Gr=a}function Gg(i,a,c){Mn[Dn++]=Zn,Mn[Dn++]=Jn,Mn[Dn++]=$i,$i=i;var h=Zn;i=Jn;var g=32-fn(h)-1;h&=~(1<<g),c+=1;var y=32-fn(a)+g;if(30<y){var x=g-g%5;y=(h&(1<<x)-1).toString(32),h>>=x,g-=x,Zn=1<<32-fn(a)+g|c<<g|h,Jn=y+i}else Zn=1<<y|c<<g|h,Jn=i}function Mh(i){i.return!==null&&(Ai(i,1),Gg(i,1,0))}function Dh(i){for(;i===Hl;)Hl=_a[--Ra],_a[Ra]=null,Gr=_a[--Ra],_a[Ra]=null;for(;i===$i;)$i=Mn[--Dn],Mn[Dn]=null,Jn=Mn[--Dn],Mn[Dn]=null,Zn=Mn[--Dn],Mn[Dn]=null}function qg(i,a){Mn[Dn++]=Zn,Mn[Dn++]=Jn,Mn[Dn++]=$i,Zn=a.id,Jn=a.overflow,$i=i}var Ne=null,Qt=null,Nt=!1,Ki=null,Ln=!1,Lh=Error(n(519));function Wi(i){var a=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qr(Rn(a,i)),Lh}function Xg(i){var a=i.stateNode,c=i.type,h=i.memoizedProps;switch(a[Oe]=i,a[Qe]=h,c){case"dialog":Mt("cancel",a),Mt("close",a);break;case"iframe":case"object":case"embed":Mt("load",a);break;case"video":case"audio":for(c=0;c<po.length;c++)Mt(po[c],a);break;case"source":Mt("error",a);break;case"img":case"image":case"link":Mt("error",a),Mt("load",a);break;case"details":Mt("toggle",a);break;case"input":Mt("invalid",a),ag(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Mt("invalid",a);break;case"textarea":Mt("invalid",a),og(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||cb(a.textContent,c)?(h.popover!=null&&(Mt("beforetoggle",a),Mt("toggle",a)),h.onScroll!=null&&Mt("scroll",a),h.onScrollEnd!=null&&Mt("scrollend",a),h.onClick!=null&&(a.onclick=yi),a=!0):a=!1,a||Wi(i,!0)}function Yg(i){for(Ne=i.return;Ne;)switch(Ne.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ne=Ne.return}}function Ma(i){if(i!==Ne)return!1;if(!Nt)return Yg(i),Nt=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Kd(i.type,i.memoizedProps)),c=!c),c&&Qt&&Wi(i),Yg(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Qt=bb(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Qt=bb(i)}else a===27?(a=Qt,us(i.type)?(i=tf,tf=null,Qt=i):Qt=a):Qt=Ne?Nn(i.stateNode.nextSibling):null;return!0}function ks(){Qt=Ne=null,Nt=!1}function Oh(){var i=Ki;return i!==null&&(nn===null?nn=i:nn.push.apply(nn,i),Ki=null),i}function qr(i){Ki===null?Ki=[i]:Ki.push(i)}var Nh=k(null),Bs=null,Si=null;function Qi(i,a,c){tt(Nh,a._currentValue),a._currentValue=c}function xi(i){i._currentValue=Nh.current,q(Nh)}function Ph(i,a,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===c)break;i=i.return}}function kh(i,a,c,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var x=g.child;y=y.firstContext;t:for(;y!==null;){var T=y;y=g;for(var N=0;N<a.length;N++)if(T.context===a[N]){y.lanes|=c,T=y.alternate,T!==null&&(T.lanes|=c),Ph(y.return,c,i),h||(x=null);break t}y=T.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(n(341));x.lanes|=c,y=x.alternate,y!==null&&(y.lanes|=c),Ph(x,c,i),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function Da(i,a,c,h){i=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var T=g.type;pn(g.pendingProps.value,x.value)||(i!==null?i.push(T):i=[T])}}else if(g===ht.current){if(x=g.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(vo):i=[vo])}g=g.return}i!==null&&kh(a,i,c,h),a.flags|=262144}function Gl(i){for(i=i.firstContext;i!==null;){if(!pn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Fs(i){Bs=i,Si=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Pe(i){return $g(Bs,i)}function ql(i,a){return Bs===null&&Fs(i),$g(i,a)}function $g(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Si===null){if(i===null)throw Error(n(308));Si=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Si=Si.next=a;return c}var VE=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},HE=s.unstable_scheduleCallback,GE=s.unstable_NormalPriority,ve={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new VE,data:new Map,refCount:0}}function Xr(i){i.refCount--,i.refCount===0&&HE(GE,function(){i.controller.abort()})}var Yr=null,Fh=0,La=0,Oa=null;function qE(i,a){if(Yr===null){var c=Yr=[];Fh=0,La=Ud(),Oa={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Fh++,a.then(Kg,Kg),a}function Kg(){if(--Fh===0&&Yr!==null){Oa!==null&&(Oa.status="fulfilled");var i=Yr;Yr=null,La=0,Oa=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function XE(i,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var Wg=B.S;B.S=function(i,a){N0=qe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&qE(i,a),Wg!==null&&Wg(i,a)};var js=k(null);function jh(){var i=js.current;return i!==null?i:Yt.pooledCache}function Xl(i,a){a===null?tt(js,js.current):tt(js,a.pool)}function Qg(){var i=jh();return i===null?null:{parent:ve._currentValue,pool:i}}var Na=Error(n(460)),Ih=Error(n(474)),Yl=Error(n(542)),$l={then:function(){}};function Zg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jg(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(yi,yi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,ey(i),i;default:if(typeof a.status=="string")a.then(yi,yi);else{if(i=Yt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,ey(i),i}throw Us=a,Na}}function Is(i){try{var a=i._init;return a(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Us=c,Na):c}}var Us=null;function ty(){if(Us===null)throw Error(n(459));var i=Us;return Us=null,i}function ey(i){if(i===Na||i===Yl)throw Error(n(483))}var Pa=null,$r=0;function Kl(i){var a=$r;return $r+=1,Pa===null&&(Pa=[]),Jg(Pa,i,a)}function Kr(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Wl(i,a){throw a.$$typeof===b?Error(n(525)):(i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function ny(i){function a(I,F){if(i){var z=I.deletions;z===null?(I.deletions=[F],I.flags|=16):z.push(F)}}function c(I,F){if(!i)return null;for(;F!==null;)a(I,F),F=F.sibling;return null}function h(I){for(var F=new Map;I!==null;)I.key!==null?F.set(I.key,I):F.set(I.index,I),I=I.sibling;return F}function g(I,F){return I=vi(I,F),I.index=0,I.sibling=null,I}function y(I,F,z){return I.index=z,i?(z=I.alternate,z!==null?(z=z.index,z<F?(I.flags|=67108866,F):z):(I.flags|=67108866,F)):(I.flags|=1048576,F)}function x(I){return i&&I.alternate===null&&(I.flags|=67108866),I}function T(I,F,z,K){return F===null||F.tag!==6?(F=_h(z,I.mode,K),F.return=I,F):(F=g(F,z),F.return=I,F)}function N(I,F,z,K){var ft=z.type;return ft===S?$(I,F,z.props.children,K,z.key):F!==null&&(F.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===j&&Is(ft)===F.type)?(F=g(F,z.props),Kr(F,z),F.return=I,F):(F=Vl(z.type,z.key,z.props,null,I.mode,K),Kr(F,z),F.return=I,F)}function V(I,F,z,K){return F===null||F.tag!==4||F.stateNode.containerInfo!==z.containerInfo||F.stateNode.implementation!==z.implementation?(F=Rh(z,I.mode,K),F.return=I,F):(F=g(F,z.children||[]),F.return=I,F)}function $(I,F,z,K,ft){return F===null||F.tag!==7?(F=Ps(z,I.mode,K,ft),F.return=I,F):(F=g(F,z),F.return=I,F)}function Q(I,F,z){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=_h(""+F,I.mode,z),F.return=I,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return z=Vl(F.type,F.key,F.props,null,I.mode,z),Kr(z,F),z.return=I,z;case A:return F=Rh(F,I.mode,z),F.return=I,F;case j:return F=Is(F),Q(I,F,z)}if(dt(F)||ot(F))return F=Ps(F,I.mode,z,null),F.return=I,F;if(typeof F.then=="function")return Q(I,Kl(F),z);if(F.$$typeof===_)return Q(I,ql(I,F),z);Wl(I,F)}return null}function H(I,F,z,K){var ft=F!==null?F.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:T(I,F,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===ft?N(I,F,z,K):null;case A:return z.key===ft?V(I,F,z,K):null;case j:return z=Is(z),H(I,F,z,K)}if(dt(z)||ot(z))return ft!==null?null:$(I,F,z,K,null);if(typeof z.then=="function")return H(I,F,Kl(z),K);if(z.$$typeof===_)return H(I,F,ql(I,z),K);Wl(I,z)}return null}function Y(I,F,z,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return I=I.get(z)||null,T(F,I,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return I=I.get(K.key===null?z:K.key)||null,N(F,I,K,ft);case A:return I=I.get(K.key===null?z:K.key)||null,V(F,I,K,ft);case j:return K=Is(K),Y(I,F,z,K,ft)}if(dt(K)||ot(K))return I=I.get(z)||null,$(F,I,K,ft,null);if(typeof K.then=="function")return Y(I,F,z,Kl(K),ft);if(K.$$typeof===_)return Y(I,F,z,ql(F,K),ft);Wl(F,K)}return null}function at(I,F,z,K){for(var ft=null,Ft=null,lt=F,Tt=F=0,Lt=null;lt!==null&&Tt<z.length;Tt++){lt.index>Tt?(Lt=lt,lt=null):Lt=lt.sibling;var jt=H(I,lt,z[Tt],K);if(jt===null){lt===null&&(lt=Lt);break}i&&lt&&jt.alternate===null&&a(I,lt),F=y(jt,F,Tt),Ft===null?ft=jt:Ft.sibling=jt,Ft=jt,lt=Lt}if(Tt===z.length)return c(I,lt),Nt&&Ai(I,Tt),ft;if(lt===null){for(;Tt<z.length;Tt++)lt=Q(I,z[Tt],K),lt!==null&&(F=y(lt,F,Tt),Ft===null?ft=lt:Ft.sibling=lt,Ft=lt);return Nt&&Ai(I,Tt),ft}for(lt=h(lt);Tt<z.length;Tt++)Lt=Y(lt,I,Tt,z[Tt],K),Lt!==null&&(i&&Lt.alternate!==null&&lt.delete(Lt.key===null?Tt:Lt.key),F=y(Lt,F,Tt),Ft===null?ft=Lt:Ft.sibling=Lt,Ft=Lt);return i&&lt.forEach(function(ms){return a(I,ms)}),Nt&&Ai(I,Tt),ft}function yt(I,F,z,K){if(z==null)throw Error(n(151));for(var ft=null,Ft=null,lt=F,Tt=F=0,Lt=null,jt=z.next();lt!==null&&!jt.done;Tt++,jt=z.next()){lt.index>Tt?(Lt=lt,lt=null):Lt=lt.sibling;var ms=H(I,lt,jt.value,K);if(ms===null){lt===null&&(lt=Lt);break}i&&lt&&ms.alternate===null&&a(I,lt),F=y(ms,F,Tt),Ft===null?ft=ms:Ft.sibling=ms,Ft=ms,lt=Lt}if(jt.done)return c(I,lt),Nt&&Ai(I,Tt),ft;if(lt===null){for(;!jt.done;Tt++,jt=z.next())jt=Q(I,jt.value,K),jt!==null&&(F=y(jt,F,Tt),Ft===null?ft=jt:Ft.sibling=jt,Ft=jt);return Nt&&Ai(I,Tt),ft}for(lt=h(lt);!jt.done;Tt++,jt=z.next())jt=Y(lt,I,Tt,jt.value,K),jt!==null&&(i&&jt.alternate!==null&&lt.delete(jt.key===null?Tt:jt.key),F=y(jt,F,Tt),Ft===null?ft=jt:Ft.sibling=jt,Ft=jt);return i&&lt.forEach(function(iC){return a(I,iC)}),Nt&&Ai(I,Tt),ft}function qt(I,F,z,K){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:t:{for(var ft=z.key;F!==null;){if(F.key===ft){if(ft=z.type,ft===S){if(F.tag===7){c(I,F.sibling),K=g(F,z.props.children),K.return=I,I=K;break t}}else if(F.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===j&&Is(ft)===F.type){c(I,F.sibling),K=g(F,z.props),Kr(K,z),K.return=I,I=K;break t}c(I,F);break}else a(I,F);F=F.sibling}z.type===S?(K=Ps(z.props.children,I.mode,K,z.key),K.return=I,I=K):(K=Vl(z.type,z.key,z.props,null,I.mode,K),Kr(K,z),K.return=I,I=K)}return x(I);case A:t:{for(ft=z.key;F!==null;){if(F.key===ft)if(F.tag===4&&F.stateNode.containerInfo===z.containerInfo&&F.stateNode.implementation===z.implementation){c(I,F.sibling),K=g(F,z.children||[]),K.return=I,I=K;break t}else{c(I,F);break}else a(I,F);F=F.sibling}K=Rh(z,I.mode,K),K.return=I,I=K}return x(I);case j:return z=Is(z),qt(I,F,z,K)}if(dt(z))return at(I,F,z,K);if(ot(z)){if(ft=ot(z),typeof ft!="function")throw Error(n(150));return z=ft.call(z),yt(I,F,z,K)}if(typeof z.then=="function")return qt(I,F,Kl(z),K);if(z.$$typeof===_)return qt(I,F,ql(I,z),K);Wl(I,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,F!==null&&F.tag===6?(c(I,F.sibling),K=g(F,z),K.return=I,I=K):(c(I,F),K=_h(z,I.mode,K),K.return=I,I=K),x(I)):c(I,F)}return function(I,F,z,K){try{$r=0;var ft=qt(I,F,z,K);return Pa=null,ft}catch(lt){if(lt===Na||lt===Yl)throw lt;var Ft=mn(29,lt,null,I.mode);return Ft.lanes=K,Ft.return=I,Ft}finally{}}}var zs=ny(!0),iy=ny(!1),Zi=!1;function Uh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ji(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ts(i,a,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(It&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=zl(i),Ug(i,null,c),a}return Ul(i,h,a,c),zl(i)}function Wr(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,$m(i,c)}}function Vh(i,a){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=x:y=y.next=x,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var Hh=!1;function Qr(){if(Hh){var i=Oa;if(i!==null)throw i}}function Zr(i,a,c,h){Hh=!1;var g=i.updateQueue;Zi=!1;var y=g.firstBaseUpdate,x=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var N=T,V=N.next;N.next=null,x===null?y=V:x.next=V,x=N;var $=i.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==x&&(T===null?$.firstBaseUpdate=V:T.next=V,$.lastBaseUpdate=N))}if(y!==null){var Q=g.baseState;x=0,$=V=N=null,T=y;do{var H=T.lane&-536870913,Y=H!==T.lane;if(Y?(Dt&H)===H:(h&H)===H){H!==0&&H===La&&(Hh=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=i,yt=T;H=a;var qt=c;switch(yt.tag){case 1:if(at=yt.payload,typeof at=="function"){Q=at.call(qt,Q,H);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=yt.payload,H=typeof at=="function"?at.call(qt,Q,H):at,H==null)break t;Q=m({},Q,H);break t;case 2:Zi=!0}}H=T.callback,H!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=g.callbacks,Y===null?g.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(V=$=Y,N=Q):$=$.next=Y,x|=H;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,g.lastBaseUpdate=Y,g.shared.pending=null}}while(!0);$===null&&(N=Q),g.baseState=N,g.firstBaseUpdate=V,g.lastBaseUpdate=$,y===null&&(g.shared.lanes=0),as|=x,i.lanes=x,i.memoizedState=Q}}function sy(i,a){if(typeof i!="function")throw Error(n(191,i));i.call(a)}function ay(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)sy(c[i],a)}var ka=k(null),Ql=k(0);function ry(i,a){i=Li,tt(Ql,i),tt(ka,a),Li=i|a.baseLanes}function Gh(){tt(Ql,Li),tt(ka,ka.current)}function qh(){Li=Ql.current,q(ka),q(Ql)}var gn=k(null),On=null;function es(i){var a=i.alternate;tt(fe,fe.current&1),tt(gn,i),On===null&&(a===null||ka.current!==null||a.memoizedState!==null)&&(On=i)}function Xh(i){tt(fe,fe.current),tt(gn,i),On===null&&(On=i)}function oy(i){i.tag===22?(tt(fe,fe.current),tt(gn,i),On===null&&(On=i)):ns()}function ns(){tt(fe,fe.current),tt(gn,gn.current)}function yn(i){q(gn),On===i&&(On=null),q(fe)}var fe=k(0);function Zl(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Zd(c)||Jd(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var wi=0,wt=null,Ht=null,Ae=null,Jl=!1,Ba=!1,Vs=!1,tc=0,Jr=0,Fa=null,YE=0;function ue(){throw Error(n(321))}function Yh(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!pn(i[c],a[c]))return!1;return!0}function $h(i,a,c,h,g,y){return wi=y,wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=i===null||i.memoizedState===null?Gy:cd,Vs=!1,y=c(h,g),Vs=!1,Ba&&(y=cy(a,c,h,g)),ly(i),y}function ly(i){B.H=no;var a=Ht!==null&&Ht.next!==null;if(wi=0,Ae=Ht=wt=null,Jl=!1,Jr=0,Fa=null,a)throw Error(n(300));i===null||Se||(i=i.dependencies,i!==null&&Gl(i)&&(Se=!0))}function cy(i,a,c,h){wt=i;var g=0;do{if(Ba&&(Fa=null),Jr=0,Ba=!1,25<=g)throw Error(n(301));if(g+=1,Ae=Ht=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=qy,y=a(c,h)}while(Ba);return y}function $E(){var i=B.H,a=i.useState()[0];return a=typeof a.then=="function"?to(a):a,i=i.useState()[0],(Ht!==null?Ht.memoizedState:null)!==i&&(wt.flags|=1024),a}function Kh(){var i=tc!==0;return tc=0,i}function Wh(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function Qh(i){if(Jl){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Jl=!1}wi=0,Ae=Ht=wt=null,Ba=!1,Jr=tc=0,Fa=null}function Xe(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?wt.memoizedState=Ae=i:Ae=Ae.next=i,Ae}function pe(){if(Ht===null){var i=wt.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var a=Ae===null?wt.memoizedState:Ae.next;if(a!==null)Ae=a,Ht=i;else{if(i===null)throw wt.alternate===null?Error(n(467)):Error(n(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Ae===null?wt.memoizedState=Ae=i:Ae=Ae.next=i}return Ae}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(i){var a=Jr;return Jr+=1,Fa===null&&(Fa=[]),i=Jg(Fa,i,a),a=wt,(Ae===null?a.memoizedState:Ae.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Gy:cd),i}function nc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return to(i);if(i.$$typeof===_)return Pe(i)}throw Error(n(438,String(i)))}function Zh(i){var a=null,c=wt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=wt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=ec(),wt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),h=0;h<i;h++)c[h]=W;return a.index++,c}function Ei(i,a){return typeof a=="function"?a(i):a}function ic(i){var a=pe();return Jh(a,Ht,i)}function Jh(i,a,c){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var g=i.baseQueue,y=h.pending;if(y!==null){if(g!==null){var x=g.next;g.next=y.next,y.next=x}a.baseQueue=g=y,h.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{a=g.next;var T=x=null,N=null,V=a,$=!1;do{var Q=V.lane&-536870913;if(Q!==V.lane?(Dt&Q)===Q:(wi&Q)===Q){var H=V.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Q===La&&($=!0);else if((wi&H)===H){V=V.next,H===La&&($=!0);continue}else Q={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(T=N=Q,x=y):N=N.next=Q,wt.lanes|=H,as|=H;Q=V.action,Vs&&c(y,Q),y=V.hasEagerState?V.eagerState:c(y,Q)}else H={lane:Q,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(T=N=H,x=y):N=N.next=H,wt.lanes|=Q,as|=Q;V=V.next}while(V!==null&&V!==a);if(N===null?x=y:N.next=T,!pn(y,i.memoizedState)&&(Se=!0,$&&(c=Oa,c!==null)))throw c;i.memoizedState=y,i.baseState=x,i.baseQueue=N,h.lastRenderedState=y}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function td(i){var a=pe(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do y=i(y,x.action),x=x.next;while(x!==g);pn(y,a.memoizedState)||(Se=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function uy(i,a,c){var h=wt,g=pe(),y=Nt;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=a();var x=!pn((Ht||g).memoizedState,c);if(x&&(g.memoizedState=c,Se=!0),g=g.queue,id(fy.bind(null,h,g,i),[i]),g.getSnapshot!==a||x||Ae!==null&&Ae.memoizedState.tag&1){if(h.flags|=2048,ja(9,{destroy:void 0},dy.bind(null,h,g,c,a),null),Yt===null)throw Error(n(349));y||(wi&127)!==0||hy(h,a,c)}return c}function hy(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=wt.updateQueue,a===null?(a=ec(),wt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function dy(i,a,c,h){a.value=c,a.getSnapshot=h,py(a)&&my(i)}function fy(i,a,c){return c(function(){py(a)&&my(i)})}function py(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!pn(i,c)}catch{return!0}}function my(i){var a=Ns(i,2);a!==null&&sn(a,i,2)}function ed(i){var a=Xe();if(typeof i=="function"){var c=i;if(i=c(),Vs){qi(!0);try{c()}finally{qi(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:i},a}function gy(i,a,c,h){return i.baseState=c,Jh(i,Ht,typeof h=="function"?h:Ei)}function KE(i,a,c,h,g){if(rc(i))throw Error(n(485));if(i=a.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};B.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,yy(a,y)):(y.next=c.next,a.pending=c.next=y)}}function yy(i,a){var c=a.action,h=a.payload,g=i.state;if(a.isTransition){var y=B.T,x={};B.T=x;try{var T=c(g,h),N=B.S;N!==null&&N(x,T),by(i,a,T)}catch(V){nd(i,a,V)}finally{y!==null&&x.types!==null&&(y.types=x.types),B.T=y}}else try{y=c(g,h),by(i,a,y)}catch(V){nd(i,a,V)}}function by(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){vy(i,a,h)},function(h){return nd(i,a,h)}):vy(i,a,c)}function vy(i,a,c){a.status="fulfilled",a.value=c,Ay(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,yy(i,c)))}function nd(i,a,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Ay(a),a=a.next;while(a!==h)}i.action=null}function Ay(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Sy(i,a){return a}function xy(i,a){if(Nt){var c=Yt.formState;if(c!==null){t:{var h=wt;if(Nt){if(Qt){e:{for(var g=Qt,y=Ln;g.nodeType!==8;){if(!y){g=null;break e}if(g=Nn(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Qt=Nn(g.nextSibling),h=g.data==="F!";break t}}Wi(h)}h=!1}h&&(a=c[0])}}return c=Xe(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:a},c.queue=h,c=zy.bind(null,wt,h),h.dispatch=c,h=ed(!1),y=ld.bind(null,wt,!1,h.queue),h=Xe(),g={state:a,dispatch:null,action:i,pending:null},h.queue=g,c=KE.bind(null,wt,g,y,c),g.dispatch=c,h.memoizedState=i,[a,c,!1]}function wy(i){var a=pe();return Ey(a,Ht,i)}function Ey(i,a,c){if(a=Jh(i,a,Sy)[0],i=ic(Ei)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=to(a)}catch(x){throw x===Na?Yl:x}else h=a;a=pe();var g=a.queue,y=g.dispatch;return c!==a.memoizedState&&(wt.flags|=2048,ja(9,{destroy:void 0},WE.bind(null,g,c),null)),[h,y,i]}function WE(i,a){i.action=a}function Ty(i){var a=pe(),c=Ht;if(c!==null)return Ey(a,c,i);pe(),a=a.memoizedState,c=pe();var h=c.queue.dispatch;return c.memoizedState=i,[a,h,!1]}function ja(i,a,c,h){return i={tag:i,create:c,deps:h,inst:a,next:null},a=wt.updateQueue,a===null&&(a=ec(),wt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,a.lastEffect=i),i}function Cy(){return pe().memoizedState}function sc(i,a,c,h){var g=Xe();wt.flags|=i,g.memoizedState=ja(1|a,{destroy:void 0},c,h===void 0?null:h)}function ac(i,a,c,h){var g=pe();h=h===void 0?null:h;var y=g.memoizedState.inst;Ht!==null&&h!==null&&Yh(h,Ht.memoizedState.deps)?g.memoizedState=ja(a,y,c,h):(wt.flags|=i,g.memoizedState=ja(1|a,y,c,h))}function _y(i,a){sc(8390656,8,i,a)}function id(i,a){ac(2048,8,i,a)}function QE(i){wt.flags|=4;var a=wt.updateQueue;if(a===null)a=ec(),wt.updateQueue=a,a.events=[i];else{var c=a.events;c===null?a.events=[i]:c.push(i)}}function Ry(i){var a=pe().memoizedState;return QE({ref:a,nextImpl:i}),function(){if((It&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}function My(i,a){return ac(4,2,i,a)}function Dy(i,a){return ac(4,4,i,a)}function Ly(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Oy(i,a,c){c=c!=null?c.concat([i]):null,ac(4,4,Ly.bind(null,a,i),c)}function sd(){}function Ny(i,a){var c=pe();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Yh(a,h[1])?h[0]:(c.memoizedState=[i,a],i)}function Py(i,a){var c=pe();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Yh(a,h[1]))return h[0];if(h=i(),Vs){qi(!0);try{i()}finally{qi(!1)}}return c.memoizedState=[h,a],h}function ad(i,a,c){return c===void 0||(wi&1073741824)!==0&&(Dt&261930)===0?i.memoizedState=a:(i.memoizedState=c,i=k0(),wt.lanes|=i,as|=i,c)}function ky(i,a,c,h){return pn(c,a)?c:ka.current!==null?(i=ad(i,c,h),pn(i,a)||(Se=!0),i):(wi&42)===0||(wi&1073741824)!==0&&(Dt&261930)===0?(Se=!0,i.memoizedState=c):(i=k0(),wt.lanes|=i,as|=i,a)}function By(i,a,c,h,g){var y=U.p;U.p=y!==0&&8>y?y:8;var x=B.T,T={};B.T=T,ld(i,!1,a,c);try{var N=g(),V=B.S;if(V!==null&&V(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=XE(N,h);eo(i,a,$,An(i))}else eo(i,a,h,An(i))}catch(Q){eo(i,a,{then:function(){},status:"rejected",reason:Q},An())}finally{U.p=y,x!==null&&T.types!==null&&(x.types=T.types),B.T=x}}function ZE(){}function rd(i,a,c,h){if(i.tag!==5)throw Error(n(476));var g=Fy(i).queue;By(i,g,a,Z,c===null?ZE:function(){return jy(i),c(h)})}function Fy(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:Z},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function jy(i){var a=Fy(i);a.next===null&&(a=i.alternate.memoizedState),eo(i,a.next.queue,{},An())}function od(){return Pe(vo)}function Iy(){return pe().memoizedState}function Uy(){return pe().memoizedState}function JE(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=An();i=Ji(c);var h=ts(a,i,c);h!==null&&(sn(h,a,c),Wr(h,a,c)),a={cache:Bh()},i.payload=a;return}a=a.return}}function tT(i,a,c){var h=An();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},rc(i)?Vy(a,c):(c=Th(i,a,c,h),c!==null&&(sn(c,i,h),Hy(c,a,h)))}function zy(i,a,c){var h=An();eo(i,a,c,h)}function eo(i,a,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(rc(i))Vy(a,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var x=a.lastRenderedState,T=y(x,c);if(g.hasEagerState=!0,g.eagerState=T,pn(T,x))return Ul(i,a,g,0),Yt===null&&Il(),!1}catch{}finally{}if(c=Th(i,a,g,h),c!==null)return sn(c,i,h),Hy(c,a,h),!0}return!1}function ld(i,a,c,h){if(h={lane:2,revertLane:Ud(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},rc(i)){if(a)throw Error(n(479))}else a=Th(i,c,h,2),a!==null&&sn(a,i,2)}function rc(i){var a=i.alternate;return i===wt||a!==null&&a===wt}function Vy(i,a){Ba=Jl=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function Hy(i,a,c){if((c&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,$m(i,c)}}var no={readContext:Pe,use:nc,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};no.useEffectEvent=ue;var Gy={readContext:Pe,use:nc,useCallback:function(i,a){return Xe().memoizedState=[i,a===void 0?null:a],i},useContext:Pe,useEffect:_y,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,sc(4194308,4,Ly.bind(null,a,i),c)},useLayoutEffect:function(i,a){return sc(4194308,4,i,a)},useInsertionEffect:function(i,a){sc(4,2,i,a)},useMemo:function(i,a){var c=Xe();a=a===void 0?null:a;var h=i();if(Vs){qi(!0);try{i()}finally{qi(!1)}}return c.memoizedState=[h,a],h},useReducer:function(i,a,c){var h=Xe();if(c!==void 0){var g=c(a);if(Vs){qi(!0);try{c(a)}finally{qi(!1)}}}else g=a;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=tT.bind(null,wt,i),[h.memoizedState,i]},useRef:function(i){var a=Xe();return i={current:i},a.memoizedState=i},useState:function(i){i=ed(i);var a=i.queue,c=zy.bind(null,wt,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:sd,useDeferredValue:function(i,a){var c=Xe();return ad(c,i,a)},useTransition:function(){var i=ed(!1);return i=By.bind(null,wt,i.queue,!0,!1),Xe().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var h=wt,g=Xe();if(Nt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Yt===null)throw Error(n(349));(Dt&127)!==0||hy(h,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,_y(fy.bind(null,h,y,i),[i]),h.flags|=2048,ja(9,{destroy:void 0},dy.bind(null,h,y,c,a),null),c},useId:function(){var i=Xe(),a=Yt.identifierPrefix;if(Nt){var c=Jn,h=Zn;c=(h&~(1<<32-fn(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=tc++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=YE++,a="_"+a+"r_"+c.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:od,useFormState:xy,useActionState:xy,useOptimistic:function(i){var a=Xe();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=ld.bind(null,wt,!0,c),c.dispatch=a,[i,a]},useMemoCache:Zh,useCacheRefresh:function(){return Xe().memoizedState=JE.bind(null,wt)},useEffectEvent:function(i){var a=Xe(),c={impl:i};return a.memoizedState=c,function(){if((It&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},cd={readContext:Pe,use:nc,useCallback:Ny,useContext:Pe,useEffect:id,useImperativeHandle:Oy,useInsertionEffect:My,useLayoutEffect:Dy,useMemo:Py,useReducer:ic,useRef:Cy,useState:function(){return ic(Ei)},useDebugValue:sd,useDeferredValue:function(i,a){var c=pe();return ky(c,Ht.memoizedState,i,a)},useTransition:function(){var i=ic(Ei)[0],a=pe().memoizedState;return[typeof i=="boolean"?i:to(i),a]},useSyncExternalStore:uy,useId:Iy,useHostTransitionStatus:od,useFormState:wy,useActionState:wy,useOptimistic:function(i,a){var c=pe();return gy(c,Ht,i,a)},useMemoCache:Zh,useCacheRefresh:Uy};cd.useEffectEvent=Ry;var qy={readContext:Pe,use:nc,useCallback:Ny,useContext:Pe,useEffect:id,useImperativeHandle:Oy,useInsertionEffect:My,useLayoutEffect:Dy,useMemo:Py,useReducer:td,useRef:Cy,useState:function(){return td(Ei)},useDebugValue:sd,useDeferredValue:function(i,a){var c=pe();return Ht===null?ad(c,i,a):ky(c,Ht.memoizedState,i,a)},useTransition:function(){var i=td(Ei)[0],a=pe().memoizedState;return[typeof i=="boolean"?i:to(i),a]},useSyncExternalStore:uy,useId:Iy,useHostTransitionStatus:od,useFormState:Ty,useActionState:Ty,useOptimistic:function(i,a){var c=pe();return Ht!==null?gy(c,Ht,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:Uy};qy.useEffectEvent=Ry;function ud(i,a,c,h){a=i.memoizedState,c=c(h,a),c=c==null?a:m({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var hd={enqueueSetState:function(i,a,c){i=i._reactInternals;var h=An(),g=Ji(h);g.payload=a,c!=null&&(g.callback=c),a=ts(i,g,h),a!==null&&(sn(a,i,h),Wr(a,i,h))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var h=An(),g=Ji(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=ts(i,g,h),a!==null&&(sn(a,i,h),Wr(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=An(),h=Ji(c);h.tag=2,a!=null&&(h.callback=a),a=ts(i,h,c),a!==null&&(sn(a,i,c),Wr(a,i,c))}};function Xy(i,a,c,h,g,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,x):a.prototype&&a.prototype.isPureReactComponent?!Vr(c,h)||!Vr(g,y):!0}function Yy(i,a,c,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==i&&hd.enqueueReplaceState(a,a.state,null)}function Hs(i,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(i=i.defaultProps){c===a&&(c=m({},c));for(var g in i)c[g]===void 0&&(c[g]=i[g])}return c}function $y(i){jl(i)}function Ky(i){console.error(i)}function Wy(i){jl(i)}function oc(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Qy(i,a,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function dd(i,a,c){return c=Ji(c),c.tag=3,c.payload={element:null},c.callback=function(){oc(i,a)},c}function Zy(i){return i=Ji(i),i.tag=3,i}function Jy(i,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;i.payload=function(){return g(y)},i.callback=function(){Qy(a,c,h)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){Qy(a,c,h),typeof g!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var T=h.stack;this.componentDidCatch(h.value,{componentStack:T!==null?T:""})})}function eT(i,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Da(a,c,g,!0),c=gn.current,c!==null){switch(c.tag){case 31:case 13:return On===null?vc():c.alternate===null&&he===0&&(he=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===$l?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Fd(i,h,g)),!1;case 22:return c.flags|=65536,h===$l?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Fd(i,h,g)),!1}throw Error(n(435,c.tag))}return Fd(i,h,g),vc(),!1}if(Nt)return a=gn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Lh&&(i=Error(n(422),{cause:h}),qr(Rn(i,c)))):(h!==Lh&&(a=Error(n(423),{cause:h}),qr(Rn(a,c))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Rn(h,c),g=dd(i.stateNode,h,g),Vh(i,g),he!==4&&(he=2)),!1;var y=Error(n(520),{cause:h});if(y=Rn(y,c),uo===null?uo=[y]:uo.push(y),he!==4&&(he=2),a===null)return!0;h=Rn(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=g&-g,c.lanes|=i,i=dd(c.stateNode,h,i),Vh(c,i),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(rs===null||!rs.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Zy(g),Jy(g,i,c,h),Vh(c,g),!1}c=c.return}while(c!==null);return!1}var fd=Error(n(461)),Se=!1;function ke(i,a,c,h){a.child=i===null?iy(a,null,c,h):zs(a,i.child,c,h)}function t0(i,a,c,h,g){c=c.render;var y=a.ref;if("ref"in h){var x={};for(var T in h)T!=="ref"&&(x[T]=h[T])}else x=h;return Fs(a),h=$h(i,a,c,x,y,g),T=Kh(),i!==null&&!Se?(Wh(i,a,g),Ti(i,a,g)):(Nt&&T&&Mh(a),a.flags|=1,ke(i,a,h,g),a.child)}function e0(i,a,c,h,g){if(i===null){var y=c.type;return typeof y=="function"&&!Ch(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,n0(i,a,y,h,g)):(i=Vl(c.type,null,h,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!Sd(i,g)){var x=y.memoizedProps;if(c=c.compare,c=c!==null?c:Vr,c(x,h)&&i.ref===a.ref)return Ti(i,a,g)}return a.flags|=1,i=vi(y,h),i.ref=a.ref,i.return=a,a.child=i}function n0(i,a,c,h,g){if(i!==null){var y=i.memoizedProps;if(Vr(y,h)&&i.ref===a.ref)if(Se=!1,a.pendingProps=h=y,Sd(i,g))(i.flags&131072)!==0&&(Se=!0);else return a.lanes=i.lanes,Ti(i,a,g)}return pd(i,a,c,h,g)}function i0(i,a,c,h){var g=h.children,y=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,i!==null){for(h=a.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,a.child=null;return s0(i,a,y,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xl(a,y!==null?y.cachePool:null),y!==null?ry(a,y):Gh(),oy(a);else return h=a.lanes=536870912,s0(i,a,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(Xl(a,y.cachePool),ry(a,y),ns(),a.memoizedState=null):(i!==null&&Xl(a,null),Gh(),ns());return ke(i,a,g,c),a.child}function io(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function s0(i,a,c,h,g){var y=jh();return y=y===null?null:{parent:ve._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},i!==null&&Xl(a,null),Gh(),oy(a),i!==null&&Da(i,a,h,!0),a.childLanes=g,null}function lc(i,a){return a=uc({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function a0(i,a,c){return zs(a,i.child,null,c),i=lc(a,a.pendingProps),i.flags|=2,yn(a),a.memoizedState=null,i}function nT(i,a,c){var h=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Nt){if(h.mode==="hidden")return i=lc(a,h),a.lanes=536870912,io(null,i);if(Xh(a),(i=Qt)?(i=yb(i,Ln),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:$i!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},c=Vg(i),c.return=a,a.child=c,Ne=a,Qt=null)):i=null,i===null)throw Wi(a);return a.lanes=536870912,null}return lc(a,h)}var y=i.memoizedState;if(y!==null){var x=y.dehydrated;if(Xh(a),g)if(a.flags&256)a.flags&=-257,a=a0(i,a,c);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(n(558));else if(Se||Da(i,a,c,!1),g=(c&i.childLanes)!==0,Se||g){if(h=Yt,h!==null&&(x=Km(h,c),x!==0&&x!==y.retryLane))throw y.retryLane=x,Ns(i,x),sn(h,i,x),fd;vc(),a=a0(i,a,c)}else i=y.treeContext,Qt=Nn(x.nextSibling),Ne=a,Nt=!0,Ki=null,Ln=!1,i!==null&&qg(a,i),a=lc(a,h),a.flags|=4096;return a}return i=vi(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function cc(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function pd(i,a,c,h,g){return Fs(a),c=$h(i,a,c,h,void 0,g),h=Kh(),i!==null&&!Se?(Wh(i,a,g),Ti(i,a,g)):(Nt&&h&&Mh(a),a.flags|=1,ke(i,a,c,g),a.child)}function r0(i,a,c,h,g,y){return Fs(a),a.updateQueue=null,c=cy(a,h,c,g),ly(i),h=Kh(),i!==null&&!Se?(Wh(i,a,y),Ti(i,a,y)):(Nt&&h&&Mh(a),a.flags|=1,ke(i,a,c,y),a.child)}function o0(i,a,c,h,g){if(Fs(a),a.stateNode===null){var y=Ca,x=c.contextType;typeof x=="object"&&x!==null&&(y=Pe(x)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=hd,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Uh(a),x=c.contextType,y.context=typeof x=="object"&&x!==null?Pe(x):Ca,y.state=a.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(ud(a,c,x,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&hd.enqueueReplaceState(y,y.state,null),Zr(a,h,y,g),Qr(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){y=a.stateNode;var T=a.memoizedProps,N=Hs(c,T);y.props=N;var V=y.context,$=c.contextType;x=Ca,typeof $=="object"&&$!==null&&(x=Pe($));var Q=c.getDerivedStateFromProps;$=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,$||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||V!==x)&&Yy(a,y,h,x),Zi=!1;var H=a.memoizedState;y.state=H,Zr(a,h,y,g),Qr(),V=a.memoizedState,T||H!==V||Zi?(typeof Q=="function"&&(ud(a,c,Q,h),V=a.memoizedState),(N=Zi||Xy(a,c,N,h,H,V,x))?($||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=V),y.props=h,y.state=V,y.context=x,h=N):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,zh(i,a),x=a.memoizedProps,$=Hs(c,x),y.props=$,Q=a.pendingProps,H=y.context,V=c.contextType,N=Ca,typeof V=="object"&&V!==null&&(N=Pe(V)),T=c.getDerivedStateFromProps,(V=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==Q||H!==N)&&Yy(a,y,h,N),Zi=!1,H=a.memoizedState,y.state=H,Zr(a,h,y,g),Qr();var Y=a.memoizedState;x!==Q||H!==Y||Zi||i!==null&&i.dependencies!==null&&Gl(i.dependencies)?(typeof T=="function"&&(ud(a,c,T,h),Y=a.memoizedState),($=Zi||Xy(a,c,$,h,H,Y,N)||i!==null&&i.dependencies!==null&&Gl(i.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Y,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Y,N)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&H===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&H===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Y),y.props=h,y.state=Y,y.context=N,h=$):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&H===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&H===i.memoizedState||(a.flags|=1024),h=!1)}return y=h,cc(i,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&h?(a.child=zs(a,i.child,null,g),a.child=zs(a,null,c,g)):ke(i,a,c,g),a.memoizedState=y.state,i=a.child):i=Ti(i,a,g),i}function l0(i,a,c,h){return ks(),a.flags|=256,ke(i,a,c,h),a.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(i){return{baseLanes:i,cachePool:Qg()}}function yd(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=vn),i}function c0(i,a,c){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,x;if((x=y)||(x=i!==null&&i.memoizedState===null?!1:(fe.current&2)!==0),x&&(g=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,i===null){if(Nt){if(g?es(a):ns(),(i=Qt)?(i=yb(i,Ln),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:$i!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},c=Vg(i),c.return=a,a.child=c,Ne=a,Qt=null)):i=null,i===null)throw Wi(a);return Jd(i)?a.lanes=32:a.lanes=536870912,null}var T=h.children;return h=h.fallback,g?(ns(),g=a.mode,T=uc({mode:"hidden",children:T},g),h=Ps(h,g,c,null),T.return=a,h.return=a,T.sibling=h,a.child=T,h=a.child,h.memoizedState=gd(c),h.childLanes=yd(i,x,c),a.memoizedState=md,io(null,h)):(es(a),bd(a,T))}var N=i.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(y)a.flags&256?(es(a),a.flags&=-257,a=vd(i,a,c)):a.memoizedState!==null?(ns(),a.child=i.child,a.flags|=128,a=null):(ns(),T=h.fallback,g=a.mode,h=uc({mode:"visible",children:h.children},g),T=Ps(T,g,c,null),T.flags|=2,h.return=a,T.return=a,h.sibling=T,a.child=h,zs(a,i.child,null,c),h=a.child,h.memoizedState=gd(c),h.childLanes=yd(i,x,c),a.memoizedState=md,a=io(null,h));else if(es(a),Jd(T)){if(x=T.nextSibling&&T.nextSibling.dataset,x)var V=x.dgst;x=V,h=Error(n(419)),h.stack="",h.digest=x,qr({value:h,source:null,stack:null}),a=vd(i,a,c)}else if(Se||Da(i,a,c,!1),x=(c&i.childLanes)!==0,Se||x){if(x=Yt,x!==null&&(h=Km(x,c),h!==0&&h!==N.retryLane))throw N.retryLane=h,Ns(i,h),sn(x,i,h),fd;Zd(T)||vc(),a=vd(i,a,c)}else Zd(T)?(a.flags|=192,a.child=i.child,a=null):(i=N.treeContext,Qt=Nn(T.nextSibling),Ne=a,Nt=!0,Ki=null,Ln=!1,i!==null&&qg(a,i),a=bd(a,h.children),a.flags|=4096);return a}return g?(ns(),T=h.fallback,g=a.mode,N=i.child,V=N.sibling,h=vi(N,{mode:"hidden",children:h.children}),h.subtreeFlags=N.subtreeFlags&65011712,V!==null?T=vi(V,T):(T=Ps(T,g,c,null),T.flags|=2),T.return=a,h.return=a,h.sibling=T,a.child=h,io(null,h),h=a.child,T=i.child.memoizedState,T===null?T=gd(c):(g=T.cachePool,g!==null?(N=ve._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=Qg(),T={baseLanes:T.baseLanes|c,cachePool:g}),h.memoizedState=T,h.childLanes=yd(i,x,c),a.memoizedState=md,io(i.child,h)):(es(a),c=i.child,i=c.sibling,c=vi(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,i!==null&&(x=a.deletions,x===null?(a.deletions=[i],a.flags|=16):x.push(i)),a.child=c,a.memoizedState=null,c)}function bd(i,a){return a=uc({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function uc(i,a){return i=mn(22,i,null,a),i.lanes=0,i}function vd(i,a,c){return zs(a,i.child,null,c),i=bd(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function u0(i,a,c){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Ph(i.return,a,c)}function Ad(i,a,c,h,g,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:y}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=g,x.treeForkCount=y)}function h0(i,a,c){var h=a.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var x=fe.current,T=(x&2)!==0;if(T?(x=x&1|2,a.flags|=128):x&=1,tt(fe,x),ke(i,a,h,c),h=Nt?Gr:0,!T&&i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&u0(i,c,a);else if(i.tag===19)u0(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(c=a.child,g=null;c!==null;)i=c.alternate,i!==null&&Zl(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Ad(a,!1,g,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Zl(i)===null){a.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}Ad(a,!0,c,null,y,h);break;case"together":Ad(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Ti(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),as|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(Da(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,c=vi(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=vi(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function Sd(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Gl(i)))}function iT(i,a,c){switch(a.tag){case 3:Wt(a,a.stateNode.containerInfo),Qi(a,ve,i.memoizedState.cache),ks();break;case 27:case 5:Ut(a);break;case 4:Wt(a,a.stateNode.containerInfo);break;case 10:Qi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Xh(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(es(a),a.flags|=128,null):(c&a.child.childLanes)!==0?c0(i,a,c):(es(a),i=Ti(i,a,c),i!==null?i.sibling:null);es(a);break;case 19:var g=(i.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Da(i,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return h0(i,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),tt(fe,fe.current),h)break;return null;case 22:return a.lanes=0,i0(i,a,c,a.pendingProps);case 24:Qi(a,ve,i.memoizedState.cache)}return Ti(i,a,c)}function d0(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)Se=!0;else{if(!Sd(i,c)&&(a.flags&128)===0)return Se=!1,iT(i,a,c);Se=(i.flags&131072)!==0}else Se=!1,Nt&&(a.flags&1048576)!==0&&Gg(a,Gr,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(i=Is(a.elementType),a.type=i,typeof i=="function")Ch(i)?(h=Hs(i,h),a.tag=1,a=o0(null,a,i,h,c)):(a.tag=0,a=pd(null,a,i,h,c));else{if(i!=null){var g=i.$$typeof;if(g===D){a.tag=11,a=t0(null,a,i,h,c);break t}else if(g===O){a.tag=14,a=e0(null,a,i,h,c);break t}}throw a=nt(i)||i,Error(n(306,a,""))}}return a;case 0:return pd(i,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=Hs(h,a.pendingProps),o0(i,a,h,g,c);case 3:t:{if(Wt(a,a.stateNode.containerInfo),i===null)throw Error(n(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,zh(i,a),Zr(a,h,null,c);var x=a.memoizedState;if(h=x.cache,Qi(a,ve,h),h!==y.cache&&kh(a,[ve],c,!0),Qr(),h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=l0(i,a,h,c);break t}else if(h!==g){g=Rn(Error(n(424)),a),qr(g),a=l0(i,a,h,c);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Qt=Nn(i.firstChild),Ne=a,Nt=!0,Ki=null,Ln=!0,c=iy(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ks(),h===g){a=Ti(i,a,c);break t}ke(i,a,h,c)}a=a.child}return a;case 26:return cc(i,a),i===null?(c=wb(a.type,null,a.pendingProps,null))?a.memoizedState=c:Nt||(c=a.type,i=a.pendingProps,h=Cc(mt.current).createElement(c),h[Oe]=a,h[Qe]=i,Be(h,c,i),Ce(h),a.stateNode=h):a.memoizedState=wb(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ut(a),i===null&&Nt&&(h=a.stateNode=Ab(a.type,a.pendingProps,mt.current),Ne=a,Ln=!0,g=Qt,us(a.type)?(tf=g,Qt=Nn(h.firstChild)):Qt=g),ke(i,a,a.pendingProps.children,c),cc(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Nt&&((g=h=Qt)&&(h=NT(h,a.type,a.pendingProps,Ln),h!==null?(a.stateNode=h,Ne=a,Qt=Nn(h.firstChild),Ln=!1,g=!0):g=!1),g||Wi(a)),Ut(a),g=a.type,y=a.pendingProps,x=i!==null?i.memoizedProps:null,h=y.children,Kd(g,y)?h=null:x!==null&&Kd(g,x)&&(a.flags|=32),a.memoizedState!==null&&(g=$h(i,a,$E,null,null,c),vo._currentValue=g),cc(i,a),ke(i,a,h,c),a.child;case 6:return i===null&&Nt&&((i=c=Qt)&&(c=PT(c,a.pendingProps,Ln),c!==null?(a.stateNode=c,Ne=a,Qt=null,i=!0):i=!1),i||Wi(a)),null;case 13:return c0(i,a,c);case 4:return Wt(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=zs(a,null,h,c):ke(i,a,h,c),a.child;case 11:return t0(i,a,a.type,a.pendingProps,c);case 7:return ke(i,a,a.pendingProps,c),a.child;case 8:return ke(i,a,a.pendingProps.children,c),a.child;case 12:return ke(i,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Qi(a,a.type,h.value),ke(i,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Fs(a),g=Pe(g),h=h(g),a.flags|=1,ke(i,a,h,c),a.child;case 14:return e0(i,a,a.type,a.pendingProps,c);case 15:return n0(i,a,a.type,a.pendingProps,c);case 19:return h0(i,a,c);case 31:return nT(i,a,c);case 22:return i0(i,a,c,a.pendingProps);case 24:return Fs(a),h=Pe(ve),i===null?(g=jh(),g===null&&(g=Yt,y=Bh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),a.memoizedState={parent:h,cache:g},Uh(a),Qi(a,ve,g)):((i.lanes&c)!==0&&(zh(i,a),Zr(a,null,null,c),Qr()),g=i.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Qi(a,ve,h)):(h=y.cache,Qi(a,ve,h),h!==g.cache&&kh(a,[ve],c,!0))),ke(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function Ci(i){i.flags|=4}function xd(i,a,c,h,g){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(I0())i.flags|=8192;else throw Us=$l,Ih}else i.flags&=-16777217}function f0(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Rb(a))if(I0())i.flags|=8192;else throw Us=$l,Ih}function hc(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Xm():536870912,i.lanes|=a,Va|=a)}function so(i,a){if(!Nt)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Zt(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(a)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=c,a}function sT(i,a,c){var h=a.pendingProps;switch(Dh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(a),null;case 1:return Zt(a),null;case 3:return c=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),xi(ve),_t(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Ma(a)?Ci(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Oh())),Zt(a),null;case 26:var g=a.type,y=a.memoizedState;return i===null?(Ci(a),y!==null?(Zt(a),f0(a,y)):(Zt(a),xd(a,g,null,h,c))):y?y!==i.memoizedState?(Ci(a),Zt(a),f0(a,y)):(Zt(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Ci(a),Zt(a),xd(a,g,i,h,c)),null;case 27:if(We(a),c=mt.current,g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Ci(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return Zt(a),null}i=et.current,Ma(a)?Xg(a):(i=Ab(g,h,c),a.stateNode=i,Ci(a))}return Zt(a),null;case 5:if(We(a),g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Ci(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return Zt(a),null}if(y=et.current,Ma(a))Xg(a);else{var x=Cc(mt.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?x.createElement(g,{is:h.is}):x.createElement(g)}}y[Oe]=a,y[Qe]=h;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=y;t:switch(Be(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ci(a)}}return Zt(a),xd(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,c),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Ci(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(i=mt.current,Ma(a)){if(i=a.stateNode,c=a.memoizedProps,h=null,g=Ne,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Oe]=a,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||cb(i.nodeValue,c)),i||Wi(a,!0)}else i=Cc(i).createTextNode(h),i[Oe]=a,a.stateNode=i}return Zt(a),null;case 31:if(c=a.memoizedState,i===null||i.memoizedState!==null){if(h=Ma(a),c!==null){if(i===null){if(!h)throw Error(n(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Oe]=a}else ks(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),i=!1}else c=Oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return a.flags&256?(yn(a),a):(yn(a),null);if((a.flags&128)!==0)throw Error(n(558))}return Zt(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Ma(a),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Oe]=a}else ks(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),g=!1}else g=Oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(yn(a),a):(yn(a),null)}return yn(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),c!==i&&c&&(a.child.flags|=8192),hc(a,a.updateQueue),Zt(a),null);case 4:return _t(),i===null&&Gd(a.stateNode.containerInfo),Zt(a),null;case 10:return xi(a.type),Zt(a),null;case 19:if(q(fe),h=a.memoizedState,h===null)return Zt(a),null;if(g=(a.flags&128)!==0,y=h.rendering,y===null)if(g)so(h,!1);else{if(he!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Zl(i),y!==null){for(a.flags|=128,so(h,!1),i=y.updateQueue,a.updateQueue=i,hc(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)zg(c,i),c=c.sibling;return tt(fe,fe.current&1|2),Nt&&Ai(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&qe()>gc&&(a.flags|=128,g=!0,so(h,!1),a.lanes=4194304)}else{if(!g)if(i=Zl(y),i!==null){if(a.flags|=128,g=!0,i=i.updateQueue,a.updateQueue=i,hc(a,i),so(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Nt)return Zt(a),null}else 2*qe()-h.renderingStartTime>gc&&c!==536870912&&(a.flags|=128,g=!0,so(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(i=h.last,i!==null?i.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=qe(),i.sibling=null,c=fe.current,tt(fe,g?c&1|2:c&1),Nt&&Ai(a,h.treeForkCount),i):(Zt(a),null);case 22:case 23:return yn(a),qh(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(Zt(a),a.subtreeFlags&6&&(a.flags|=8192)):Zt(a),c=a.updateQueue,c!==null&&hc(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),i!==null&&q(js),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),xi(ve),Zt(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function aT(i,a){switch(Dh(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return xi(ve),_t(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 31:if(a.memoizedState!==null){if(yn(a),a.alternate===null)throw Error(n(340));ks()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(yn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ks()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return q(fe),null;case 4:return _t(),null;case 10:return xi(a.type),null;case 22:case 23:return yn(a),qh(),i!==null&&q(js),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return xi(ve),null;case 25:return null;default:return null}}function p0(i,a){switch(Dh(a),a.tag){case 3:xi(ve),_t();break;case 26:case 27:case 5:We(a);break;case 4:_t();break;case 31:a.memoizedState!==null&&yn(a);break;case 13:yn(a);break;case 19:q(fe);break;case 10:xi(a.type);break;case 22:case 23:yn(a),qh(),i!==null&&q(js);break;case 24:xi(ve)}}function ao(i,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&i)===i){h=void 0;var y=c.create,x=c.inst;h=y(),x.destroy=h}c=c.next}while(c!==g)}}catch(T){Vt(a,a.return,T)}}function is(i,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&i)===i){var x=h.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,g=a;var N=c,V=T;try{V()}catch($){Vt(g,N,$)}}}h=h.next}while(h!==y)}}catch($){Vt(a,a.return,$)}}function m0(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{ay(a,c)}catch(h){Vt(i,i.return,h)}}}function g0(i,a,c){c.props=Hs(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){Vt(i,a,h)}}function ro(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(g){Vt(i,a,g)}}function ti(i,a){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){Vt(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Vt(i,a,g)}else c.current=null}function y0(i){var a=i.type,c=i.memoizedProps,h=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){Vt(i,i.return,g)}}function wd(i,a,c){try{var h=i.stateNode;_T(h,i.type,c,a),h[Qe]=a}catch(g){Vt(i,i.return,g)}}function b0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&us(i.type)||i.tag===4}function Ed(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||b0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&us(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Td(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=yi));else if(h!==4&&(h===27&&us(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(Td(i,a,c),i=i.sibling;i!==null;)Td(i,a,c),i=i.sibling}function dc(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(h!==4&&(h===27&&us(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(dc(i,a,c),i=i.sibling;i!==null;)dc(i,a,c),i=i.sibling}function v0(i){var a=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Be(a,h,c),a[Oe]=i,a[Qe]=c}catch(y){Vt(i,i.return,y)}}var _i=!1,xe=!1,Cd=!1,A0=typeof WeakSet=="function"?WeakSet:Set,_e=null;function rT(i,a){if(i=i.containerInfo,Yd=Nc,i=Og(i),vh(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else t:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var x=0,T=-1,N=-1,V=0,$=0,Q=i,H=null;e:for(;;){for(var Y;Q!==c||g!==0&&Q.nodeType!==3||(T=x+g),Q!==y||h!==0&&Q.nodeType!==3||(N=x+h),Q.nodeType===3&&(x+=Q.nodeValue.length),(Y=Q.firstChild)!==null;)H=Q,Q=Y;for(;;){if(Q===i)break e;if(H===c&&++V===g&&(T=x),H===y&&++$===h&&(N=x),(Y=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=Y}c=T===-1||N===-1?null:{start:T,end:N}}else c=null}c=c||{start:0,end:0}}else c=null;for($d={focusedElem:i,selectionRange:c},Nc=!1,_e=a;_e!==null;)if(a=_e,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,_e=i;else for(;_e!==null;){switch(a=_e,y=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)g=i[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=a,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var at=Hs(c.type,g);i=h.getSnapshotBeforeUpdate(at,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(yt){Vt(c,c.return,yt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)Qd(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Qd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=a.sibling,i!==null){i.return=a.return,_e=i;break}_e=a.return}}function S0(i,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Mi(i,c),h&4&&ao(5,c);break;case 1:if(Mi(i,c),h&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(x){Vt(c,c.return,x)}else{var g=Hs(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Vt(c,c.return,x)}}h&64&&m0(c),h&512&&ro(c,c.return);break;case 3:if(Mi(i,c),h&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{ay(i,a)}catch(x){Vt(c,c.return,x)}}break;case 27:a===null&&h&4&&v0(c);case 26:case 5:Mi(i,c),a===null&&h&4&&y0(c),h&512&&ro(c,c.return);break;case 12:Mi(i,c);break;case 31:Mi(i,c),h&4&&E0(i,c);break;case 13:Mi(i,c),h&4&&T0(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=mT.bind(null,c),kT(i,c))));break;case 22:if(h=c.memoizedState!==null||_i,!h){a=a!==null&&a.memoizedState!==null||xe,g=_i;var y=xe;_i=h,(xe=a)&&!y?Di(i,c,(c.subtreeFlags&8772)!==0):Mi(i,c),_i=g,xe=y}break;case 30:break;default:Mi(i,c)}}function x0(i){var a=i.alternate;a!==null&&(i.alternate=null,x0(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&nh(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,Je=!1;function Ri(i,a,c){for(c=c.child;c!==null;)w0(i,a,c),c=c.sibling}function w0(i,a,c){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Dr,c)}catch{}switch(c.tag){case 26:xe||ti(c,a),Ri(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:xe||ti(c,a);var h=Jt,g=Je;us(c.type)&&(Jt=c.stateNode,Je=!1),Ri(i,a,c),go(c.stateNode),Jt=h,Je=g;break;case 5:xe||ti(c,a);case 6:if(h=Jt,g=Je,Jt=null,Ri(i,a,c),Jt=h,Je=g,Jt!==null)if(Je)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(c.stateNode)}catch(y){Vt(c,a,y)}else try{Jt.removeChild(c.stateNode)}catch(y){Vt(c,a,y)}break;case 18:Jt!==null&&(Je?(i=Jt,mb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Wa(i)):mb(Jt,c.stateNode));break;case 4:h=Jt,g=Je,Jt=c.stateNode.containerInfo,Je=!0,Ri(i,a,c),Jt=h,Je=g;break;case 0:case 11:case 14:case 15:is(2,c,a),xe||is(4,c,a),Ri(i,a,c);break;case 1:xe||(ti(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&g0(c,a,h)),Ri(i,a,c);break;case 21:Ri(i,a,c);break;case 22:xe=(h=xe)||c.memoizedState!==null,Ri(i,a,c),xe=h;break;default:Ri(i,a,c)}}function E0(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Wa(i)}catch(c){Vt(a,a.return,c)}}}function T0(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wa(i)}catch(c){Vt(a,a.return,c)}}function oT(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new A0),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new A0),a;default:throw Error(n(435,i.tag))}}function fc(i,a){var c=oT(i);a.forEach(function(h){if(!c.has(h)){c.add(h);var g=gT.bind(null,i,h);h.then(g,g)}})}function tn(i,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=i,x=a,T=x;t:for(;T!==null;){switch(T.tag){case 27:if(us(T.type)){Jt=T.stateNode,Je=!1;break t}break;case 5:Jt=T.stateNode,Je=!1;break t;case 3:case 4:Jt=T.stateNode.containerInfo,Je=!0;break t}T=T.return}if(Jt===null)throw Error(n(160));w0(y,x,g),Jt=null,Je=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)C0(a,i),a=a.sibling}var qn=null;function C0(i,a){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:tn(a,i),en(i),h&4&&(is(3,i,i.return),ao(3,i),is(5,i,i.return));break;case 1:tn(a,i),en(i),h&512&&(xe||c===null||ti(c,c.return)),h&64&&_i&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=qn;if(tn(a,i),en(i),h&512&&(xe||c===null||ti(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){t:{h=i.type,c=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Nr]||y[Oe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Be(y,h,c),y[Oe]=i,Ce(y),h=y;break t;case"link":var x=Cb("link","href",g).get(h+(c.href||""));if(x){for(var T=0;T<x.length;T++)if(y=x[T],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(T,1);break e}}y=g.createElement(h),Be(y,h,c),g.head.appendChild(y);break;case"meta":if(x=Cb("meta","content",g).get(h+(c.content||""))){for(T=0;T<x.length;T++)if(y=x[T],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(T,1);break e}}y=g.createElement(h),Be(y,h,c),g.head.appendChild(y);break;default:throw Error(n(468,h))}y[Oe]=i,Ce(y),h=y}i.stateNode=h}else _b(g,i.type,i.stateNode);else i.stateNode=Tb(g,h,i.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?_b(g,i.type,i.stateNode):Tb(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&wd(i,i.memoizedProps,c.memoizedProps)}break;case 27:tn(a,i),en(i),h&512&&(xe||c===null||ti(c,c.return)),c!==null&&h&4&&wd(i,i.memoizedProps,c.memoizedProps);break;case 5:if(tn(a,i),en(i),h&512&&(xe||c===null||ti(c,c.return)),i.flags&32){g=i.stateNode;try{va(g,"")}catch(at){Vt(i,i.return,at)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,wd(i,g,c!==null?c.memoizedProps:g)),h&1024&&(Cd=!0);break;case 6:if(tn(a,i),en(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(at){Vt(i,i.return,at)}}break;case 3:if(Mc=null,g=qn,qn=_c(a.containerInfo),tn(a,i),qn=g,en(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Wa(a.containerInfo)}catch(at){Vt(i,i.return,at)}Cd&&(Cd=!1,_0(i));break;case 4:h=qn,qn=_c(i.stateNode.containerInfo),tn(a,i),en(i),qn=h;break;case 12:tn(a,i),en(i);break;case 31:tn(a,i),en(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,fc(i,h)));break;case 13:tn(a,i),en(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(mc=qe()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,fc(i,h)));break;case 22:g=i.memoizedState!==null;var N=c!==null&&c.memoizedState!==null,V=_i,$=xe;if(_i=V||g,xe=$||N,tn(a,i),xe=$,_i=V,en(i),h&8192)t:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||N||_i||xe||Gs(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){N=c=a;try{if(y=N.stateNode,g)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{T=N.stateNode;var Q=N.memoizedProps.style,H=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(at){Vt(N,N.return,at)}}}else if(a.tag===6){if(c===null){N=a;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(at){Vt(N,N.return,at)}}}else if(a.tag===18){if(c===null){N=a;try{var Y=N.stateNode;g?gb(Y,!0):gb(N.stateNode,!1)}catch(at){Vt(N,N.return,at)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,fc(i,c))));break;case 19:tn(a,i),en(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,fc(i,h)));break;case 30:break;case 21:break;default:tn(a,i),en(i)}}function en(i){var a=i.flags;if(a&2){try{for(var c,h=i.return;h!==null;){if(b0(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var g=c.stateNode,y=Ed(i);dc(i,y,g);break;case 5:var x=c.stateNode;c.flags&32&&(va(x,""),c.flags&=-33);var T=Ed(i);dc(i,T,x);break;case 3:case 4:var N=c.stateNode.containerInfo,V=Ed(i);Td(i,V,N);break;default:throw Error(n(161))}}catch($){Vt(i,i.return,$)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function _0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;_0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Mi(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)S0(i,a.alternate,a),a=a.sibling}function Gs(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:is(4,a,a.return),Gs(a);break;case 1:ti(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&g0(a,a.return,c),Gs(a);break;case 27:go(a.stateNode);case 26:case 5:ti(a,a.return),Gs(a);break;case 22:a.memoizedState===null&&Gs(a);break;case 30:Gs(a);break;default:Gs(a)}i=i.sibling}}function Di(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=i,y=a,x=y.flags;switch(y.tag){case 0:case 11:case 15:Di(g,y,c),ao(4,y);break;case 1:if(Di(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(V){Vt(h,h.return,V)}if(h=y,g=h.updateQueue,g!==null){var T=h.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)sy(N[g],T)}catch(V){Vt(h,h.return,V)}}c&&x&64&&m0(y),ro(y,y.return);break;case 27:v0(y);case 26:case 5:Di(g,y,c),c&&h===null&&x&4&&y0(y),ro(y,y.return);break;case 12:Di(g,y,c);break;case 31:Di(g,y,c),c&&x&4&&E0(g,y);break;case 13:Di(g,y,c),c&&x&4&&T0(g,y);break;case 22:y.memoizedState===null&&Di(g,y,c),ro(y,y.return);break;case 30:break;default:Di(g,y,c)}a=a.sibling}}function _d(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Xr(c))}function Rd(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Xr(i))}function Xn(i,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)R0(i,a,c,h),a=a.sibling}function R0(i,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Xn(i,a,c,h),g&2048&&ao(9,a);break;case 1:Xn(i,a,c,h);break;case 3:Xn(i,a,c,h),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Xr(i)));break;case 12:if(g&2048){Xn(i,a,c,h),i=a.stateNode;try{var y=a.memoizedProps,x=y.id,T=y.onPostCommit;typeof T=="function"&&T(x,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Vt(a,a.return,N)}}else Xn(i,a,c,h);break;case 31:Xn(i,a,c,h);break;case 13:Xn(i,a,c,h);break;case 23:break;case 22:y=a.stateNode,x=a.alternate,a.memoizedState!==null?y._visibility&2?Xn(i,a,c,h):oo(i,a):y._visibility&2?Xn(i,a,c,h):(y._visibility|=2,Ia(i,a,c,h,(a.subtreeFlags&10256)!==0||!1)),g&2048&&_d(x,a);break;case 24:Xn(i,a,c,h),g&2048&&Rd(a.alternate,a);break;default:Xn(i,a,c,h)}}function Ia(i,a,c,h,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=i,x=a,T=c,N=h,V=x.flags;switch(x.tag){case 0:case 11:case 15:Ia(y,x,T,N,g),ao(8,x);break;case 23:break;case 22:var $=x.stateNode;x.memoizedState!==null?$._visibility&2?Ia(y,x,T,N,g):oo(y,x):($._visibility|=2,Ia(y,x,T,N,g)),g&&V&2048&&_d(x.alternate,x);break;case 24:Ia(y,x,T,N,g),g&&V&2048&&Rd(x.alternate,x);break;default:Ia(y,x,T,N,g)}a=a.sibling}}function oo(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,h=a,g=h.flags;switch(h.tag){case 22:oo(c,h),g&2048&&_d(h.alternate,h);break;case 24:oo(c,h),g&2048&&Rd(h.alternate,h);break;default:oo(c,h)}a=a.sibling}}var lo=8192;function Ua(i,a,c){if(i.subtreeFlags&lo)for(i=i.child;i!==null;)M0(i,a,c),i=i.sibling}function M0(i,a,c){switch(i.tag){case 26:Ua(i,a,c),i.flags&lo&&i.memoizedState!==null&&YT(c,qn,i.memoizedState,i.memoizedProps);break;case 5:Ua(i,a,c);break;case 3:case 4:var h=qn;qn=_c(i.stateNode.containerInfo),Ua(i,a,c),qn=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=lo,lo=16777216,Ua(i,a,c),lo=h):Ua(i,a,c));break;default:Ua(i,a,c)}}function D0(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function co(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];_e=h,O0(h,i)}D0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)L0(i),i=i.sibling}function L0(i){switch(i.tag){case 0:case 11:case 15:co(i),i.flags&2048&&is(9,i,i.return);break;case 3:co(i);break;case 12:co(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,pc(i)):co(i);break;default:co(i)}}function pc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];_e=h,O0(h,i)}D0(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:is(8,a,a.return),pc(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,pc(a));break;default:pc(a)}i=i.sibling}}function O0(i,a){for(;_e!==null;){var c=_e;switch(c.tag){case 0:case 11:case 15:is(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Xr(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,_e=h;else t:for(c=i;_e!==null;){h=_e;var g=h.sibling,y=h.return;if(x0(h),h===c){_e=null;break t}if(g!==null){g.return=y,_e=g;break t}_e=y}}}var lT={getCacheForType:function(i){var a=Pe(ve),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c},cacheSignal:function(){return Pe(ve).controller.signal}},cT=typeof WeakMap=="function"?WeakMap:Map,It=0,Yt=null,Rt=null,Dt=0,zt=0,bn=null,ss=!1,za=!1,Md=!1,Li=0,he=0,as=0,qs=0,Dd=0,vn=0,Va=0,uo=null,nn=null,Ld=!1,mc=0,N0=0,gc=1/0,yc=null,rs=null,Te=0,os=null,Ha=null,Oi=0,Od=0,Nd=null,P0=null,ho=0,Pd=null;function An(){return(It&2)!==0&&Dt!==0?Dt&-Dt:B.T!==null?Ud():Wm()}function k0(){if(vn===0)if((Dt&536870912)===0||Nt){var i=Tl;Tl<<=1,(Tl&3932160)===0&&(Tl=262144),vn=i}else vn=536870912;return i=gn.current,i!==null&&(i.flags|=32),vn}function sn(i,a,c){(i===Yt&&(zt===2||zt===9)||i.cancelPendingCommit!==null)&&(Ga(i,0),ls(i,Dt,vn,!1)),Or(i,c),((It&2)===0||i!==Yt)&&(i===Yt&&((It&2)===0&&(qs|=c),he===4&&ls(i,Dt,vn,!1)),ei(i))}function B0(i,a,c){if((It&6)!==0)throw Error(n(327));var h=!c&&(a&127)===0&&(a&i.expiredLanes)===0||Lr(i,a),g=h?dT(i,a):Bd(i,a,!0),y=h;do{if(g===0){za&&!h&&ls(i,a,0,!1);break}else{if(c=i.current.alternate,y&&!uT(c)){g=Bd(i,a,!1),y=!1;continue}if(g===2){if(y=a,i.errorRecoveryDisabledLanes&y)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var T=i;g=uo;var N=T.current.memoizedState.isDehydrated;if(N&&(Ga(T,x).flags|=256),x=Bd(T,x,!1),x!==2){if(Md&&!N){T.errorRecoveryDisabledLanes|=y,qs|=y,g=4;break t}y=nn,nn=g,y!==null&&(nn===null?nn=y:nn.push.apply(nn,y))}g=x}if(y=!1,g!==2)continue}}if(g===1){Ga(i,0),ls(i,a,0,!0);break}t:{switch(h=i,y=g,y){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:ls(h,a,vn,!ss);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(g=mc+300-qe(),10<g)){if(ls(h,a,vn,!ss),_l(h,0,!0)!==0)break t;Oi=a,h.timeoutHandle=fb(F0.bind(null,h,c,nn,yc,Ld,a,vn,qs,Va,ss,y,"Throttled",-0,0),g);break t}F0(h,c,nn,yc,Ld,a,vn,qs,Va,ss,y,null,-0,0)}}break}while(!0);ei(i)}function F0(i,a,c,h,g,y,x,T,N,V,$,Q,H,Y){if(i.timeoutHandle=-1,Q=a.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},M0(a,y,Q);var at=(y&62914560)===y?mc-qe():(y&4194048)===y?N0-qe():0;if(at=$T(Q,at),at!==null){Oi=y,i.cancelPendingCommit=at(q0.bind(null,i,a,y,c,h,g,x,T,N,$,Q,null,H,Y)),ls(i,y,x,!V);return}}q0(i,a,y,c,h,g,x,T,N)}function uT(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!pn(y(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ls(i,a,c,h){a&=~Dd,a&=~qs,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var g=a;0<g;){var y=31-fn(g),x=1<<y;h[y]=-1,g&=~x}c!==0&&Ym(i,c,a)}function bc(){return(It&6)===0?(fo(0),!1):!0}function kd(){if(Rt!==null){if(zt===0)var i=Rt.return;else i=Rt,Si=Bs=null,Qh(i),Pa=null,$r=0,i=Rt;for(;i!==null;)p0(i.alternate,i),i=i.return;Rt=null}}function Ga(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,DT(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Oi=0,kd(),Yt=i,Rt=c=vi(i.current,null),Dt=a,zt=0,bn=null,ss=!1,za=Lr(i,a),Md=!1,Va=vn=Dd=qs=as=he=0,nn=uo=null,Ld=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var g=31-fn(h),y=1<<g;a|=i[g],h&=~y}return Li=a,Il(),c}function j0(i,a){wt=null,B.H=no,a===Na||a===Yl?(a=ty(),zt=3):a===Ih?(a=ty(),zt=4):zt=a===fd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,bn=a,Rt===null&&(he=1,oc(i,Rn(a,i.current)))}function I0(){var i=gn.current;return i===null?!0:(Dt&4194048)===Dt?On===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?i===On:!1}function U0(){var i=B.H;return B.H=no,i===null?no:i}function z0(){var i=B.A;return B.A=lT,i}function vc(){he=4,ss||(Dt&4194048)!==Dt&&gn.current!==null||(za=!0),(as&134217727)===0&&(qs&134217727)===0||Yt===null||ls(Yt,Dt,vn,!1)}function Bd(i,a,c){var h=It;It|=2;var g=U0(),y=z0();(Yt!==i||Dt!==a)&&(yc=null,Ga(i,a)),a=!1;var x=he;t:do try{if(zt!==0&&Rt!==null){var T=Rt,N=bn;switch(zt){case 8:kd(),x=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(a=!0);var V=zt;if(zt=0,bn=null,qa(i,T,N,V),c&&za){x=0;break t}break;default:V=zt,zt=0,bn=null,qa(i,T,N,V)}}hT(),x=he;break}catch($){j0(i,$)}while(!0);return a&&i.shellSuspendCounter++,Si=Bs=null,It=h,B.H=g,B.A=y,Rt===null&&(Yt=null,Dt=0,Il()),x}function hT(){for(;Rt!==null;)V0(Rt)}function dT(i,a){var c=It;It|=2;var h=U0(),g=z0();Yt!==i||Dt!==a?(yc=null,gc=qe()+500,Ga(i,a)):za=Lr(i,a);t:do try{if(zt!==0&&Rt!==null){a=Rt;var y=bn;e:switch(zt){case 1:zt=0,bn=null,qa(i,a,y,1);break;case 2:case 9:if(Zg(y)){zt=0,bn=null,H0(a);break}a=function(){zt!==2&&zt!==9||Yt!==i||(zt=7),ei(i)},y.then(a,a);break t;case 3:zt=7;break t;case 4:zt=5;break t;case 7:Zg(y)?(zt=0,bn=null,H0(a)):(zt=0,bn=null,qa(i,a,y,7));break;case 5:var x=null;switch(Rt.tag){case 26:x=Rt.memoizedState;case 5:case 27:var T=Rt;if(x?Rb(x):T.stateNode.complete){zt=0,bn=null;var N=T.sibling;if(N!==null)Rt=N;else{var V=T.return;V!==null?(Rt=V,Ac(V)):Rt=null}break e}}zt=0,bn=null,qa(i,a,y,5);break;case 6:zt=0,bn=null,qa(i,a,y,6);break;case 8:kd(),he=6;break t;default:throw Error(n(462))}}fT();break}catch($){j0(i,$)}while(!0);return Si=Bs=null,B.H=h,B.A=g,It=c,Rt!==null?0:(Yt=null,Dt=0,Il(),he)}function fT(){for(;Rt!==null&&!Ku();)V0(Rt)}function V0(i){var a=d0(i.alternate,i,Li);i.memoizedProps=i.pendingProps,a===null?Ac(i):Rt=a}function H0(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=r0(c,a,a.pendingProps,a.type,void 0,Dt);break;case 11:a=r0(c,a,a.pendingProps,a.type.render,a.ref,Dt);break;case 5:Qh(a);default:p0(c,a),a=Rt=zg(a,Li),a=d0(c,a,Li)}i.memoizedProps=i.pendingProps,a===null?Ac(i):Rt=a}function qa(i,a,c,h){Si=Bs=null,Qh(a),Pa=null,$r=0;var g=a.return;try{if(eT(i,g,a,c,Dt)){he=1,oc(i,Rn(c,i.current)),Rt=null;return}}catch(y){if(g!==null)throw Rt=g,y;he=1,oc(i,Rn(c,i.current)),Rt=null;return}a.flags&32768?(Nt||h===1?i=!0:za||(Dt&536870912)!==0?i=!1:(ss=i=!0,(h===2||h===9||h===3||h===6)&&(h=gn.current,h!==null&&h.tag===13&&(h.flags|=16384))),G0(a,i)):Ac(a)}function Ac(i){var a=i;do{if((a.flags&32768)!==0){G0(a,ss);return}i=a.return;var c=sT(a.alternate,a,Li);if(c!==null){Rt=c;return}if(a=a.sibling,a!==null){Rt=a;return}Rt=a=i}while(a!==null);he===0&&(he=5)}function G0(i,a){do{var c=aT(i.alternate,i);if(c!==null){c.flags&=32767,Rt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){Rt=i;return}Rt=i=c}while(i!==null);he=6,Rt=null}function q0(i,a,c,h,g,y,x,T,N){i.cancelPendingCommit=null;do Sc();while(Te!==0);if((It&6)!==0)throw Error(n(327));if(a!==null){if(a===i.current)throw Error(n(177));if(y=a.lanes|a.childLanes,y|=Eh,X1(i,c,y,x,T,N),i===Yt&&(Rt=Yt=null,Dt=0),Ha=a,os=i,Oi=c,Od=y,Nd=g,P0=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yT(Hn,function(){return W0(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,g=U.p,U.p=2,x=It,It|=4;try{rT(i,a,c)}finally{It=x,U.p=g,B.T=h}}Te=1,X0(),Y0(),$0()}}function X0(){if(Te===1){Te=0;var i=os,a=Ha,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var h=U.p;U.p=2;var g=It;It|=4;try{C0(a,i);var y=$d,x=Og(i.containerInfo),T=y.focusedElem,N=y.selectionRange;if(x!==T&&T&&T.ownerDocument&&Lg(T.ownerDocument.documentElement,T)){if(N!==null&&vh(T)){var V=N.start,$=N.end;if($===void 0&&($=V),"selectionStart"in T)T.selectionStart=V,T.selectionEnd=Math.min($,T.value.length);else{var Q=T.ownerDocument||document,H=Q&&Q.defaultView||window;if(H.getSelection){var Y=H.getSelection(),at=T.textContent.length,yt=Math.min(N.start,at),qt=N.end===void 0?yt:Math.min(N.end,at);!Y.extend&&yt>qt&&(x=qt,qt=yt,yt=x);var I=Dg(T,yt),F=Dg(T,qt);if(I&&F&&(Y.rangeCount!==1||Y.anchorNode!==I.node||Y.anchorOffset!==I.offset||Y.focusNode!==F.node||Y.focusOffset!==F.offset)){var z=Q.createRange();z.setStart(I.node,I.offset),Y.removeAllRanges(),yt>qt?(Y.addRange(z),Y.extend(F.node,F.offset)):(z.setEnd(F.node,F.offset),Y.addRange(z))}}}}for(Q=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&Q.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var K=Q[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!Yd,$d=Yd=null}finally{It=g,U.p=h,B.T=c}}i.current=a,Te=2}}function Y0(){if(Te===2){Te=0;var i=os,a=Ha,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var h=U.p;U.p=2;var g=It;It|=4;try{S0(i,a.alternate,a)}finally{It=g,U.p=h,B.T=c}}Te=3}}function $0(){if(Te===4||Te===3){Te=0,Wu();var i=os,a=Ha,c=Oi,h=P0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Te=5:(Te=0,Ha=os=null,K0(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(rs=null),th(c),a=a.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Dr,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=B.T,g=U.p,U.p=2,B.T=null;try{for(var y=i.onRecoverableError,x=0;x<h.length;x++){var T=h[x];y(T.value,{componentStack:T.stack})}}finally{B.T=a,U.p=g}}(Oi&3)!==0&&Sc(),ei(i),g=i.pendingLanes,(c&261930)!==0&&(g&42)!==0?i===Pd?ho++:(ho=0,Pd=i):ho=0,fo(0)}}function K0(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Xr(a)))}function Sc(){return X0(),Y0(),$0(),W0()}function W0(){if(Te!==5)return!1;var i=os,a=Od;Od=0;var c=th(Oi),h=B.T,g=U.p;try{U.p=32>c?32:c,B.T=null,c=Nd,Nd=null;var y=os,x=Oi;if(Te=0,Ha=os=null,Oi=0,(It&6)!==0)throw Error(n(331));var T=It;if(It|=4,L0(y.current),R0(y,y.current,x,c),It=T,fo(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Dr,y)}catch{}return!0}finally{U.p=g,B.T=h,K0(i,a)}}function Q0(i,a,c){a=Rn(c,a),a=dd(i.stateNode,a,2),i=ts(i,a,2),i!==null&&(Or(i,2),ei(i))}function Vt(i,a,c){if(i.tag===3)Q0(i,i,c);else for(;a!==null;){if(a.tag===3){Q0(a,i,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(rs===null||!rs.has(h))){i=Rn(c,i),c=Zy(2),h=ts(a,c,2),h!==null&&(Jy(c,h,a,i),Or(h,2),ei(h));break}}a=a.return}}function Fd(i,a,c){var h=i.pingCache;if(h===null){h=i.pingCache=new cT;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(Md=!0,g.add(c),i=pT.bind(null,i,a,c),a.then(i,i))}function pT(i,a,c){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Yt===i&&(Dt&c)===c&&(he===4||he===3&&(Dt&62914560)===Dt&&300>qe()-mc?(It&2)===0&&Ga(i,0):Dd|=c,Va===Dt&&(Va=0)),ei(i)}function Z0(i,a){a===0&&(a=Xm()),i=Ns(i,a),i!==null&&(Or(i,a),ei(i))}function mT(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),Z0(i,c)}function gT(i,a){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(a),Z0(i,c)}function yT(i,a){return Mr(i,a)}var xc=null,Xa=null,jd=!1,wc=!1,Id=!1,cs=0;function ei(i){i!==Xa&&i.next===null&&(Xa===null?xc=Xa=i:Xa=Xa.next=i),wc=!0,jd||(jd=!0,vT())}function fo(i,a){if(!Id&&wc){Id=!0;do for(var c=!1,h=xc;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var x=h.suspendedLanes,T=h.pingedLanes;y=(1<<31-fn(42|i)+1)-1,y&=g&~(x&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,nb(h,y))}else y=Dt,y=_l(h,h===Yt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Lr(h,y)||(c=!0,nb(h,y));h=h.next}while(c);Id=!1}}function bT(){J0()}function J0(){wc=jd=!1;var i=0;cs!==0&&MT()&&(i=cs);for(var a=qe(),c=null,h=xc;h!==null;){var g=h.next,y=tb(h,a);y===0?(h.next=null,c===null?xc=g:c.next=g,g===null&&(Xa=c)):(c=h,(i!==0||(y&3)!==0)&&(wc=!0)),h=g}Te!==0&&Te!==5||fo(i),cs!==0&&(cs=0)}function tb(i,a){for(var c=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var x=31-fn(y),T=1<<x,N=g[x];N===-1?((T&c)===0||(T&h)!==0)&&(g[x]=q1(T,a)):N<=a&&(i.expiredLanes|=T),y&=~T}if(a=Yt,c=Dt,c=_l(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===a&&(zt===2||zt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Gi(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Lr(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(h!==null&&Gi(h),th(c)){case 2:case 8:c=Vn;break;case 32:c=Hn;break;case 268435456:c=da;break;default:c=Hn}return h=eb.bind(null,i),c=Mr(c,h),i.callbackPriority=a,i.callbackNode=c,a}return h!==null&&h!==null&&Gi(h),i.callbackPriority=2,i.callbackNode=null,2}function eb(i,a){if(Te!==0&&Te!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Sc()&&i.callbackNode!==c)return null;var h=Dt;return h=_l(i,i===Yt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(B0(i,h,a),tb(i,qe()),i.callbackNode!=null&&i.callbackNode===c?eb.bind(null,i):null)}function nb(i,a){if(Sc())return null;B0(i,a,!0)}function vT(){LT(function(){(It&6)!==0?Mr(wl,bT):J0()})}function Ud(){if(cs===0){var i=La;i===0&&(i=El,El<<=1,(El&261888)===0&&(El=256)),cs=i}return cs}function ib(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ll(""+i)}function sb(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function AT(i,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var y=ib((g[Qe]||null).action),x=h.submitter;x&&(a=(a=x[Qe]||null)?ib(a.formAction):x.getAttribute("formAction"),a!==null&&(y=a,x=null));var T=new kl("action","action",null,h,g);i.push({event:T,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(cs!==0){var N=x?sb(g,x):new FormData(g);rd(c,{pending:!0,data:N,method:g.method,action:y},null,N)}}else typeof y=="function"&&(T.preventDefault(),N=x?sb(g,x):new FormData(g),rd(c,{pending:!0,data:N,method:g.method,action:y},y,N))},currentTarget:g}]})}}for(var zd=0;zd<wh.length;zd++){var Vd=wh[zd],ST=Vd.toLowerCase(),xT=Vd[0].toUpperCase()+Vd.slice(1);Gn(ST,"on"+xT)}Gn(kg,"onAnimationEnd"),Gn(Bg,"onAnimationIteration"),Gn(Fg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(jE,"onTransitionRun"),Gn(IE,"onTransitionStart"),Gn(UE,"onTransitionCancel"),Gn(jg,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function ab(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],g=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var x=h.length-1;0<=x;x--){var T=h[x],N=T.instance,V=T.currentTarget;if(T=T.listener,N!==y&&g.isPropagationStopped())break t;y=T,g.currentTarget=V;try{y(g)}catch($){jl($)}g.currentTarget=null,y=N}else for(x=0;x<h.length;x++){if(T=h[x],N=T.instance,V=T.currentTarget,T=T.listener,N!==y&&g.isPropagationStopped())break t;y=T,g.currentTarget=V;try{y(g)}catch($){jl($)}g.currentTarget=null,y=N}}}}function Mt(i,a){var c=a[eh];c===void 0&&(c=a[eh]=new Set);var h=i+"__bubble";c.has(h)||(rb(a,i,2,!1),c.add(h))}function Hd(i,a,c){var h=0;a&&(h|=4),rb(c,i,h,a)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Gd(i){if(!i[Ec]){i[Ec]=!0,Jm.forEach(function(c){c!=="selectionchange"&&(wT.has(c)||Hd(c,!1,i),Hd(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ec]||(a[Ec]=!0,Hd("selectionchange",!1,a))}}function rb(i,a,c,h){switch(kb(a)){case 2:var g=QT;break;case 8:g=ZT;break;default:g=rf}c=g.bind(null,a,c,i),g=void 0,!uh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(a,c,{capture:!0,passive:g}):i.addEventListener(a,c,!0):g!==void 0?i.addEventListener(a,c,{passive:g}):i.addEventListener(a,c,!1)}function qd(i,a,c,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var T=h.stateNode.containerInfo;if(T===g)break;if(x===4)for(x=h.return;x!==null;){var N=x.tag;if((N===3||N===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;T!==null;){if(x=pa(T),x===null)return;if(N=x.tag,N===5||N===6||N===26||N===27){h=y=x;continue t}T=T.parentNode}}h=h.return}hg(function(){var V=y,$=lh(c),Q=[];t:{var H=Ig.get(i);if(H!==void 0){var Y=kl,at=i;switch(i){case"keypress":if(Nl(c)===0)break t;case"keydown":case"keyup":Y=gE;break;case"focusin":at="focus",Y=ph;break;case"focusout":at="blur",Y=ph;break;case"beforeblur":case"afterblur":Y=ph;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=sE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=vE;break;case kg:case Bg:case Fg:Y=oE;break;case jg:Y=SE;break;case"scroll":case"scrollend":Y=nE;break;case"wheel":Y=wE;break;case"copy":case"cut":case"paste":Y=cE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=gg;break;case"toggle":case"beforetoggle":Y=TE}var yt=(a&4)!==0,qt=!yt&&(i==="scroll"||i==="scrollend"),I=yt?H!==null?H+"Capture":null:H;yt=[];for(var F=V,z;F!==null;){var K=F;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||I===null||(K=kr(F,I),K!=null&&yt.push(mo(F,K,z))),qt)break;F=F.return}0<yt.length&&(H=new Y(H,at,null,c,$),Q.push({event:H,listeners:yt}))}}if((a&7)===0){t:{if(H=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",H&&c!==oh&&(at=c.relatedTarget||c.fromElement)&&(pa(at)||at[fa]))break t;if((Y||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(at=c.relatedTarget||c.toElement,Y=V,at=at?pa(at):null,at!==null&&(qt=o(at),yt=at.tag,at!==qt||yt!==5&&yt!==27&&yt!==6)&&(at=null)):(Y=null,at=V),Y!==at)){if(yt=pg,K="onMouseLeave",I="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(yt=gg,K="onPointerLeave",I="onPointerEnter",F="pointer"),qt=Y==null?H:Pr(Y),z=at==null?H:Pr(at),H=new yt(K,F+"leave",Y,c,$),H.target=qt,H.relatedTarget=z,K=null,pa($)===V&&(yt=new yt(I,F+"enter",at,c,$),yt.target=z,yt.relatedTarget=qt,K=yt),qt=K,Y&&at)e:{for(yt=ET,I=Y,F=at,z=0,K=I;K;K=yt(K))z++;K=0;for(var ft=F;ft;ft=yt(ft))K++;for(;0<z-K;)I=yt(I),z--;for(;0<K-z;)F=yt(F),K--;for(;z--;){if(I===F||F!==null&&I===F.alternate){yt=I;break e}I=yt(I),F=yt(F)}yt=null}else yt=null;Y!==null&&ob(Q,H,Y,yt,!1),at!==null&&qt!==null&&ob(Q,qt,at,yt,!0)}}t:{if(H=V?Pr(V):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Ft=Eg;else if(xg(H))if(Tg)Ft=kE;else{Ft=NE;var lt=OE}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?V&&rh(V.elementType)&&(Ft=Eg):Ft=PE;if(Ft&&(Ft=Ft(i,V))){wg(Q,Ft,c,$);break t}lt&&lt(i,H,V),i==="focusout"&&V&&H.type==="number"&&V.memoizedProps.value!=null&&ah(H,"number",H.value)}switch(lt=V?Pr(V):window,i){case"focusin":(xg(lt)||lt.contentEditable==="true")&&(wa=lt,Ah=V,Hr=null);break;case"focusout":Hr=Ah=wa=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,Ng(Q,c,$);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":Ng(Q,c,$)}var Tt;if(gh)t:{switch(i){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else xa?Ag(i,c)&&(Lt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Lt="onCompositionStart");Lt&&(yg&&c.locale!=="ko"&&(xa||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&xa&&(Tt=dg()):(Yi=$,hh="value"in Yi?Yi.value:Yi.textContent,xa=!0)),lt=Tc(V,Lt),0<lt.length&&(Lt=new mg(Lt,i,null,c,$),Q.push({event:Lt,listeners:lt}),Tt?Lt.data=Tt:(Tt=Sg(c),Tt!==null&&(Lt.data=Tt)))),(Tt=_E?RE(i,c):ME(i,c))&&(Lt=Tc(V,"onBeforeInput"),0<Lt.length&&(lt=new mg("onBeforeInput","beforeinput",null,c,$),Q.push({event:lt,listeners:Lt}),lt.data=Tt)),AT(Q,i,V,c,$)}ab(Q,a)})}function mo(i,a,c){return{instance:i,listener:a,currentTarget:c}}function Tc(i,a){for(var c=a+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=kr(i,c),g!=null&&h.unshift(mo(i,g,y)),g=kr(i,a),g!=null&&h.push(mo(i,g,y))),i.tag===3)return h;i=i.return}return[]}function ET(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ob(i,a,c,h,g){for(var y=a._reactName,x=[];c!==null&&c!==h;){var T=c,N=T.alternate,V=T.stateNode;if(T=T.tag,N!==null&&N===h)break;T!==5&&T!==26&&T!==27||V===null||(N=V,g?(V=kr(c,y),V!=null&&x.unshift(mo(c,V,N))):g||(V=kr(c,y),V!=null&&x.push(mo(c,V,N)))),c=c.return}x.length!==0&&i.push({event:a,listeners:x})}var TT=/\r\n?/g,CT=/\u0000|\uFFFD/g;function lb(i){return(typeof i=="string"?i:""+i).replace(TT,`
`).replace(CT,"")}function cb(i,a){return a=lb(a),lb(i)===a}function Gt(i,a,c,h,g,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||va(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&va(i,""+h);break;case"className":Ml(i,"class",h);break;case"tabIndex":Ml(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(i,c,h);break;case"style":cg(i,h,y);break;case"data":if(a!=="object"){Ml(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Ll(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&Gt(i,a,"name",g.name,g,null),Gt(i,a,"formEncType",g.formEncType,g,null),Gt(i,a,"formMethod",g.formMethod,g,null),Gt(i,a,"formTarget",g.formTarget,g,null)):(Gt(i,a,"encType",g.encType,g,null),Gt(i,a,"method",g.method,g,null),Gt(i,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Ll(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=yi);break;case"onScroll":h!=null&&Mt("scroll",i);break;case"onScrollEnd":h!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=Ll(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Rl(i,"popover",h);break;case"xlinkActuate":gi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":gi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":gi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":gi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":gi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":gi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":gi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":gi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":gi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Rl(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=tE.get(c)||c,Rl(i,c,h))}}function Xd(i,a,c,h,g,y){switch(c){case"style":cg(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof h=="string"?va(i,h):(typeof h=="number"||typeof h=="bigint")&&va(i,""+h);break;case"onScroll":h!=null&&Mt("scroll",i);break;case"onScrollEnd":h!=null&&Mt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tg.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),y=i[Qe]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,h,g);break t}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Rl(i,c,h)}}}function Be(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var x=c[y];if(x!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:Gt(i,a,y,x,c,null)}}g&&Gt(i,a,"srcSet",c.srcSet,c,null),h&&Gt(i,a,"src",c.src,c,null);return;case"input":Mt("invalid",i);var T=y=x=g=null,N=null,V=null;for(h in c)if(c.hasOwnProperty(h)){var $=c[h];if($!=null)switch(h){case"name":g=$;break;case"type":x=$;break;case"checked":N=$;break;case"defaultChecked":V=$;break;case"value":y=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(n(137,a));break;default:Gt(i,a,h,$,c,null)}}ag(i,y,T,N,V,x,g,!1);return;case"select":Mt("invalid",i),h=x=y=null;for(g in c)if(c.hasOwnProperty(g)&&(T=c[g],T!=null))switch(g){case"value":y=T;break;case"defaultValue":x=T;break;case"multiple":h=T;default:Gt(i,a,g,T,c,null)}a=y,c=x,i.multiple=!!h,a!=null?ba(i,!!h,a,!1):c!=null&&ba(i,!!h,c,!0);return;case"textarea":Mt("invalid",i),y=g=h=null;for(x in c)if(c.hasOwnProperty(x)&&(T=c[x],T!=null))switch(x){case"value":h=T;break;case"defaultValue":g=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:Gt(i,a,x,T,c,null)}og(i,h,g,y);return;case"option":for(N in c)if(c.hasOwnProperty(N)&&(h=c[N],h!=null))switch(N){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Gt(i,a,N,h,c,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(h=0;h<po.length;h++)Mt(po[h],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in c)if(c.hasOwnProperty(V)&&(h=c[V],h!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:Gt(i,a,V,h,c,null)}return;default:if(rh(a)){for($ in c)c.hasOwnProperty($)&&(h=c[$],h!==void 0&&Xd(i,a,$,h,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(h=c[T],h!=null&&Gt(i,a,T,h,c,null))}function _T(i,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,x=null,T=null,N=null,V=null,$=null;for(Y in c){var Q=c[Y];if(c.hasOwnProperty(Y)&&Q!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=Q;default:h.hasOwnProperty(Y)||Gt(i,a,Y,null,h,Q)}}for(var H in h){var Y=h[H];if(Q=c[H],h.hasOwnProperty(H)&&(Y!=null||Q!=null))switch(H){case"type":y=Y;break;case"name":g=Y;break;case"checked":V=Y;break;case"defaultChecked":$=Y;break;case"value":x=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(137,a));break;default:Y!==Q&&Gt(i,a,H,Y,h,Q)}}sh(i,x,T,N,V,$,y,g);return;case"select":Y=x=T=H=null;for(y in c)if(N=c[y],c.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":Y=N;default:h.hasOwnProperty(y)||Gt(i,a,y,null,h,N)}for(g in h)if(y=h[g],N=c[g],h.hasOwnProperty(g)&&(y!=null||N!=null))switch(g){case"value":H=y;break;case"defaultValue":T=y;break;case"multiple":x=y;default:y!==N&&Gt(i,a,g,y,h,N)}a=T,c=x,h=Y,H!=null?ba(i,!!c,H,!1):!!h!=!!c&&(a!=null?ba(i,!!c,a,!0):ba(i,!!c,c?[]:"",!1));return;case"textarea":Y=H=null;for(T in c)if(g=c[T],c.hasOwnProperty(T)&&g!=null&&!h.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Gt(i,a,T,null,h,g)}for(x in h)if(g=h[x],y=c[x],h.hasOwnProperty(x)&&(g!=null||y!=null))switch(x){case"value":H=g;break;case"defaultValue":Y=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==y&&Gt(i,a,x,g,h,y)}rg(i,H,Y);return;case"option":for(var at in c)if(H=c[at],c.hasOwnProperty(at)&&H!=null&&!h.hasOwnProperty(at))switch(at){case"selected":i.selected=!1;break;default:Gt(i,a,at,null,h,H)}for(N in h)if(H=h[N],Y=c[N],h.hasOwnProperty(N)&&H!==Y&&(H!=null||Y!=null))switch(N){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Gt(i,a,N,H,h,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in c)H=c[yt],c.hasOwnProperty(yt)&&H!=null&&!h.hasOwnProperty(yt)&&Gt(i,a,yt,null,h,H);for(V in h)if(H=h[V],Y=c[V],h.hasOwnProperty(V)&&H!==Y&&(H!=null||Y!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(137,a));break;default:Gt(i,a,V,H,h,Y)}return;default:if(rh(a)){for(var qt in c)H=c[qt],c.hasOwnProperty(qt)&&H!==void 0&&!h.hasOwnProperty(qt)&&Xd(i,a,qt,void 0,h,H);for($ in h)H=h[$],Y=c[$],!h.hasOwnProperty($)||H===Y||H===void 0&&Y===void 0||Xd(i,a,$,H,h,Y);return}}for(var I in c)H=c[I],c.hasOwnProperty(I)&&H!=null&&!h.hasOwnProperty(I)&&Gt(i,a,I,null,h,H);for(Q in h)H=h[Q],Y=c[Q],!h.hasOwnProperty(Q)||H===Y||H==null&&Y==null||Gt(i,a,Q,H,h,Y)}function ub(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],y=g.transferSize,x=g.initiatorType,T=g.duration;if(y&&T&&ub(x)){for(x=0,T=g.responseEnd,h+=1;h<c.length;h++){var N=c[h],V=N.startTime;if(V>T)break;var $=N.transferSize,Q=N.initiatorType;$&&ub(Q)&&(N=N.responseEnd,x+=$*(N<T?1:(T-V)/(N-V)))}if(--h,a+=8*(y+x)/(g.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Yd=null,$d=null;function Cc(i){return i.nodeType===9?i:i.ownerDocument}function hb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function db(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Kd(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wd=null;function MT(){var i=window.event;return i&&i.type==="popstate"?i===Wd?!1:(Wd=i,!0):(Wd=null,!1)}var fb=typeof setTimeout=="function"?setTimeout:void 0,DT=typeof clearTimeout=="function"?clearTimeout:void 0,pb=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof pb<"u"?function(i){return pb.resolve(null).then(i).catch(OT)}:fb;function OT(i){setTimeout(function(){throw i})}function us(i){return i==="head"}function mb(i,a){var c=a,h=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(g),Wa(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")go(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,go(c);for(var y=c.firstChild;y;){var x=y.nextSibling,T=y.nodeName;y[Nr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=x}}else c==="body"&&go(i.ownerDocument.body);c=g}while(c);Wa(a)}function gb(i,a){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function Qd(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Qd(c),nh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function NT(i,a,c,h){for(;i.nodeType===1;){var g=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Nr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Nn(i.nextSibling),i===null)break}return null}function PT(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Nn(i.nextSibling),i===null))return null;return i}function yb(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Nn(i.nextSibling),i===null))return null;return i}function Zd(i){return i.data==="$?"||i.data==="$~"}function Jd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function kT(i,a){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Nn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var tf=null;function bb(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(a===0)return Nn(i.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}i=i.nextSibling}return null}function vb(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return i;a--}else c!=="/$"&&c!=="/&"||a++}i=i.previousSibling}return null}function Ab(i,a,c){switch(a=Cc(c),i){case"html":if(i=a.documentElement,!i)throw Error(n(452));return i;case"head":if(i=a.head,!i)throw Error(n(453));return i;case"body":if(i=a.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function go(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);nh(i)}var Pn=new Map,Sb=new Set;function _c(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ni=U.d;U.d={f:BT,r:FT,D:jT,C:IT,L:UT,m:zT,X:HT,S:VT,M:GT};function BT(){var i=Ni.f(),a=bc();return i||a}function FT(i){var a=ma(i);a!==null&&a.tag===5&&a.type==="form"?jy(a):Ni.r(i)}var Ya=typeof document>"u"?null:document;function xb(i,a,c){var h=Ya;if(h&&typeof a=="string"&&a){var g=Cn(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),Sb.has(g)||(Sb.add(g),i={rel:i,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Be(a,"link",i),Ce(a),h.head.appendChild(a)))}}function jT(i){Ni.D(i),xb("dns-prefetch",i,null)}function IT(i,a){Ni.C(i,a),xb("preconnect",i,a)}function UT(i,a,c){Ni.L(i,a,c);var h=Ya;if(h&&i&&a){var g='link[rel="preload"][as="'+Cn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Cn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Cn(c.imageSizes)+'"]')):g+='[href="'+Cn(i)+'"]';var y=g;switch(a){case"style":y=$a(i);break;case"script":y=Ka(i)}Pn.has(y)||(i=m({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),Pn.set(y,i),h.querySelector(g)!==null||a==="style"&&h.querySelector(yo(y))||a==="script"&&h.querySelector(bo(y))||(a=h.createElement("link"),Be(a,"link",i),Ce(a),h.head.appendChild(a)))}}function zT(i,a){Ni.m(i,a);var c=Ya;if(c&&i){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Cn(h)+'"][href="'+Cn(i)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ka(i)}if(!Pn.has(y)&&(i=m({rel:"modulepreload",href:i},a),Pn.set(y,i),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bo(y)))return}h=c.createElement("link"),Be(h,"link",i),Ce(h),c.head.appendChild(h)}}}function VT(i,a,c){Ni.S(i,a,c);var h=Ya;if(h&&i){var g=ga(h).hoistableStyles,y=$a(i);a=a||"default";var x=g.get(y);if(!x){var T={loading:0,preload:null};if(x=h.querySelector(yo(y)))T.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},c),(c=Pn.get(y))&&ef(i,c);var N=x=h.createElement("link");Ce(N),Be(N,"link",i),N._p=new Promise(function(V,$){N.onload=V,N.onerror=$}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rc(x,a,h)}x={type:"stylesheet",instance:x,count:1,state:T},g.set(y,x)}}}function HT(i,a){Ni.X(i,a);var c=Ya;if(c&&i){var h=ga(c).hoistableScripts,g=Ka(i),y=h.get(g);y||(y=c.querySelector(bo(g)),y||(i=m({src:i,async:!0},a),(a=Pn.get(g))&&nf(i,a),y=c.createElement("script"),Ce(y),Be(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function GT(i,a){Ni.M(i,a);var c=Ya;if(c&&i){var h=ga(c).hoistableScripts,g=Ka(i),y=h.get(g);y||(y=c.querySelector(bo(g)),y||(i=m({src:i,async:!0,type:"module"},a),(a=Pn.get(g))&&nf(i,a),y=c.createElement("script"),Ce(y),Be(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function wb(i,a,c,h){var g=(g=mt.current)?_c(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=$a(c.href),c=ga(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=$a(c.href);var y=ga(g).hoistableStyles,x=y.get(i);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,x),(y=g.querySelector(yo(i)))&&!y._p&&(x.instance=y,x.state.loading=5),Pn.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Pn.set(i,c),y||qT(g,i,c,x.state))),a&&h===null)throw Error(n(528,""));return x}if(a&&h!==null)throw Error(n(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ka(c),c=ga(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function $a(i){return'href="'+Cn(i)+'"'}function yo(i){return'link[rel="stylesheet"]['+i+"]"}function Eb(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function qT(i,a,c,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Be(a,"link",c),Ce(a),i.head.appendChild(a))}function Ka(i){return'[src="'+Cn(i)+'"]'}function bo(i){return"script[async]"+i}function Tb(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Cn(c.href)+'"]');if(h)return a.instance=h,Ce(h),h;var g=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ce(h),Be(h,"style",g),Rc(h,c.precedence,i),a.instance=h;case"stylesheet":g=$a(c.href);var y=i.querySelector(yo(g));if(y)return a.state.loading|=4,a.instance=y,Ce(y),y;h=Eb(c),(g=Pn.get(g))&&ef(h,g),y=(i.ownerDocument||i).createElement("link"),Ce(y);var x=y;return x._p=new Promise(function(T,N){x.onload=T,x.onerror=N}),Be(y,"link",h),a.state.loading|=4,Rc(y,c.precedence,i),a.instance=y;case"script":return y=Ka(c.src),(g=i.querySelector(bo(y)))?(a.instance=g,Ce(g),g):(h=c,(g=Pn.get(y))&&(h=m({},c),nf(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ce(g),Be(g,"link",h),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Rc(h,c.precedence,i));return a.instance}function Rc(i,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,x=0;x<h.length;x++){var T=h[x];if(T.dataset.precedence===a)y=T;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function ef(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function nf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Mc=null;function Cb(i,a,c){if(Mc===null){var h=new Map,g=Mc=new Map;g.set(c,h)}else g=Mc,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),g=0;g<c.length;g++){var y=c[g];if(!(y[Nr]||y[Oe]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(a)||"";x=i+x;var T=h.get(x);T?T.push(y):h.set(x,[y])}}return h}function _b(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function XT(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Rb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function YT(i,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=$a(h.href),y=a.querySelector(yo(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Dc.bind(i),a.then(i,i)),c.state.loading|=4,c.instance=y,Ce(y);return}y=a.ownerDocument||a,h=Eb(h),(g=Pn.get(g))&&ef(h,g),y=y.createElement("link"),Ce(y);var x=y;x._p=new Promise(function(T,N){x.onload=T,x.onerror=N}),Be(y,"link",h),c.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Dc.bind(i),a.addEventListener("load",c),a.addEventListener("error",c))}}var sf=0;function $T(i,a){return i.stylesheets&&i.count===0&&Oc(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&Oc(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+a);0<i.imgBytes&&sf===0&&(sf=62500*RT());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Oc(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>sf?50:800)+a);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Lc=null;function Oc(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Lc=new Map,a.forEach(KT,i),Lc=null,Dc.call(i))}function KT(i,a){if(!(a.state.loading&4)){var c=Lc.get(i);if(c)var h=c.get(null);else{c=new Map,Lc.set(i,c);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var x=g[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),h=x)}h&&c.set(null,h)}g=a.instance,x=g.getAttribute("data-precedence"),y=c.get(x)||h,y===h&&c.set(null,g),c.set(x,g),this.count++,h=Dc.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var vo={$$typeof:_,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function WT(i,a,c,h,g,y,x,T,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.hiddenUpdates=Zu(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Mb(i,a,c,h,g,y,x,T,N,V,$,Q){return i=new WT(i,a,c,x,N,V,$,Q,T),a=1,y===!0&&(a|=24),y=mn(3,null,null,a),i.current=y,y.stateNode=i,a=Bh(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},Uh(y),i}function Db(i){return i?(i=Ca,i):Ca}function Lb(i,a,c,h,g,y){g=Db(g),h.context===null?h.context=g:h.pendingContext=g,h=Ji(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=ts(i,h,a),c!==null&&(sn(c,i,a),Wr(c,i,a))}function Ob(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function af(i,a){Ob(i,a),(i=i.alternate)&&Ob(i,a)}function Nb(i){if(i.tag===13||i.tag===31){var a=Ns(i,67108864);a!==null&&sn(a,i,67108864),af(i,67108864)}}function Pb(i){if(i.tag===13||i.tag===31){var a=An();a=Ju(a);var c=Ns(i,a);c!==null&&sn(c,i,a),af(i,a)}}var Nc=!0;function QT(i,a,c,h){var g=B.T;B.T=null;var y=U.p;try{U.p=2,rf(i,a,c,h)}finally{U.p=y,B.T=g}}function ZT(i,a,c,h){var g=B.T;B.T=null;var y=U.p;try{U.p=8,rf(i,a,c,h)}finally{U.p=y,B.T=g}}function rf(i,a,c,h){if(Nc){var g=of(h);if(g===null)qd(i,a,h,Pc,c),Bb(i,h);else if(tC(g,i,a,c,h))h.stopPropagation();else if(Bb(i,h),a&4&&-1<JT.indexOf(i)){for(;g!==null;){var y=ma(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Rs(y.pendingLanes);if(x!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var N=1<<31-fn(x);T.entanglements[1]|=N,x&=~N}ei(y),(It&6)===0&&(gc=qe()+500,fo(0))}}break;case 31:case 13:T=Ns(y,2),T!==null&&sn(T,y,2),bc(),af(y,2)}if(y=of(h),y===null&&qd(i,a,h,Pc,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else qd(i,a,h,null,c)}}function of(i){return i=lh(i),lf(i)}var Pc=null;function lf(i){if(Pc=null,i=pa(i),i!==null){var a=o(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=l(a),i!==null)return i;i=null}else if(c===31){if(i=u(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pc=i,null}function kb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qu()){case wl:return 2;case Vn:return 8;case Hn:case Qn:return 32;case da:return 268435456;default:return 32}default:return 32}}var cf=!1,hs=null,ds=null,fs=null,Ao=new Map,So=new Map,ps=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bb(i,a){switch(i){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Ao.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(a.pointerId)}}function xo(i,a,c,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=ma(a),a!==null&&Nb(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function tC(i,a,c,h,g){switch(a){case"focusin":return hs=xo(hs,i,a,c,h,g),!0;case"dragenter":return ds=xo(ds,i,a,c,h,g),!0;case"mouseover":return fs=xo(fs,i,a,c,h,g),!0;case"pointerover":var y=g.pointerId;return Ao.set(y,xo(Ao.get(y)||null,i,a,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,So.set(y,xo(So.get(y)||null,i,a,c,h,g)),!0}return!1}function Fb(i){var a=pa(i.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){i.blockedOn=a,Qm(i.priority,function(){Pb(c)});return}}else if(a===31){if(a=u(c),a!==null){i.blockedOn=a,Qm(i.priority,function(){Pb(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kc(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=of(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);oh=h,c.target.dispatchEvent(h),oh=null}else return a=ma(c),a!==null&&Nb(a),i.blockedOn=c,!1;a.shift()}return!0}function jb(i,a,c){kc(i)&&c.delete(a)}function eC(){cf=!1,hs!==null&&kc(hs)&&(hs=null),ds!==null&&kc(ds)&&(ds=null),fs!==null&&kc(fs)&&(fs=null),Ao.forEach(jb),So.forEach(jb)}function Bc(i,a){i.blockedOn===a&&(i.blockedOn=null,cf||(cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eC)))}var Fc=null;function Ib(i){Fc!==i&&(Fc=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fc===i&&(Fc=null);for(var a=0;a<i.length;a+=3){var c=i[a],h=i[a+1],g=i[a+2];if(typeof h!="function"){if(lf(h||c)===null)continue;break}var y=ma(c);y!==null&&(i.splice(a,3),a-=3,rd(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Wa(i){function a(N){return Bc(N,i)}hs!==null&&Bc(hs,i),ds!==null&&Bc(ds,i),fs!==null&&Bc(fs,i),Ao.forEach(a),So.forEach(a);for(var c=0;c<ps.length;c++){var h=ps[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ps.length&&(c=ps[0],c.blockedOn===null);)Fb(c),c.blockedOn===null&&ps.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],x=g[Qe]||null;if(typeof y=="function")x||Ib(c);else if(x){var T=null;if(y&&y.hasAttribute("formAction")){if(g=y,x=y[Qe]||null)T=x.formAction;else if(lf(g)!==null)continue}else T=x.action;typeof T=="function"?c[h+1]=T:(c.splice(h,3),h-=3),Ib(c)}}}function Ub(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return g=x})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function uf(i){this._internalRoot=i}jc.prototype.render=uf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));var c=a.current,h=An();Lb(c,h,i,a,null,null)},jc.prototype.unmount=uf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Lb(i.current,2,null,i,null,null),bc(),a[fa]=null}};function jc(i){this._internalRoot=i}jc.prototype.unstable_scheduleHydration=function(i){if(i){var a=Wm();i={blockedOn:null,target:i,priority:a};for(var c=0;c<ps.length&&a!==0&&a<ps[c].priority;c++);ps.splice(c,0,i),c===0&&Fb(i)}};var zb=t.version;if(zb!=="19.2.0")throw Error(n(527,zb,"19.2.0"));U.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var nC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Dr=Ic.inject(nC),dn=Ic}catch{}}return Eo.createRoot=function(i,a){if(!r(i))throw Error(n(299));var c=!1,h="",g=$y,y=Ky,x=Wy;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Mb(i,1,!1,null,null,c,h,null,g,y,x,Ub),i[fa]=a.current,Gd(i),new uf(a)},Eo.hydrateRoot=function(i,a,c){if(!r(i))throw Error(n(299));var h=!1,g="",y=$y,x=Ky,T=Wy,N=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.formState!==void 0&&(N=c.formState)),a=Mb(i,1,!0,a,c??null,h,g,N,y,x,T,Ub),a.context=Db(null),c=a.current,h=An(),h=Ju(h),g=Ji(h),g.callback=null,ts(c,g,h),c=h,a.current.lanes=c,Or(a,c),ei(a),i[fa]=a.current,Gd(i),new jc(a)},Eo.version="19.2.0",Eo}var Jb;function dC(){if(Jb)return pf.exports;Jb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),pf.exports=hC(),pf.exports}var fC=dC();const pC=Pp(fC);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tv="popstate";function mC(s={}){function t(n,r){let{pathname:o,search:l,hash:u}=n.location;return $f("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(n,r){return typeof r=="string"?r:Ho(r)}return yC(t,e,null,s)}function oe(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function fi(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gC(){return Math.random().toString(36).substring(2,10)}function ev(s,t){return{usr:s.state,key:s.key,idx:t}}function $f(s,t,e=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Ar(t):t,state:e,key:t&&t.key||n||gC()}}function Ho({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function Ar(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let n=s.indexOf("?");n>=0&&(t.search=s.substring(n),s=s.substring(0,n)),s&&(t.pathname=s)}return t}function yC(s,t,e,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let w=p(),E=w==null?null:w-f;f=w,d&&d({action:u,location:S.location,delta:E})}function b(w,E){u="PUSH";let C=$f(S.location,w,E);f=p()+1;let _=ev(C,f),D=S.createHref(C);try{l.pushState(_,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(D)}o&&d&&d({action:u,location:S.location,delta:1})}function v(w,E){u="REPLACE";let C=$f(S.location,w,E);f=p();let _=ev(C,f),D=S.createHref(C);l.replaceState(_,"",D),o&&d&&d({action:u,location:S.location,delta:0})}function A(w){return bC(w)}let S={get action(){return u},get location(){return s(r,l)},listen(w){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(tv,m),d=w,()=>{r.removeEventListener(tv,m),d=null}},createHref(w){return t(r,w)},createURL:A,encodeLocation(w){let E=A(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:v,go(w){return l.go(w)}};return S}function bC(s,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),oe(e,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:Ho(s);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function xS(s,t,e="/"){return vC(s,t,e,!1)}function vC(s,t,e,n){let r=typeof t=="string"?Ar(t):t,o=Fi(r.pathname||"/",e);if(o==null)return null;let l=wS(s);AC(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=LC(o);u=MC(l[d],f,n)}return u}function wS(s,t=[],e=[],n="",r=!1){let o=(l,u,d=r,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;oe(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let m=Bi([n,p.relativePath]),b=e.concat(p);l.children&&l.children.length>0&&(oe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),wS(l.children,t,b,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:_C(m,l.index),routesMeta:b})};return s.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of ES(l.path))o(l,u,!0,d)}),t}function ES(s){let t=s.split("/");if(t.length===0)return[];let[e,...n]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=ES(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>s.startsWith("/")&&d===""?"/":d)}function AC(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:RC(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var SC=/^:[\w-]+$/,xC=3,wC=2,EC=1,TC=10,CC=-2,nv=s=>s==="*";function _C(s,t){let e=s.split("/"),n=e.length;return e.some(nv)&&(n+=CC),t&&(n+=wC),e.filter(r=>!nv(r)).reduce((r,o)=>r+(SC.test(o)?xC:o===""?EC:TC),n)}function RC(s,t){return s.length===t.length&&s.slice(0,-1).every((n,r)=>n===t[r])?s[s.length-1]-t[t.length-1]:0}function MC(s,t,e=!1){let{routesMeta:n}=s,r={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=pu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!m&&f&&e&&!n[n.length-1].route.index&&(m=pu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Bi([o,m.pathname]),pathnameBase:kC(Bi([o,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(o=Bi([o,m.pathnameBase]))}return l}function pu(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,n]=DC(s.path,s.caseSensitive,s.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:m},b)=>{if(p==="*"){let A=u[b]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const v=u[b];return m&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:s}}function DC(s,t=!1,e=!0){fi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function LC(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Fi(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=s.charAt(e);return n&&n!=="/"?null:s.slice(e)||"/"}function OC(s,t="/"){let{pathname:e,search:n="",hash:r=""}=typeof s=="string"?Ar(s):s;return{pathname:e?e.startsWith("/")?e:NC(e,t):t,search:BC(n),hash:FC(r)}}function NC(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function bf(s,t,e,n){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PC(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function TS(s){let t=PC(s);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function CS(s,t,e,n=!1){let r;typeof s=="string"?r=Ar(s):(r={...s},oe(!r.pathname||!r.pathname.includes("?"),bf("?","pathname","search",r)),oe(!r.pathname||!r.pathname.includes("#"),bf("#","pathname","hash",r)),oe(!r.search||!r.search.includes("#"),bf("#","search","hash",r)));let o=s===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let m=t.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;r.pathname=b.join("/")}u=m>=0?t[m]:"/"}let d=OC(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Bi=s=>s.join("/").replace(/\/\/+/g,"/"),kC=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),BC=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,FC=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function jC(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var _S=["POST","PUT","PATCH","DELETE"];new Set(_S);var IC=["GET",..._S];new Set(IC);var Sr=L.createContext(null);Sr.displayName="DataRouter";var Ru=L.createContext(null);Ru.displayName="DataRouterState";L.createContext(!1);var RS=L.createContext({isTransitioning:!1});RS.displayName="ViewTransition";var UC=L.createContext(new Map);UC.displayName="Fetchers";var zC=L.createContext(null);zC.displayName="Await";var pi=L.createContext(null);pi.displayName="Navigation";var nl=L.createContext(null);nl.displayName="Location";var mi=L.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Bp=L.createContext(null);Bp.displayName="RouteError";function VC(s,{relative:t}={}){oe(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=L.useContext(pi),{hash:r,pathname:o,search:l}=sl(s,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Bi([e,o])),n.createHref({pathname:u,search:l,hash:r})}function il(){return L.useContext(nl)!=null}function Ts(){return oe(il(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(nl).location}var MS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(s){L.useContext(pi).static||L.useLayoutEffect(s)}function LS(){let{isDataRoute:s}=L.useContext(mi);return s?n_():HC()}function HC(){oe(il(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(Sr),{basename:t,navigator:e}=L.useContext(pi),{matches:n}=L.useContext(mi),{pathname:r}=Ts(),o=JSON.stringify(TS(n)),l=L.useRef(!1);return DS(()=>{l.current=!0}),L.useCallback((d,f={})=>{if(fi(l.current,MS),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=CS(d,JSON.parse(o),r,f.relative==="path");s==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Bi([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,r,s])}L.createContext(null);function GC(){let{matches:s}=L.useContext(mi),t=s[s.length-1];return t?t.params:{}}function sl(s,{relative:t}={}){let{matches:e}=L.useContext(mi),{pathname:n}=Ts(),r=JSON.stringify(TS(e));return L.useMemo(()=>CS(s,JSON.parse(r),n,t==="path"),[s,r,n,t])}function qC(s,t){return OS(s,t)}function OS(s,t,e,n,r){oe(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(pi),{matches:l}=L.useContext(mi),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let C=m&&m.path||"";NS(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Ts(),v;if(t){let C=typeof t=="string"?Ar(t):t;oe(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=b;let A=v.pathname||"/",S=A;if(p!=="/"){let C=p.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=xS(s,{pathname:S});fi(m||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),fi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=WC(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Bi([p,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Bi([p,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,e,n,r);return t&&E?L.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function XC(){let s=e_(),t=jC(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),e?L.createElement("pre",{style:r},e):null,l)}var YC=L.createElement(XC,null),$C=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?L.createElement(mi.Provider,{value:this.props.routeContext},L.createElement(Bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KC({routeContext:s,match:t,children:e}){let n=L.useContext(Sr);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(mi.Provider,{value:s},e)}function WC(s,t=[],e=null,n=null,r=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let o=s,l=e?.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);oe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(e)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:b}=e,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,m)=>{let b,v=!1,A=null,S=null;e&&(b=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||YC,u&&(d<0&&m===0?(NS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):d===m&&(v=!0,S=p.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,m+1)),E=()=>{let C;return b?C=A:v?C=S:p.route.Component?C=L.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,L.createElement(KC,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:e!=null},children:C})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?L.createElement($C,{location:e.location,revalidation:e.revalidation,component:A,error:b,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):E()},null)}function Fp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QC(s){let t=L.useContext(Sr);return oe(t,Fp(s)),t}function ZC(s){let t=L.useContext(Ru);return oe(t,Fp(s)),t}function JC(s){let t=L.useContext(mi);return oe(t,Fp(s)),t}function jp(s){let t=JC(s),e=t.matches[t.matches.length-1];return oe(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function t_(){return jp("useRouteId")}function e_(){let s=L.useContext(Bp),t=ZC("useRouteError"),e=jp("useRouteError");return s!==void 0?s:t.errors?.[e]}function n_(){let{router:s}=QC("useNavigate"),t=jp("useNavigate"),e=L.useRef(!1);return DS(()=>{e.current=!0}),L.useCallback(async(r,o={})=>{fi(e.current,MS),e.current&&(typeof r=="number"?s.navigate(r):await s.navigate(r,{fromRouteId:t,...o}))},[s,t])}var iv={};function NS(s,t,e){!t&&!iv[s]&&(iv[s]=!0,fi(!1,e))}L.memo(i_);function i_({routes:s,future:t,state:e,unstable_onError:n}){return OS(s,void 0,e,n,t)}function nu(s){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s_({basename:s="/",children:t=null,location:e,navigationType:n="POP",navigator:r,static:o=!1}){oe(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof e=="string"&&(e=Ar(e));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:b="default"}=e,v=L.useMemo(()=>{let A=Fi(d,l);return A==null?null:{location:{pathname:A,search:f,hash:p,state:m,key:b},navigationType:n}},[l,d,f,p,m,b,n]);return fi(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:L.createElement(pi.Provider,{value:u},L.createElement(nl.Provider,{children:t,value:v}))}function a_({children:s,location:t}){return qC(Kf(s),t)}function Kf(s,t=[]){let e=[];return L.Children.forEach(s,(n,r)=>{if(!L.isValidElement(n))return;let o=[...t,r];if(n.type===L.Fragment){e.push.apply(e,Kf(n.props.children,o));return}oe(n.type===nu,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Kf(n.props.children,o)),e.push(l)}),e}var iu="get",su="application/x-www-form-urlencoded";function Mu(s){return s!=null&&typeof s.tagName=="string"}function r_(s){return Mu(s)&&s.tagName.toLowerCase()==="button"}function o_(s){return Mu(s)&&s.tagName.toLowerCase()==="form"}function l_(s){return Mu(s)&&s.tagName.toLowerCase()==="input"}function c_(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function u_(s,t){return s.button===0&&(!t||t==="_self")&&!c_(s)}var Uc=null;function h_(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var d_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vf(s){return s!=null&&!d_.has(s)?(fi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${su}"`),null):s}function f_(s,t){let e,n,r,o,l;if(o_(s)){let u=s.getAttribute("action");n=u?Fi(u,t):null,e=s.getAttribute("method")||iu,r=vf(s.getAttribute("enctype"))||su,o=new FormData(s)}else if(r_(s)||l_(s)&&(s.type==="submit"||s.type==="image")){let u=s.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||u.getAttribute("action");if(n=d?Fi(d,t):null,e=s.getAttribute("formmethod")||u.getAttribute("method")||iu,r=vf(s.getAttribute("formenctype"))||vf(u.getAttribute("enctype"))||su,o=new FormData(u,s),!h_()){let{name:f,type:p,value:m}=s;if(p==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,m)}}else{if(Mu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=iu,n=null,r=su,l=s}return o&&r==="text/plain"&&(l=o,o=void 0),{action:n,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function p_(s,t,e){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&Fi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function m_(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g_(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function y_(s,t,e){let n=await Promise.all(s.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await m_(o,e);return l.links?l.links():[]}return[]}));return S_(n.flat(1).filter(g_).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function sv(s,t,e,n,r,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function b_(s,t,{includeHydrateFallback:e}={}){return v_(s.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function v_(s){return[...new Set(s)]}function A_(s){let t={},e=Object.keys(s).sort();for(let n of e)t[n]=s[n];return t}function S_(s,t){let e=new Set;return new Set(t),s.reduce((n,r)=>{let o=JSON.stringify(A_(r));return e.has(o)||(e.add(o),n.push({key:o,link:r})),n},[])}function PS(){let s=L.useContext(Sr);return Ip(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function x_(){let s=L.useContext(Ru);return Ip(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Up=L.createContext(void 0);Up.displayName="FrameworkContext";function kS(){let s=L.useContext(Up);return Ip(s,"You must render this element inside a <HydratedRouter> element"),s}function w_(s,t){let e=L.useContext(Up),[n,r]=L.useState(!1),[o,l]=L.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,b=L.useRef(null);L.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let S=E=>{E.forEach(C=>{l(C.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[s]),L.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{r(!0)},A=()=>{r(!1),l(!1)};return e?s!=="intent"?[o,b,{}]:[o,b,{onFocus:To(u,v),onBlur:To(d,A),onMouseEnter:To(f,v),onMouseLeave:To(p,A),onTouchStart:To(m,v)}]:[!1,b,{}]}function To(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function E_({page:s,...t}){let{router:e}=PS(),n=L.useMemo(()=>xS(e.routes,s,e.basename),[e.routes,s,e.basename]);return n?L.createElement(C_,{page:s,matches:n,...t}):null}function T_(s){let{manifest:t,routeModules:e}=kS(),[n,r]=L.useState([]);return L.useEffect(()=>{let o=!1;return y_(s,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[s,t,e]),n}function C_({page:s,matches:t,...e}){let n=Ts(),{manifest:r,routeModules:o}=kS(),{basename:l}=PS(),{loaderData:u,matches:d}=x_(),f=L.useMemo(()=>sv(s,t,d,r,n,"data"),[s,t,d,r,n]),p=L.useMemo(()=>sv(s,t,d,r,n,"assets"),[s,t,d,r,n]),m=L.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let A=new Set,S=!1;if(t.forEach(E=>{let C=r.routes[E.route.id];!C||!C.hasLoader||(!f.some(_=>_.route.id===E.route.id)&&E.route.id in u&&o[E.route.id]?.shouldRevalidate||C.hasClientLoader?S=!0:A.add(E.route.id))}),A.size===0)return[];let w=p_(s,l,"data");return S&&A.size>0&&w.searchParams.set("_routes",t.filter(E=>A.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[l,u,n,r,f,t,s,o]),b=L.useMemo(()=>b_(p,r),[p,r]),v=T_(p);return L.createElement(L.Fragment,null,m.map(A=>L.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>L.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),v.map(({key:A,link:S})=>L.createElement("link",{key:A,nonce:e.nonce,...S})))}function __(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var BS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BS&&(window.__reactRouterVersion="7.9.4")}catch{}function R_({basename:s,children:t,window:e}){let n=L.useRef();n.current==null&&(n.current=mC({window:e,v5Compat:!0}));let r=n.current,[o,l]=L.useState({action:r.action,location:r.location}),u=L.useCallback(d=>{L.startTransition(()=>l(d))},[l]);return L.useLayoutEffect(()=>r.listen(u),[r,u]),L.createElement(s_,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:r})}var FS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,As=L.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,...b},v){let{basename:A}=L.useContext(pi),S=typeof f=="string"&&FS.test(f),w,E=!1;if(typeof f=="string"&&S&&(w=f,BS))try{let G=new URL(window.location.href),W=f.startsWith("//")?new URL(G.protocol+f):new URL(f),J=Fi(W.pathname,A);W.origin===G.origin&&J!=null?f=J+W.search+W.hash:E=!0}catch{fi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=VC(f,{relative:r}),[_,D,M]=w_(n,b),P=O_(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:m});function O(G){t&&t(G),G.defaultPrevented||P(G)}let j=L.createElement("a",{...b,...M,href:w||C,onClick:E||o?t:O,ref:__(v,D),target:d,"data-discover":!S&&e==="render"?"true":void 0});return _&&!S?L.createElement(L.Fragment,null,j,L.createElement(E_,{page:C})):j});As.displayName="Link";var M_=L.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let m=sl(l,{relative:f.relative}),b=Ts(),v=L.useContext(Ru),{navigator:A,basename:S}=L.useContext(pi),w=v!=null&&F_(m)&&u===!0,E=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,C=b.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(C=C.toLowerCase(),_=_?_.toLowerCase():null,E=E.toLowerCase()),_&&S&&(_=Fi(_,S)||_);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=C===E||!r&&C.startsWith(E)&&C.charAt(D)==="/",P=_!=null&&(_===E||!r&&_.startsWith(E)&&_.charAt(E.length)==="/"),O={isActive:M,isPending:P,isTransitioning:w},j=M?t:void 0,G;typeof n=="function"?G=n(O):G=[n,M?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(O):o;return L.createElement(As,{...f,"aria-current":j,className:G,ref:p,style:W,to:l,viewTransition:u},typeof d=="function"?d(O):d)});M_.displayName="NavLink";var D_=L.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:r,state:o,method:l=iu,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...b},v)=>{let A=k_(),S=B_(u,{relative:f}),w=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&FS.test(u),C=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let D=_.nativeEvent.submitter,M=D?.getAttribute("formmethod")||l;A(D||_.currentTarget,{fetcherKey:t,method:M,navigate:e,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return L.createElement("form",{ref:v,method:w,action:S,onSubmit:n?d:C,...b,"data-discover":!E&&s==="render"?"true":void 0})});D_.displayName="Form";function L_(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(s){let t=L.useContext(Sr);return oe(t,L_(s)),t}function O_(s,{target:t,replace:e,state:n,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=LS(),d=Ts(),f=sl(s,{relative:o});return L.useCallback(p=>{if(u_(p,t)){p.preventDefault();let m=e!==void 0?e:Ho(d)===Ho(f);u(s,{replace:m,state:n,preventScrollReset:r,relative:o,viewTransition:l})}},[d,u,f,e,n,t,s,r,o,l])}var N_=0,P_=()=>`__${String(++N_)}__`;function k_(){let{router:s}=jS("useSubmit"),{basename:t}=L.useContext(pi),e=t_();return L.useCallback(async(n,r={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=f_(n,t);if(r.navigate===!1){let p=r.fetcherKey||P_();await s.fetch(p,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await s.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[s,t,e])}function B_(s,{relative:t}={}){let{basename:e}=L.useContext(pi),n=L.useContext(mi);oe(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...sl(s||".",{relative:t})},l=Ts();if(s==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!s||s===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Bi([e,o.pathname])),Ho(o)}function F_(s,{relative:t}={}){let e=L.useContext(RS);oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=jS("useViewTransitionState"),r=sl(s,{relative:t});if(!e.isTransitioning)return!1;let o=Fi(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=Fi(e.nextLocation.pathname,n)||e.nextLocation.pathname;return pu(r.pathname,l)!=null||pu(r.pathname,o)!=null}const zp=L.createContext({});function Vp(s){const t=L.useRef(null);return t.current===null&&(t.current=s()),t.current}const Hp=typeof window<"u",IS=Hp?L.useLayoutEffect:L.useEffect,Du=L.createContext(null);function Gp(s,t){s.indexOf(t)===-1&&s.push(t)}function qp(s,t){const e=s.indexOf(t);e>-1&&s.splice(e,1)}const ji=(s,t,e)=>e>t?t:e<s?s:e;let Xp=()=>{};const Ii={},US=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function zS(s){return typeof s=="object"&&s!==null}const VS=s=>/^0[^.\s]+$/u.test(s);function Yp(s){let t;return()=>(t===void 0&&(t=s()),t)}const zn=s=>s,j_=(s,t)=>e=>t(s(e)),al=(...s)=>s.reduce(j_),Go=(s,t,e)=>{const n=t-s;return n===0?1:(e-s)/n};class $p{constructor(){this.subscriptions=[]}add(t){return Gp(this.subscriptions,t),()=>qp(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,n);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hi=s=>s*1e3,Un=s=>s/1e3;function HS(s,t){return t?s*(1e3/t):0}const GS=(s,t,e)=>(((1-3*e+3*t)*s+(3*e-6*t))*s+3*t)*s,I_=1e-7,U_=12;function z_(s,t,e,n,r){let o,l,u=0;do l=t+(e-t)/2,o=GS(l,n,r)-s,o>0?e=l:t=l;while(Math.abs(o)>I_&&++u<U_);return l}function rl(s,t,e,n){if(s===t&&e===n)return zn;const r=o=>z_(o,0,1,s,e);return o=>o===0||o===1?o:GS(r(o),t,n)}const qS=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,XS=s=>t=>1-s(1-t),YS=rl(.33,1.53,.69,.99),Kp=XS(YS),$S=qS(Kp),KS=s=>(s*=2)<1?.5*Kp(s):.5*(2-Math.pow(2,-10*(s-1))),Wp=s=>1-Math.sin(Math.acos(s)),WS=XS(Wp),QS=qS(Wp),V_=rl(.42,0,1,1),H_=rl(0,0,.58,1),ZS=rl(.42,0,.58,1),G_=s=>Array.isArray(s)&&typeof s[0]!="number",JS=s=>Array.isArray(s)&&typeof s[0]=="number",q_={linear:zn,easeIn:V_,easeInOut:ZS,easeOut:H_,circIn:Wp,circInOut:QS,circOut:WS,backIn:Kp,backInOut:$S,backOut:YS,anticipate:KS},X_=s=>typeof s=="string",av=s=>{if(JS(s)){Xp(s.length===4);const[t,e,n,r]=s;return rl(t,e,n,r)}else if(X_(s))return q_[s];return s},zc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Y_(s,t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(f.schedule(p),s()),p(u)}const f={schedule:(p,m=!1,b=!1)=>{const A=b&&r?e:n;return m&&l.add(p),A.has(p)||A.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(u=p,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(p))}};return f}const $_=40;function tx(s,t){let e=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=zc.reduce((_,D)=>(_[D]=Y_(o),_),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:p,update:m,preRender:b,render:v,postRender:A}=l,S=()=>{const _=Ii.useManualTiming?r.timestamp:performance.now();e=!1,Ii.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(_-r.timestamp,$_),1)),r.timestamp=_,r.isProcessing=!0,u.process(r),d.process(r),f.process(r),p.process(r),m.process(r),b.process(r),v.process(r),A.process(r),r.isProcessing=!1,e&&t&&(n=!1,s(S))},w=()=>{e=!0,n=!0,r.isProcessing||s(S)};return{schedule:zc.reduce((_,D)=>{const M=l[D];return _[D]=(P,O=!1,j=!1)=>(e||w(),M.schedule(P,O,j)),_},{}),cancel:_=>{for(let D=0;D<zc.length;D++)l[zc[D]].cancel(_)},state:r,steps:l}}const{schedule:ne,cancel:xs,state:je,steps:Af}=tx(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let au;function K_(){au=void 0}const ln={now:()=>(au===void 0&&ln.set(je.isProcessing||Ii.useManualTiming?je.timestamp:performance.now()),au),set:s=>{au=s,queueMicrotask(K_)}},ex=s=>t=>typeof t=="string"&&t.startsWith(s),Qp=ex("--"),W_=ex("var(--"),Zp=s=>W_(s)?Q_.test(s.split("/*")[0].trim()):!1,Q_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xr={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},qo={...xr,transform:s=>ji(0,1,s)},Vc={...xr,default:1},Bo=s=>Math.round(s*1e5)/1e5,Jp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z_(s){return s==null}const J_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tm=(s,t)=>e=>!!(typeof e=="string"&&J_.test(e)&&e.startsWith(s)||t&&!Z_(e)&&Object.prototype.hasOwnProperty.call(e,t)),nx=(s,t,e)=>n=>{if(typeof n!="string")return n;const[r,o,l,u]=n.match(Jp);return{[s]:parseFloat(r),[t]:parseFloat(o),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},t2=s=>ji(0,255,s),Sf={...xr,transform:s=>Math.round(t2(s))},Ws={test:tm("rgb","red"),parse:nx("red","green","blue"),transform:({red:s,green:t,blue:e,alpha:n=1})=>"rgba("+Sf.transform(s)+", "+Sf.transform(t)+", "+Sf.transform(e)+", "+Bo(qo.transform(n))+")"};function e2(s){let t="",e="",n="",r="";return s.length>5?(t=s.substring(1,3),e=s.substring(3,5),n=s.substring(5,7),r=s.substring(7,9)):(t=s.substring(1,2),e=s.substring(2,3),n=s.substring(3,4),r=s.substring(4,5),t+=t,e+=e,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Wf={test:tm("#"),parse:e2,transform:Ws.transform},ol=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),ys=ol("deg"),di=ol("%"),vt=ol("px"),n2=ol("vh"),i2=ol("vw"),rv={...di,parse:s=>di.parse(s)/100,transform:s=>di.transform(s*100)},tr={test:tm("hsl","hue"),parse:nx("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(s)+", "+di.transform(Bo(t))+", "+di.transform(Bo(e))+", "+Bo(qo.transform(n))+")"},Ee={test:s=>Ws.test(s)||Wf.test(s)||tr.test(s),parse:s=>Ws.test(s)?Ws.parse(s):tr.test(s)?tr.parse(s):Wf.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Ws.transform(s):tr.transform(s),getAnimatableNone:s=>{const t=Ee.parse(s);return t.alpha=0,Ee.transform(t)}},s2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a2(s){return isNaN(s)&&typeof s=="string"&&(s.match(Jp)?.length||0)+(s.match(s2)?.length||0)>0}const ix="number",sx="color",r2="var",o2="var(",ov="${}",l2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xo(s){const t=s.toString(),e=[],n={color:[],number:[],var:[]},r=[];let o=0;const u=t.replace(l2,d=>(Ee.test(d)?(n.color.push(o),r.push(sx),e.push(Ee.parse(d))):d.startsWith(o2)?(n.var.push(o),r.push(r2),e.push(d)):(n.number.push(o),r.push(ix),e.push(parseFloat(d))),++o,ov)).split(ov);return{values:e,split:u,indexes:n,types:r}}function ax(s){return Xo(s).values}function rx(s){const{split:t,types:e}=Xo(s),n=t.length;return r=>{let o="";for(let l=0;l<n;l++)if(o+=t[l],r[l]!==void 0){const u=e[l];u===ix?o+=Bo(r[l]):u===sx?o+=Ee.transform(r[l]):o+=r[l]}return o}}const c2=s=>typeof s=="number"?0:Ee.test(s)?Ee.getAnimatableNone(s):s;function u2(s){const t=ax(s);return rx(s)(t.map(c2))}const ws={test:a2,parse:ax,createTransformer:rx,getAnimatableNone:u2};function xf(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*(2/3-e)*6:s}function h2({hue:s,saturation:t,lightness:e,alpha:n}){s/=360,t/=100,e/=100;let r=0,o=0,l=0;if(!t)r=o=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,d=2*e-u;r=xf(d,u,s+1/3),o=xf(d,u,s),l=xf(d,u,s-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}function mu(s,t){return e=>e>0?t:s}const re=(s,t,e)=>s+(t-s)*e,wf=(s,t,e)=>{const n=s*s,r=e*(t*t-n)+n;return r<0?0:Math.sqrt(r)},d2=[Wf,Ws,tr],f2=s=>d2.find(t=>t.test(s));function lv(s){const t=f2(s);if(!t)return!1;let e=t.parse(s);return t===tr&&(e=h2(e)),e}const cv=(s,t)=>{const e=lv(s),n=lv(t);if(!e||!n)return mu(s,t);const r={...e};return o=>(r.red=wf(e.red,n.red,o),r.green=wf(e.green,n.green,o),r.blue=wf(e.blue,n.blue,o),r.alpha=re(e.alpha,n.alpha,o),Ws.transform(r))},Qf=new Set(["none","hidden"]);function p2(s,t){return Qf.has(s)?e=>e<=0?s:t:e=>e>=1?t:s}function m2(s,t){return e=>re(s,t,e)}function em(s){return typeof s=="number"?m2:typeof s=="string"?Zp(s)?mu:Ee.test(s)?cv:b2:Array.isArray(s)?ox:typeof s=="object"?Ee.test(s)?cv:g2:mu}function ox(s,t){const e=[...s],n=e.length,r=s.map((o,l)=>em(o)(o,t[l]));return o=>{for(let l=0;l<n;l++)e[l]=r[l](o);return e}}function g2(s,t){const e={...s,...t},n={};for(const r in e)s[r]!==void 0&&t[r]!==void 0&&(n[r]=em(s[r])(s[r],t[r]));return r=>{for(const o in n)e[o]=n[o](r);return e}}function y2(s,t){const e=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],l=s.indexes[o][n[o]],u=s.values[l]??0;e[r]=u,n[o]++}return e}const b2=(s,t)=>{const e=ws.createTransformer(t),n=Xo(s),r=Xo(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Qf.has(s)&&!r.values.length||Qf.has(t)&&!n.values.length?p2(s,t):al(ox(y2(n,r),r.values),e):mu(s,t)};function lx(s,t,e){return typeof s=="number"&&typeof t=="number"&&typeof e=="number"?re(s,t,e):em(s)(s,t)}const v2=s=>{const t=({timestamp:e})=>s(e);return{start:(e=!0)=>ne.update(t,e),stop:()=>xs(t),now:()=>je.isProcessing?je.timestamp:ln.now()}},cx=(s,t,e=10)=>{let n="";const r=Math.max(Math.round(t/e),2);for(let o=0;o<r;o++)n+=Math.round(s(o/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},gu=2e4;function nm(s){let t=0;const e=50;let n=s.next(t);for(;!n.done&&t<gu;)t+=e,n=s.next(t);return t>=gu?1/0:t}function A2(s,t=100,e){const n=e({...s,keyframes:[0,t]}),r=Math.min(nm(n),gu);return{type:"keyframes",ease:o=>n.next(r*o).value/t,duration:Un(r)}}const S2=5;function ux(s,t,e){const n=Math.max(t-S2,0);return HS(e-s(n),t-n)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ef=.001;function x2({duration:s=de.duration,bounce:t=de.bounce,velocity:e=de.velocity,mass:n=de.mass}){let r,o,l=1-t;l=ji(de.minDamping,de.maxDamping,l),s=ji(de.minDuration,de.maxDuration,Un(s)),l<1?(r=f=>{const p=f*l,m=p*s,b=p-e,v=Zf(f,l),A=Math.exp(-m);return Ef-b/v*A},o=f=>{const m=f*l*s,b=m*e+e,v=Math.pow(l,2)*Math.pow(f,2)*s,A=Math.exp(-m),S=Zf(Math.pow(f,2),l);return(-r(f)+Ef>0?-1:1)*((b-v)*A)/S}):(r=f=>{const p=Math.exp(-f*s),m=(f-e)*s+1;return-Ef+p*m},o=f=>{const p=Math.exp(-f*s),m=(e-f)*(s*s);return p*m});const u=5/s,d=E2(r,o,u);if(s=hi(s),isNaN(d))return{stiffness:de.stiffness,damping:de.damping,duration:s};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:l*2*Math.sqrt(n*f),duration:s}}}const w2=12;function E2(s,t,e){let n=e;for(let r=1;r<w2;r++)n=n-s(n)/t(n);return n}function Zf(s,t){return s*Math.sqrt(1-t*t)}const T2=["duration","bounce"],C2=["stiffness","damping","mass"];function uv(s,t){return t.some(e=>s[e]!==void 0)}function _2(s){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...s};if(!uv(s,C2)&&uv(s,T2))if(s.visualDuration){const e=s.visualDuration,n=2*Math.PI/(e*1.2),r=n*n,o=2*ji(.05,1,1-(s.bounce||0))*Math.sqrt(r);t={...t,mass:de.mass,stiffness:r,damping:o}}else{const e=x2(s);t={...t,...e,mass:de.mass},t.isResolvedFromDuration=!0}return t}function yu(s=de.visualDuration,t=de.bounce){const e=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:n,restDelta:r}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:p,duration:m,velocity:b,isResolvedFromDuration:v}=_2({...e,velocity:-Un(e.velocity||0)}),A=b||0,S=f/(2*Math.sqrt(d*p)),w=l-o,E=Un(Math.sqrt(d/p)),C=Math.abs(w)<5;n||(n=C?de.restSpeed.granular:de.restSpeed.default),r||(r=C?de.restDelta.granular:de.restDelta.default);let _;if(S<1){const M=Zf(E,S);_=P=>{const O=Math.exp(-S*E*P);return l-O*((A+S*E*w)/M*Math.sin(M*P)+w*Math.cos(M*P))}}else if(S===1)_=M=>l-Math.exp(-E*M)*(w+(A+E*w)*M);else{const M=E*Math.sqrt(S*S-1);_=P=>{const O=Math.exp(-S*E*P),j=Math.min(M*P,300);return l-O*((A+S*E*w)*Math.sinh(j)+M*w*Math.cosh(j))/M}}const D={calculatedDuration:v&&m||null,next:M=>{const P=_(M);if(v)u.done=M>=m;else{let O=M===0?A:0;S<1&&(O=M===0?hi(A):ux(_,M,P));const j=Math.abs(O)<=n,G=Math.abs(l-P)<=r;u.done=j&&G}return u.value=u.done?l:P,u},toString:()=>{const M=Math.min(nm(D),gu),P=cx(O=>D.next(M*O).value,M,30);return M+"ms "+P},toTransition:()=>{}};return D}yu.applyToOptions=s=>{const t=A2(s,100,yu);return s.ease=t.ease,s.duration=hi(t.duration),s.type="keyframes",s};function Jf({keyframes:s,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:p}){const m=s[0],b={done:!1,value:m},v=j=>u!==void 0&&j<u||d!==void 0&&j>d,A=j=>u===void 0?d:d===void 0||Math.abs(u-j)<Math.abs(d-j)?u:d;let S=e*t;const w=m+S,E=l===void 0?w:l(w);E!==w&&(S=E-m);const C=j=>-S*Math.exp(-j/n),_=j=>E+C(j),D=j=>{const G=C(j),W=_(j);b.done=Math.abs(G)<=f,b.value=b.done?E:W};let M,P;const O=j=>{v(b.value)&&(M=j,P=yu({keyframes:[b.value,A(b.value)],velocity:ux(_,j,b.value),damping:r,stiffness:o,restDelta:f,restSpeed:p}))};return O(0),{calculatedDuration:null,next:j=>{let G=!1;return!P&&M===void 0&&(G=!0,D(j),O(j)),M!==void 0&&j>=M?P.next(j-M):(!G&&D(j),b)}}}function R2(s,t,e){const n=[],r=e||Ii.mix||lx,o=s.length-1;for(let l=0;l<o;l++){let u=r(s[l],s[l+1]);if(t){const d=Array.isArray(t)?t[l]||zn:t;u=al(d,u)}n.push(u)}return n}function M2(s,t,{clamp:e=!0,ease:n,mixer:r}={}){const o=s.length;if(Xp(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=s[0]===s[1];s[0]>s[o-1]&&(s=[...s].reverse(),t=[...t].reverse());const u=R2(t,n,r),d=u.length,f=p=>{if(l&&p<s[0])return t[0];let m=0;if(d>1)for(;m<s.length-2&&!(p<s[m+1]);m++);const b=Go(s[m],s[m+1],p);return u[m](b)};return e?p=>f(ji(s[0],s[o-1],p)):f}function D2(s,t){const e=s[s.length-1];for(let n=1;n<=t;n++){const r=Go(0,t,n);s.push(re(e,1,r))}}function L2(s){const t=[0];return D2(t,s.length-1),t}function O2(s,t){return s.map(e=>e*t)}function N2(s,t){return s.map(()=>t||ZS).splice(0,s.length-1)}function Fo({duration:s=300,keyframes:t,times:e,ease:n="easeInOut"}){const r=G_(n)?n.map(av):av(n),o={done:!1,value:t[0]},l=O2(e&&e.length===t.length?e:L2(t),s),u=M2(l,t,{ease:Array.isArray(r)?r:N2(t,r)});return{calculatedDuration:s,next:d=>(o.value=u(d),o.done=d>=s,o)}}const P2=s=>s!==null;function im(s,{repeat:t,repeatType:e="loop"},n,r=1){const o=s.filter(P2),u=r<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||n===void 0?o[u]:n}const k2={decay:Jf,inertia:Jf,tween:Fo,keyframes:Fo,spring:yu};function hx(s){typeof s.type=="string"&&(s.type=k2[s.type])}class sm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const B2=s=>s/100;class am extends sm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==ln.now()&&this.tick(ln.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hx(t);const{type:e=Fo,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const d=e||Fo;d!==Fo&&typeof u[0]!="number"&&(this.mixKeyframes=al(B2,lx(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=nm(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:b,repeatDelay:v,type:A,onUpdate:S,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let _=this.currentTime,D=n;if(m){const j=Math.min(this.currentTime,r)/u;let G=Math.floor(j),W=j%1;!W&&j>=1&&(W=1),W===1&&G--,G=Math.min(G,m+1),!!(G%2)&&(b==="reverse"?(W=1-W,v&&(W-=v/u)):b==="mirror"&&(D=l)),_=ji(0,1,W)*u}const M=C?{done:!1,value:p[0]}:D.next(_);o&&(M.value=o(M.value));let{done:P}=M;!C&&d!==null&&(P=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return O&&A!==Jf&&(M.value=im(p,this.options,w,this.speed)),S&&S(M.value),O&&this.finish(),M}then(t,e){return this.finished.then(t,e)}get duration(){return Un(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Un(t)}get time(){return Un(this.currentTime)}set time(t){t=hi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ln.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Un(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=v2,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=e??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function F2(s){for(let t=1;t<s.length;t++)s[t]??(s[t]=s[t-1])}const Qs=s=>s*180/Math.PI,tp=s=>{const t=Qs(Math.atan2(s[1],s[0]));return ep(t)},j2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:tp,rotateZ:tp,skewX:s=>Qs(Math.atan(s[1])),skewY:s=>Qs(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},ep=s=>(s=s%360,s<0&&(s+=360),s),hv=tp,dv=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),fv=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),I2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dv,scaleY:fv,scale:s=>(dv(s)+fv(s))/2,rotateX:s=>ep(Qs(Math.atan2(s[6],s[5]))),rotateY:s=>ep(Qs(Math.atan2(-s[2],s[0]))),rotateZ:hv,rotate:hv,skewX:s=>Qs(Math.atan(s[4])),skewY:s=>Qs(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function np(s){return s.includes("scale")?1:0}function ip(s,t){if(!s||s==="none")return np(t);const e=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(e)n=I2,r=e;else{const u=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=j2,r=u}if(!r)return np(t);const o=n[t],l=r[1].split(",").map(z2);return typeof o=="function"?o(l):l[o]}const U2=(s,t)=>{const{transform:e="none"}=getComputedStyle(s);return ip(e,t)};function z2(s){return parseFloat(s.trim())}const wr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Er=new Set(wr),pv=s=>s===xr||s===vt,V2=new Set(["x","y","z"]),H2=wr.filter(s=>!V2.has(s));function G2(s){const t=[];return H2.forEach(e=>{const n=s.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const ia={width:({x:s},{paddingLeft:t="0",paddingRight:e="0"})=>s.max-s.min-parseFloat(t)-parseFloat(e),height:({y:s},{paddingTop:t="0",paddingBottom:e="0"})=>s.max-s.min-parseFloat(t)-parseFloat(e),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:(s,{transform:t})=>ip(t,"x"),y:(s,{transform:t})=>ip(t,"y")};ia.translateX=ia.x;ia.translateY=ia.y;const sa=new Set;let sp=!1,ap=!1,rp=!1;function dx(){if(ap){const s=Array.from(sa).filter(n=>n.needsMeasurement),t=new Set(s.map(n=>n.element)),e=new Map;t.forEach(n=>{const r=G2(n);r.length&&(e.set(n,r),n.render())}),s.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=e.get(n);r&&r.forEach(([o,l])=>{n.getValue(o)?.set(l)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}ap=!1,sp=!1,sa.forEach(s=>s.complete(rp)),sa.clear()}function fx(){sa.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(ap=!0)})}function q2(){rp=!0,fx(),dx(),rp=!1}class rm{constructor(t,e,n,r,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(sa.add(this),sp||(sp=!0,ne.read(fx),ne.resolveKeyframes(dx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;if(t[0]===null){const o=r?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&e){const u=n.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),r&&o===void 0&&r.set(t[0])}F2(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),sa.delete(this)}cancel(){this.state==="scheduled"&&(sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X2=s=>s.startsWith("--");function Y2(s,t,e){X2(t)?s.style.setProperty(t,e):s.style[t]=e}const $2=Yp(()=>window.ScrollTimeline!==void 0),K2={};function W2(s,t){const e=Yp(s);return()=>K2[t]??e()}const px=W2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Oo=([s,t,e,n])=>`cubic-bezier(${s}, ${t}, ${e}, ${n})`,mv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oo([0,.65,.55,1]),circOut:Oo([.55,0,1,.45]),backIn:Oo([.31,.01,.66,-.59]),backOut:Oo([.33,1.53,.69,.99])};function mx(s,t){if(s)return typeof s=="function"?px()?cx(s,t):"ease-out":JS(s)?Oo(s):Array.isArray(s)?s.map(e=>mx(e,t)||mv.easeOut):mv[s]}function Q2(s,t,e,{delay:n=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const p={[t]:e};d&&(p.offset=d);const m=mx(u,r);Array.isArray(m)&&(p.easing=m);const b={delay:n,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),s.animate(p,b)}function gx(s){return typeof s=="function"&&"applyToOptions"in s}function Z2({type:s,...t}){return gx(s)&&px()?s.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class J2 extends sm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:n,keyframes:r,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,Xp(typeof t.type!="string");const f=Z2(t);this.animation=Q2(e,n,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=im(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):Y2(e,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Un(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Un(t)}get time(){return Un(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=hi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&$2()?(this.animation.timeline=t,zn):e(this)}}const yx={anticipate:KS,backInOut:$S,circInOut:QS};function tR(s){return s in yx}function eR(s){typeof s.ease=="string"&&tR(s.ease)&&(s.ease=yx[s.ease])}const gv=10;class nR extends J2{constructor(t){eR(t),hx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:r,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new am({...l,autoplay:!1}),d=hi(this.finishedTime??this.time);e.setWithVelocity(u.sample(d-gv).value,u.sample(d).value,gv),u.stop()}}const yv=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(ws.test(s)||s==="0")&&!s.startsWith("url("));function iR(s){const t=s[0];if(s.length===1)return!0;for(let e=0;e<s.length;e++)if(s[e]!==t)return!0}function sR(s,t,e,n){const r=s[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=s[s.length-1],l=yv(r,t),u=yv(o,t);return!l||!u?!1:iR(s)||(e==="spring"||gx(e))&&n}function op(s){s.duration=0,s.type="keyframes"}const aR=new Set(["opacity","clipPath","filter","transform"]),rR=Yp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oR(s){const{motionValue:t,name:e,repeatDelay:n,repeatType:r,damping:o,type:l}=s;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return rR()&&e&&aR.has(e)&&(e!=="transform"||!f)&&!d&&!n&&r!=="mirror"&&o!==0&&l!=="inertia"}const lR=40;class cR extends sm{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ln.now();const b={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:p,...m},v=p?.KeyframeResolver||rm;this.keyframeResolver=new v(u,(A,S,w)=>this.onKeyframesResolved(A,S,b,!w),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,n,r){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:p}=n;this.resolvedAt=ln.now(),sR(t,o,l,u)||((Ii.instantAnimations||!d)&&p?.(im(t,n,e)),t[0]=t[t.length-1],op(n),n.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>lR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},v=!f&&oR(b)?new nR({...b,element:b.motionValue.owner.current}):new am(b);v.finished.then(()=>this.notifyFinished()).catch(zn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),q2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const uR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hR(s){const t=uR.exec(s);if(!t)return[,];const[,e,n,r]=t;return[`--${e??n}`,r]}function bx(s,t,e=1){const[n,r]=hR(s);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const l=o.trim();return US(l)?parseFloat(l):l}return Zp(r)?bx(r,t,e+1):r}function om(s,t){return s?.[t]??s?.default??s}const vx=new Set(["width","height","top","left","right","bottom",...wr]),dR={test:s=>s==="auto",parse:s=>s},Ax=s=>t=>t.test(s),Sx=[xr,vt,di,ys,i2,n2,dR],bv=s=>Sx.find(Ax(s));function fR(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||VS(s):!0}const pR=new Set(["brightness","contrast","saturate","opacity"]);function mR(s){const[t,e]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[n]=e.match(Jp)||[];if(!n)return s;const r=e.replace(n,"");let o=pR.has(t)?1:0;return n!==e&&(o*=100),t+"("+o+r+")"}const gR=/\b([a-z-]*)\(.*?\)/gu,lp={...ws,getAnimatableNone:s=>{const t=s.match(gR);return t?t.map(mR).join(" "):s}},vv={...xr,transform:Math.round},yR={rotate:ys,rotateX:ys,rotateY:ys,rotateZ:ys,scale:Vc,scaleX:Vc,scaleY:Vc,scaleZ:Vc,skew:ys,skewX:ys,skewY:ys,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:qo,originX:rv,originY:rv,originZ:vt},lm={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,backgroundPositionX:vt,backgroundPositionY:vt,...yR,zIndex:vv,fillOpacity:qo,strokeOpacity:qo,numOctaves:vv},bR={...lm,color:Ee,backgroundColor:Ee,outlineColor:Ee,fill:Ee,stroke:Ee,borderColor:Ee,borderTopColor:Ee,borderRightColor:Ee,borderBottomColor:Ee,borderLeftColor:Ee,filter:lp,WebkitFilter:lp},xx=s=>bR[s];function wx(s,t){let e=xx(s);return e!==lp&&(e=ws),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const vR=new Set(["auto","none","0"]);function AR(s,t,e){let n=0,r;for(;n<s.length&&!r;){const o=s[n];typeof o=="string"&&!vR.has(o)&&Xo(o).values.length&&(r=s[n]),n++}if(r&&e)for(const o of t)s[o]=wx(e,r)}class SR extends rm{constructor(t,e,n,r,o){super(t,e,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),Zp(f))){const p=bx(f,e.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!vx.has(n)||t.length!==2)return;const[r,o]=t,l=bv(r),u=bv(o);if(l!==u)if(pv(l)&&pv(u))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else ia[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||fR(t[r]))&&n.push(r);n.length&&AR(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ia[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=ia[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function xR(s,t,e){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let n=document;const r=e?.[s]??n.querySelectorAll(s);return r?Array.from(r):[]}return Array.from(s)}const Ex=(s,t)=>t&&typeof s=="number"?t.transform(s):s;function Tx(s){return zS(s)&&"offsetHeight"in s}const Av=30,wR=s=>!isNaN(parseFloat(s));class ER{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=ln.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=ln.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new $p);const n=this.events[t].add(e);return t==="change"?()=>{n(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Av)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Av);return HS(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pr(s,t){return new ER(s,t)}const{schedule:cm}=tx(queueMicrotask,!1),Yn={x:!1,y:!1};function Cx(){return Yn.x||Yn.y}function TR(s){return s==="x"||s==="y"?Yn[s]?null:(Yn[s]=!0,()=>{Yn[s]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function _x(s,t){const e=xR(s),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[e,r,()=>n.abort()]}function Sv(s){return!(s.pointerType==="touch"||Cx())}function CR(s,t,e={}){const[n,r,o]=_x(s,e),l=u=>{if(!Sv(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const p=m=>{Sv(m)&&(f(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,r)};return n.forEach(u=>{u.addEventListener("pointerenter",l,r)}),o}const Rx=(s,t)=>t?s===t?!0:Rx(s,t.parentElement):!1,um=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,_R=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RR(s){return _R.has(s.tagName)||s.tabIndex!==-1}const ru=new WeakSet;function xv(s){return t=>{t.key==="Enter"&&s(t)}}function Tf(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const MR=(s,t)=>{const e=s.currentTarget;if(!e)return;const n=xv(()=>{if(ru.has(e))return;Tf(e,"down");const r=xv(()=>{Tf(e,"up")}),o=()=>Tf(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",n,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),t)};function wv(s){return um(s)&&!Cx()}function DR(s,t,e={}){const[n,r,o]=_x(s,e),l=u=>{const d=u.currentTarget;if(!wv(u))return;ru.add(d);const f=t(d,u),p=(v,A)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",b),ru.has(d)&&ru.delete(d),wv(v)&&typeof f=="function"&&f(v,{success:A})},m=v=>{p(v,d===window||d===document||e.useGlobalTarget||Rx(d,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",b,r)};return n.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),Tx(u)&&(u.addEventListener("focus",f=>MR(f,r)),!RR(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function Mx(s){return zS(s)&&"ownerSVGElement"in s}function LR(s){return Mx(s)&&s.tagName==="svg"}const Ge=s=>!!(s&&s.getVelocity),OR=[...Sx,Ee,ws],NR=s=>OR.find(Ax(s)),hm=L.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function Ev(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function PR(...s){return t=>{let e=!1;const n=s.map(r=>{const o=Ev(r,t);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let r=0;r<n.length;r++){const o=n[r];typeof o=="function"?o():Ev(s[r],null)}}}}function kR(...s){return L.useCallback(PR(...s),s)}class BR extends L.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const n=e.offsetParent,r=Tx(n)&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FR({children:s,isPresent:t,anchorX:e,root:n}){const r=L.useId(),o=L.useRef(null),l=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=L.useContext(hm),d=kR(o,s?.ref);return L.useInsertionEffect(()=>{const{width:f,height:p,top:m,left:b,right:v}=l.current;if(t||!o.current||!f||!p)return;const A=e==="left"?`left: ${b}`:`right: ${v}`;o.current.dataset.motionPopId=r;const S=document.createElement("style");u&&(S.nonce=u);const w=n??document.head;return w.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${A}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(S)&&w.removeChild(S)}},[t]),R.jsx(BR,{isPresent:t,childRef:o,sizeRef:l,children:L.cloneElement(s,{ref:d})})}const jR=({children:s,initial:t,isPresent:e,onExitComplete:n,custom:r,presenceAffectsLayout:o,mode:l,anchorX:u,root:d})=>{const f=Vp(IR),p=L.useId();let m=!0,b=L.useMemo(()=>(m=!1,{id:p,initial:t,isPresent:e,custom:r,onExitComplete:v=>{f.set(v,!0);for(const A of f.values())if(!A)return;n&&n()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[e,f,n]);return o&&m&&(b={...b}),L.useMemo(()=>{f.forEach((v,A)=>f.set(A,!1))},[e]),L.useEffect(()=>{!e&&!f.size&&n&&n()},[e]),l==="popLayout"&&(s=R.jsx(FR,{isPresent:e,anchorX:u,root:d,children:s})),R.jsx(Du.Provider,{value:b,children:s})};function IR(){return new Map}function Dx(s=!0){const t=L.useContext(Du);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=L.useId();L.useEffect(()=>{if(s)return r(o)},[s]);const l=L.useCallback(()=>s&&n&&n(o),[o,n,s]);return!e&&n?[!1,l]:[!0]}const Hc=s=>s.key||"";function Tv(s){const t=[];return L.Children.forEach(s,e=>{L.isValidElement(e)&&t.push(e)}),t}const dm=({children:s,custom:t,initial:e=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[f,p]=Dx(l),m=L.useMemo(()=>Tv(s),[s]),b=l&&!f?[]:m.map(Hc),v=L.useRef(!0),A=L.useRef(m),S=Vp(()=>new Map),[w,E]=L.useState(m),[C,_]=L.useState(m);IS(()=>{v.current=!1,A.current=m;for(let P=0;P<C.length;P++){const O=Hc(C[P]);b.includes(O)?S.delete(O):S.get(O)!==!0&&S.set(O,!1)}},[C,b.length,b.join("-")]);const D=[];if(m!==w){let P=[...m];for(let O=0;O<C.length;O++){const j=C[O],G=Hc(j);b.includes(G)||(P.splice(O,0,j),D.push(j))}return o==="wait"&&D.length&&(P=D),_(Tv(P)),E(m),null}const{forceRender:M}=L.useContext(zp);return R.jsx(R.Fragment,{children:C.map(P=>{const O=Hc(P),j=l&&!f?!1:m===C||b.includes(O),G=()=>{if(S.has(O))S.set(O,!0);else return;let W=!0;S.forEach(J=>{J||(W=!1)}),W&&(M?.(),_(A.current),l&&p?.(),n&&n())};return R.jsx(jR,{isPresent:j,initial:!v.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:d,onExitComplete:j?void 0:G,anchorX:u,children:P},O)})})},Lx=L.createContext({strict:!1}),Cv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mr={};for(const s in Cv)mr[s]={isEnabled:t=>Cv[s].some(e=>!!t[e])};function UR(s){for(const t in s)mr[t]={...mr[t],...s[t]}}const zR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bu(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||zR.has(s)}let Ox=s=>!bu(s);function VR(s){typeof s=="function"&&(Ox=t=>t.startsWith("on")?!bu(t):s(t))}try{VR(require("@emotion/is-prop-valid").default)}catch{}function HR(s,t,e){const n={};for(const r in s)r==="values"&&typeof s.values=="object"||(Ox(r)||e===!0&&bu(r)||!t&&!bu(r)||s.draggable&&r.startsWith("onDrag"))&&(n[r]=s[r]);return n}const Lu=L.createContext({});function Ou(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function Yo(s){return typeof s=="string"||Array.isArray(s)}const fm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pm=["initial",...fm];function Nu(s){return Ou(s.animate)||pm.some(t=>Yo(s[t]))}function Nx(s){return!!(Nu(s)||s.variants)}function GR(s,t){if(Nu(s)){const{initial:e,animate:n}=s;return{initial:e===!1||Yo(e)?e:void 0,animate:Yo(n)?n:void 0}}return s.inherit!==!1?t:{}}function qR(s){const{initial:t,animate:e}=GR(s,L.useContext(Lu));return L.useMemo(()=>({initial:t,animate:e}),[_v(t),_v(e)])}function _v(s){return Array.isArray(s)?s.join(" "):s}const $o={};function XR(s){for(const t in s)$o[t]=s[t],Qp(t)&&($o[t].isCSSVariable=!0)}function Px(s,{layout:t,layoutId:e}){return Er.has(s)||s.startsWith("origin")||(t||e!==void 0)&&(!!$o[s]||s==="opacity")}const YR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$R=wr.length;function KR(s,t,e){let n="",r=!0;for(let o=0;o<$R;o++){const l=wr[o],u=s[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||e){const f=Ex(u,lm[l]);if(!d){r=!1;const p=YR[l]||l;n+=`${p}(${f}) `}e&&(t[l]=f)}}return n=n.trim(),e?n=e(t,r?"":n):r&&(n="none"),n}function mm(s,t,e){const{style:n,vars:r,transformOrigin:o}=s;let l=!1,u=!1;for(const d in t){const f=t[d];if(Er.has(d)){l=!0;continue}else if(Qp(d)){r[d]=f;continue}else{const p=Ex(f,lm[d]);d.startsWith("origin")?(u=!0,o[d]=p):n[d]=p}}if(t.transform||(l||e?n.transform=KR(t,s.transform,e):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=o;n.transformOrigin=`${d} ${f} ${p}`}}const gm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kx(s,t,e){for(const n in t)!Ge(t[n])&&!Px(n,e)&&(s[n]=t[n])}function WR({transformTemplate:s},t){return L.useMemo(()=>{const e=gm();return mm(e,t,s),Object.assign({},e.vars,e.style)},[t])}function QR(s,t){const e=s.style||{},n={};return kx(n,e,s),Object.assign(n,WR(s,t)),n}function ZR(s,t){const e={},n=QR(s,t);return s.drag&&s.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(e.tabIndex=0),e.style=n,e}const JR={offset:"stroke-dashoffset",array:"stroke-dasharray"},tM={offset:"strokeDashoffset",array:"strokeDasharray"};function eM(s,t,e=1,n=0,r=!0){s.pathLength=1;const o=r?JR:tM;s[o.offset]=vt.transform(-n);const l=vt.transform(t),u=vt.transform(e);s[o.array]=`${l} ${u}`}function Bx(s,{attrX:t,attrY:e,attrScale:n,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...u},d,f,p){if(mm(s,u,f),d){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:m,style:b}=s;m.transform&&(b.transform=m.transform,delete m.transform),(b.transform||m.transformOrigin)&&(b.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),e!==void 0&&(m.y=e),n!==void 0&&(m.scale=n),r!==void 0&&eM(m,r,o,l,!1)}const Fx=()=>({...gm(),attrs:{}}),jx=s=>typeof s=="string"&&s.toLowerCase()==="svg";function nM(s,t,e,n){const r=L.useMemo(()=>{const o=Fx();return Bx(o,t,jx(n),s.transformTemplate,s.style),{...o.attrs,style:{...o.style}}},[t]);if(s.style){const o={};kx(o,s.style,s),r.style={...o,...r.style}}return r}const iM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ym(s){return typeof s!="string"||s.includes("-")?!1:!!(iM.indexOf(s)>-1||/[A-Z]/u.test(s))}function sM(s,t,e,{latestValues:n},r,o=!1){const u=(ym(s)?nM:ZR)(t,n,r,s),d=HR(t,typeof s=="string",o),f=s!==L.Fragment?{...d,...u,ref:e}:{},{children:p}=t,m=L.useMemo(()=>Ge(p)?p.get():p,[p]);return L.createElement(s,{...f,children:m})}function Rv(s){const t=[{},{}];return s?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function bm(s,t,e,n){if(typeof t=="function"){const[r,o]=Rv(n);t=t(e!==void 0?e:s.custom,r,o)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[r,o]=Rv(n);t=t(e!==void 0?e:s.custom,r,o)}return t}function ou(s){return Ge(s)?s.get():s}function aM({scrapeMotionValuesFromProps:s,createRenderState:t},e,n,r){return{latestValues:rM(e,n,r,s),renderState:t()}}function rM(s,t,e,n){const r={},o=n(s,{});for(const b in o)r[b]=ou(o[b]);let{initial:l,animate:u}=s;const d=Nu(s),f=Nx(s);t&&f&&!d&&s.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const m=p?u:l;if(m&&typeof m!="boolean"&&!Ou(m)){const b=Array.isArray(m)?m:[m];for(let v=0;v<b.length;v++){const A=bm(s,b[v]);if(A){const{transitionEnd:S,transition:w,...E}=A;for(const C in E){let _=E[C];if(Array.isArray(_)){const D=p?_.length-1:0;_=_[D]}_!==null&&(r[C]=_)}for(const C in S)r[C]=S[C]}}}return r}const Ix=s=>(t,e)=>{const n=L.useContext(Lu),r=L.useContext(Du),o=()=>aM(s,t,n,r);return e?o():Vp(o)};function vm(s,t,e){const{style:n}=s,r={};for(const o in n)(Ge(n[o])||t.style&&Ge(t.style[o])||Px(o,s)||e?.getValue(o)?.liveStyle!==void 0)&&(r[o]=n[o]);return r}const oM=Ix({scrapeMotionValuesFromProps:vm,createRenderState:gm});function Ux(s,t,e){const n=vm(s,t,e);for(const r in s)if(Ge(s[r])||Ge(t[r])){const o=wr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=s[r]}return n}const lM=Ix({scrapeMotionValuesFromProps:Ux,createRenderState:Fx}),cM=Symbol.for("motionComponentSymbol");function er(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function uM(s,t,e){return L.useCallback(n=>{n&&s.onMount&&s.onMount(n),t&&(n?t.mount(n):t.unmount()),e&&(typeof e=="function"?e(n):er(e)&&(e.current=n))},[t])}const Am=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hM="framerAppearId",zx="data-"+Am(hM),Vx=L.createContext({});function dM(s,t,e,n,r){const{visualElement:o}=L.useContext(Lu),l=L.useContext(Lx),u=L.useContext(Du),d=L.useContext(hm).reducedMotion,f=L.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(s,{visualState:t,parent:o,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=L.useContext(Vx);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&fM(f.current,e,r,m);const b=L.useRef(!1);L.useInsertionEffect(()=>{p&&b.current&&p.update(e,u)});const v=e[zx],A=L.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return IS(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),A.current&&p.animationState&&p.animationState.animateChanges())}),L.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),A.current=!1),p.enteringChildren=void 0)}),p}function fM(s,t,e,n){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=t;s.projection=new e(s.latestValues,t["data-framer-portal-id"]?void 0:Hx(s.parent)),s.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&er(u),visualElement:s,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:f})}function Hx(s){if(s)return s.options.allowProjection!==!1?s.projection:Hx(s.parent)}function Cf(s,{forwardMotionProps:t=!1}={},e,n){e&&UR(e);const r=ym(s)?lM:oM;function o(u,d){let f;const p={...L.useContext(hm),...u,layoutId:pM(u)},{isStatic:m}=p,b=qR(u),v=r(u,m);if(!m&&Hp){mM();const A=gM(p);f=A.MeasureLayout,b.visualElement=dM(s,v,p,n,A.ProjectionNode)}return R.jsxs(Lu.Provider,{value:b,children:[f&&b.visualElement?R.jsx(f,{visualElement:b.visualElement,...p}):null,sM(s,u,uM(v,b.visualElement,d),v,m,t)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=L.forwardRef(o);return l[cM]=s,l}function pM({layoutId:s}){const t=L.useContext(zp).id;return t&&s!==void 0?t+"-"+s:s}function mM(s,t){L.useContext(Lx).strict}function gM(s){const{drag:t,layout:e}=mr;if(!t&&!e)return{};const n={...t,...e};return{MeasureLayout:t?.isEnabled(s)||e?.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function yM(s,t){if(typeof Proxy>"u")return Cf;const e=new Map,n=(o,l)=>Cf(o,l,s,t),r=(o,l)=>n(o,l);return new Proxy(r,{get:(o,l)=>l==="create"?n:(e.has(l)||e.set(l,Cf(l,void 0,s,t)),e.get(l))})}function Gx({top:s,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:s,max:n}}}function bM({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function vM(s,t){if(!t)return s;const e=t({x:s.left,y:s.top}),n=t({x:s.right,y:s.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function _f(s){return s===void 0||s===1}function cp({scale:s,scaleX:t,scaleY:e}){return!_f(s)||!_f(t)||!_f(e)}function $s(s){return cp(s)||qx(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function qx(s){return Mv(s.x)||Mv(s.y)}function Mv(s){return s&&s!=="0%"}function vu(s,t,e){const n=s-e,r=t*n;return e+r}function Dv(s,t,e,n,r){return r!==void 0&&(s=vu(s,r,n)),vu(s,e,n)+t}function up(s,t=0,e=1,n,r){s.min=Dv(s.min,t,e,n,r),s.max=Dv(s.max,t,e,n,r)}function Xx(s,{x:t,y:e}){up(s.x,t.translate,t.scale,t.originPoint),up(s.y,e.translate,e.scale,e.originPoint)}const Lv=.999999999999,Ov=1.0000000000001;function AM(s,t,e,n=!1){const r=e.length;if(!r)return;t.x=t.y=1;let o,l;for(let u=0;u<r;u++){o=e[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ir(s,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Xx(s,l)),n&&$s(o.latestValues)&&ir(s,o.latestValues))}t.x<Ov&&t.x>Lv&&(t.x=1),t.y<Ov&&t.y>Lv&&(t.y=1)}function nr(s,t){s.min=s.min+t,s.max=s.max+t}function Nv(s,t,e,n,r=.5){const o=re(s.min,s.max,r);up(s,t,e,o,n)}function ir(s,t){Nv(s.x,t.x,t.scaleX,t.scale,t.originX),Nv(s.y,t.y,t.scaleY,t.scale,t.originY)}function Yx(s,t){return Gx(vM(s.getBoundingClientRect(),t))}function SM(s,t,e){const n=Yx(s,e),{scroll:r}=t;return r&&(nr(n.x,r.offset.x),nr(n.y,r.offset.y)),n}const Pv=()=>({translate:0,scale:1,origin:0,originPoint:0}),sr=()=>({x:Pv(),y:Pv()}),kv=()=>({min:0,max:0}),ye=()=>({x:kv(),y:kv()}),hp={current:null},$x={current:!1};function xM(){if($x.current=!0,!!Hp)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>hp.current=s.matches;s.addEventListener("change",t),t()}else hp.current=!1}const wM=new WeakMap;function EM(s,t,e){for(const n in t){const r=t[n],o=e[n];if(Ge(r))s.addValue(n,r);else if(Ge(o))s.addValue(n,pr(r,{owner:s}));else if(o!==r)if(s.hasValue(n)){const l=s.getValue(n);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=s.getStaticValue(n);s.addValue(n,pr(l!==void 0?l:r,{owner:s}))}}for(const n in e)t[n]===void 0&&s.removeValue(n);return t}const Bv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TM{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ln.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ne.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Nu(e),this.isVariantNode=Nx(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in m){const v=m[b];d[b]!==void 0&&Ge(v)&&v.set(d[b])}}mount(t){this.current=t,wM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),$x.current||xM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xs(this.notifyUpdate),xs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Er.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ne.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mr){const e=mr[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<Bv.length;n++){const r=Bv[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=t[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=EM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=pr(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(US(n)||VS(n))?n=parseFloat(n):!NR(n)&&ws.test(e)&&(n=wx(t,e)),this.setBaseTarget(t,Ge(n)?n.get():n)),Ge(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if(typeof e=="string"||typeof e=="object"){const o=bm(this.props,e,this.presenceContext?.custom);o&&(n=o[t])}if(e&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Ge(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new $p),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){cm.render(this.render)}}class Kx extends TM{constructor(){super(...arguments),this.KeyframeResolver=SR}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ge(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Wx(s,{style:t,vars:e},n,r){const o=s.style;let l;for(l in t)o[l]=t[l];r?.applyProjectionStyles(o,n);for(l in e)o.setProperty(l,e[l])}function CM(s){return window.getComputedStyle(s)}class _M extends Kx{constructor(){super(...arguments),this.type="html",this.renderInstance=Wx}readValueFromInstance(t,e){if(Er.has(e))return this.projection?.isProjecting?np(e):U2(t,e);{const n=CM(t),r=(Qp(e)?n.getPropertyValue(e):n[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Yx(t,e)}build(t,e,n){mm(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return vm(t,e,n)}}const Qx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RM(s,t,e,n){Wx(s,t,void 0,n);for(const r in t.attrs)s.setAttribute(Qx.has(r)?r:Am(r),t.attrs[r])}class MM extends Kx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Er.has(e)){const n=xx(e);return n&&n.default||0}return e=Qx.has(e)?e:Am(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return Ux(t,e,n)}build(t,e,n){Bx(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,r){RM(t,e,n,r)}mount(t){this.isSVGTag=jx(t.tagName),super.mount(t)}}const DM=(s,t)=>ym(s)?new MM(t):new _M(t,{allowProjection:s!==L.Fragment});function or(s,t,e){const n=s.getProps();return bm(n,t,e!==void 0?e:n.custom,s)}const dp=s=>Array.isArray(s);function LM(s,t,e){s.hasValue(t)?s.getValue(t).set(e):s.addValue(t,pr(e))}function OM(s){return dp(s)?s[s.length-1]||0:s}function NM(s,t){const e=or(s,t);let{transitionEnd:n={},transition:r={},...o}=e||{};o={...o,...n};for(const l in o){const u=OM(o[l]);LM(s,l,u)}}function PM(s){return!!(Ge(s)&&s.add)}function fp(s,t){const e=s.getValue("willChange");if(PM(e))return e.add(t);if(!e&&Ii.WillChange){const n=new Ii.WillChange("auto");s.addValue("willChange",n),n.add(t)}}function Zx(s){return s.props[zx]}const kM=s=>s!==null;function BM(s,{repeat:t,repeatType:e="loop"},n){const r=s.filter(kM),o=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[o]}const FM={type:"spring",stiffness:500,damping:25,restSpeed:10},jM=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),IM={type:"keyframes",duration:.8},UM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zM=(s,{keyframes:t})=>t.length>2?IM:Er.has(s)?s.startsWith("scale")?jM(t[1]):FM:UM;function VM({when:s,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const Sm=(s,t,e,n={},r,o)=>l=>{const u=om(n,s)||{},d=u.delay||n.delay||0;let{elapsed:f=0}=n;f=f-hi(d);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:s,motionValue:t,element:o?void 0:r};VM(u)||Object.assign(p,zM(s,p)),p.duration&&(p.duration=hi(p.duration)),p.repeatDelay&&(p.repeatDelay=hi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(op(p),p.delay===0&&(m=!0)),(Ii.instantAnimations||Ii.skipAnimations)&&(m=!0,op(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,m&&!o&&t.get()!==void 0){const b=BM(p.keyframes,u);if(b!==void 0){ne.update(()=>{p.onUpdate(b),p.onComplete()});return}}return u.isSync?new am(p):new cR(p)};function HM({protectedKeys:s,needsAnimating:t},e){const n=s.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function Jx(s,t,{delay:e=0,transitionOverride:n,type:r}={}){let{transition:o=s.getDefaultTransition(),transitionEnd:l,...u}=t;n&&(o=n);const d=[],f=r&&s.animationState&&s.animationState.getState()[r];for(const p in u){const m=s.getValue(p,s.latestValues[p]??null),b=u[p];if(b===void 0||f&&HM(f,p))continue;const v={delay:e,...om(o||{},p)},A=m.get();if(A!==void 0&&!m.isAnimating&&!Array.isArray(b)&&b===A&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const E=Zx(s);if(E){const C=window.MotionHandoffAnimation(E,p,ne);C!==null&&(v.startTime=C,S=!0)}}fp(s,p),m.start(Sm(p,m,b,s.shouldReduceMotion&&vx.has(p)?{type:!1}:v,s,S));const w=m.animation;w&&d.push(w)}return l&&Promise.all(d).then(()=>{ne.update(()=>{l&&NM(s,l)})}),d}function tw(s,t,e,n=0,r=1){const o=Array.from(s).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),l=s.size,u=(l-1)*n;return typeof e=="function"?e(o,l):r===1?o*n:u-o*n}function pp(s,t,e={}){const n=or(s,t,e.type==="exit"?s.presenceContext?.custom:void 0);let{transition:r=s.getDefaultTransition()||{}}=n||{};e.transitionOverride&&(r=e.transitionOverride);const o=n?()=>Promise.all(Jx(s,n,e)):()=>Promise.resolve(),l=s.variantChildren&&s.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=r;return GM(s,t,d,f,p,m,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,f]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(e.delay)])}function GM(s,t,e=0,n=0,r=0,o=1,l){const u=[];for(const d of s.variantChildren)d.notify("AnimationStart",t),u.push(pp(d,t,{...l,delay:e+(typeof n=="function"?0:n)+tw(s.variantChildren,d,n,r,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(u)}function qM(s,t,e={}){s.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(o=>pp(s,o,e));n=Promise.all(r)}else if(typeof t=="string")n=pp(s,t,e);else{const r=typeof t=="function"?or(s,t,e.custom):t;n=Promise.all(Jx(s,r,e))}return n.then(()=>{s.notify("AnimationComplete",t)})}function ew(s,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==s.length)return!1;for(let n=0;n<e;n++)if(t[n]!==s[n])return!1;return!0}const XM=pm.length;function nw(s){if(!s)return;if(!s.isControllingVariants){const e=s.parent?nw(s.parent)||{}:{};return s.props.initial!==void 0&&(e.initial=s.props.initial),e}const t={};for(let e=0;e<XM;e++){const n=pm[e],r=s.props[n];(Yo(r)||r===!1)&&(t[n]=r)}return t}const YM=[...fm].reverse(),$M=fm.length;function KM(s){return t=>Promise.all(t.map(({animation:e,options:n})=>qM(s,e,n)))}function WM(s){let t=KM(s),e=Fv(),n=!0;const r=d=>(f,p)=>{const m=or(s,p,d==="exit"?s.presenceContext?.custom:void 0);if(m){const{transition:b,transitionEnd:v,...A}=m;f={...f,...A,...v}}return f};function o(d){t=d(s)}function l(d){const{props:f}=s,p=nw(s.parent)||{},m=[],b=new Set;let v={},A=1/0;for(let w=0;w<$M;w++){const E=YM[w],C=e[E],_=f[E]!==void 0?f[E]:p[E],D=Yo(_),M=E===d?C.isActive:null;M===!1&&(A=w);let P=_===p[E]&&_!==f[E]&&D;if(P&&n&&s.manuallyAnimateOnMount&&(P=!1),C.protectedKeys={...v},!C.isActive&&M===null||!_&&!C.prevProp||Ou(_)||typeof _=="boolean")continue;const O=QM(C.prevProp,_);let j=O||E===d&&C.isActive&&!P&&D||w>A&&D,G=!1;const W=Array.isArray(_)?_:[_];let J=W.reduce(r(E),{});M===!1&&(J={});const{prevResolvedValues:ot={}}=C,ut={...ot,...J},nt=U=>{j=!0,b.has(U)&&(G=!0,b.delete(U)),C.needsAnimating[U]=!0;const Z=s.getValue(U);Z&&(Z.liveStyle=!1)};for(const U in ut){const Z=J[U],rt=ot[U];if(v.hasOwnProperty(U))continue;let gt=!1;dp(Z)&&dp(rt)?gt=!ew(Z,rt):gt=Z!==rt,gt?Z!=null?nt(U):b.add(U):Z!==void 0&&b.has(U)?nt(U):C.protectedKeys[U]=!0}C.prevProp=_,C.prevResolvedValues=J,C.isActive&&(v={...v,...J}),n&&s.blockInitialAnimation&&(j=!1);const dt=P&&O;j&&(!dt||G)&&m.push(...W.map(U=>{const Z={type:E};if(typeof U=="string"&&n&&!dt&&s.manuallyAnimateOnMount&&s.parent){const{parent:rt}=s,gt=or(rt,U);if(rt.enteringChildren&&gt){const{delayChildren:k}=gt.transition||{};Z.delay=tw(rt.enteringChildren,s,k)}}return{animation:U,options:Z}}))}if(b.size){const w={};if(typeof f.initial!="boolean"){const E=or(s,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(w.transition=E.transition)}b.forEach(E=>{const C=s.getBaseTarget(E),_=s.getValue(E);_&&(_.liveStyle=!0),w[E]=C??null}),m.push({animation:w})}let S=!!m.length;return n&&(f.initial===!1||f.initial===f.animate)&&!s.manuallyAnimateOnMount&&(S=!1),n=!1,S?t(m):Promise.resolve()}function u(d,f){if(e[d].isActive===f)return Promise.resolve();s.variantChildren?.forEach(m=>m.animationState?.setActive(d,f)),e[d].isActive=f;const p=l(d);for(const m in e)e[m].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=Fv()}}}function QM(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!ew(t,s):!1}function Xs(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fv(){return{animate:Xs(!0),whileInView:Xs(),whileHover:Xs(),whileTap:Xs(),whileDrag:Xs(),whileFocus:Xs(),exit:Xs()}}class Cs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZM extends Cs{constructor(t){super(t),t.animationState||(t.animationState=WM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ou(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let JM=0;class tD extends Cs{constructor(){super(...arguments),this.id=JM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const eD={animation:{Feature:ZM},exit:{Feature:tD}};function Ko(s,t,e,n={passive:!0}){return s.addEventListener(t,e,n),()=>s.removeEventListener(t,e)}function ll(s){return{point:{x:s.pageX,y:s.pageY}}}const nD=s=>t=>um(t)&&s(t,ll(t));function jo(s,t,e,n){return Ko(s,t,nD(e),n)}const iw=1e-4,iD=1-iw,sD=1+iw,sw=.01,aD=0-sw,rD=0+sw;function $e(s){return s.max-s.min}function oD(s,t,e){return Math.abs(s-t)<=e}function jv(s,t,e,n=.5){s.origin=n,s.originPoint=re(t.min,t.max,s.origin),s.scale=$e(e)/$e(t),s.translate=re(e.min,e.max,s.origin)-s.originPoint,(s.scale>=iD&&s.scale<=sD||isNaN(s.scale))&&(s.scale=1),(s.translate>=aD&&s.translate<=rD||isNaN(s.translate))&&(s.translate=0)}function Io(s,t,e,n){jv(s.x,t.x,e.x,n?n.originX:void 0),jv(s.y,t.y,e.y,n?n.originY:void 0)}function Iv(s,t,e){s.min=e.min+t.min,s.max=s.min+$e(t)}function lD(s,t,e){Iv(s.x,t.x,e.x),Iv(s.y,t.y,e.y)}function Uv(s,t,e){s.min=t.min-e.min,s.max=s.min+$e(t)}function Uo(s,t,e){Uv(s.x,t.x,e.x),Uv(s.y,t.y,e.y)}function In(s){return[s("x"),s("y")]}const aw=({current:s})=>s?s.ownerDocument.defaultView:null,zv=(s,t)=>Math.abs(s-t);function cD(s,t){const e=zv(s.x,t.x),n=zv(s.y,t.y);return Math.sqrt(e**2+n**2)}class rw{constructor(t,e,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Mf(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,A=cD(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!A)return;const{point:S}=b,{timestamp:w}=je;this.history.push({...S,timestamp:w});const{onStart:E,onMove:C}=this.handlers;v||(E&&E(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,b)},this.handlePointerMove=(b,v)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Rf(v,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(b,v)=>{this.end();const{onEnd:A,onSessionEnd:S,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Mf(b.type==="pointercancel"?this.lastMoveEventInfo:Rf(v,this.transformPagePoint),this.history);this.startEvent&&A&&A(b,E),S&&S(b,E)},!um(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=r||window;const u=ll(t),d=Rf(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=je;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=e;m&&m(t,Mf(d,this.history)),this.removeListeners=al(jo(this.contextWindow,"pointermove",this.handlePointerMove),jo(this.contextWindow,"pointerup",this.handlePointerUp),jo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xs(this.updatePoint)}}function Rf(s,t){return t?{point:t(s.point)}:s}function Vv(s,t){return{x:s.x-t.x,y:s.y-t.y}}function Mf({point:s},t){return{point:s,delta:Vv(s,ow(t)),offset:Vv(s,uD(t)),velocity:hD(t,.1)}}function uD(s){return s[0]}function ow(s){return s[s.length-1]}function hD(s,t){if(s.length<2)return{x:0,y:0};let e=s.length-1,n=null;const r=ow(s);for(;e>=0&&(n=s[e],!(r.timestamp-n.timestamp>hi(t)));)e--;if(!n)return{x:0,y:0};const o=Un(r.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-n.x)/o,y:(r.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function dD(s,{min:t,max:e},n){return t!==void 0&&s<t?s=n?re(t,s,n.min):Math.max(s,t):e!==void 0&&s>e&&(s=n?re(e,s,n.max):Math.min(s,e)),s}function Hv(s,t,e){return{min:t!==void 0?s.min+t:void 0,max:e!==void 0?s.max+e-(s.max-s.min):void 0}}function fD(s,{top:t,left:e,bottom:n,right:r}){return{x:Hv(s.x,e,r),y:Hv(s.y,t,n)}}function Gv(s,t){let e=t.min-s.min,n=t.max-s.max;return t.max-t.min<s.max-s.min&&([e,n]=[n,e]),{min:e,max:n}}function pD(s,t){return{x:Gv(s.x,t.x),y:Gv(s.y,t.y)}}function mD(s,t){let e=.5;const n=$e(s),r=$e(t);return r>n?e=Go(t.min,t.max-n,s.min):n>r&&(e=Go(s.min,s.max-r,t.min)),ji(0,1,e)}function gD(s,t){const e={};return t.min!==void 0&&(e.min=t.min-s.min),t.max!==void 0&&(e.max=t.max-s.min),e}const mp=.35;function yD(s=mp){return s===!1?s=0:s===!0&&(s=mp),{x:qv(s,"left","right"),y:qv(s,"top","bottom")}}function qv(s,t,e){return{min:Xv(s,t),max:Xv(s,e)}}function Xv(s,t){return typeof s=="number"?s:s[t]||0}const bD=new WeakMap;class vD{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(ll(m).point)},l=(m,b)=>{const{drag:v,dragPropagation:A,onDragStart:S}=this.getProps();if(v&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TR(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(E=>{let C=this.getAxisMotionValue(E).get()||0;if(di.test(C)){const{projection:_}=this.visualElement;if(_&&_.layout){const D=_.layout.layoutBox[E];D&&(C=$e(D)*(parseFloat(C)/100))}}this.originPoint[E]=C}),S&&ne.postRender(()=>S(m,b)),fp(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},u=(m,b)=>{this.latestPointerEvent=m,this.latestPanInfo=b;const{dragPropagation:v,dragDirectionLock:A,onDirectionLock:S,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:E}=b;if(A&&this.currentDirection===null){this.currentDirection=AD(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",b.point,E),this.updateAxis("y",b.point,E),this.visualElement.render(),w&&w(m,b)},d=(m,b)=>{this.latestPointerEvent=m,this.latestPanInfo=b,this.stop(m,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>In(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new rw(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:aw(this.visualElement)})}stop(t,e){const n=t||this.latestPointerEvent,r=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&ne.postRender(()=>u(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!Gc(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=dD(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&er(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=fD(n.layoutBox,t):this.constraints=!1,this.elastic=yD(e),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&In(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gD(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!er(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=SM(n,r.root,this.visualElement.getTransformPagePoint());let l=pD(r.layout.layoutBox,o);if(e){const u=e(bM(l));this.hasMutatedConstraints=!!u,u&&(l=Gx(u))}return l}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=In(p=>{if(!Gc(p,e,this.currentDirection))return;let m=d&&d[p]||{};l&&(m={min:0,max:0});const b=r?200:1e6,v=r?40:1e7,A={type:"inertia",velocity:n?t[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,A)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return fp(this.visualElement,t),n.start(Sm(t,n,0,e,this.visualElement,!1))}stopAnimation(){In(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){In(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){In(e=>{const{drag:n}=this.getProps();if(!Gc(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(e);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[e];o.set(t[e]-re(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!er(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};In(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();r[l]=mD({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),In(l=>{if(!Gc(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(re(d,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;bD.set(this.visualElement,this);const t=this.visualElement.current,e=jo(t,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();er(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ne.read(n);const l=Ko(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(In(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),e(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=mp,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Gc(s,t,e){return(t===!0||t===s)&&(e===null||e===s)}function AD(s,t=10){let e=null;return Math.abs(s.y)>t?e="y":Math.abs(s.x)>t&&(e="x"),e}class SD extends Cs{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new vD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Yv=s=>(t,e)=>{s&&ne.postRender(()=>s(t,e))};class xD extends Cs{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new rw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Yv(t),onStart:Yv(e),onMove:n,onEnd:(o,l)=>{delete this.session,r&&ne.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=jo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $v(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const Co={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(vt.test(s))s=parseFloat(s);else return s;const e=$v(s,t.target.x),n=$v(s,t.target.y);return`${e}% ${n}%`}},wD={correct:(s,{treeScale:t,projectionDelta:e})=>{const n=s,r=ws.parse(s);if(r.length>5)return n;const o=ws.createTransformer(s),l=typeof r[0]!="number"?1:0,u=e.x.scale*t.x,d=e.y.scale*t.y;r[0+l]/=u,r[1+l]/=d;const f=re(u,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}};let Df=!1;class ED extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=t;XR(TD),o&&(e.group&&e.group.add(o),n&&n.register&&r&&n.register(o),Df&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),lu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:o}=this.props,{projection:l}=n;return l&&(l.isPresent=o,Df=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||ne.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;Df=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lw(s){const[t,e]=Dx(),n=L.useContext(zp);return R.jsx(ED,{...s,layoutGroup:n,switchLayoutGroup:L.useContext(Vx),isPresent:t,safeToRemove:e})}const TD={borderRadius:{...Co,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Co,borderTopRightRadius:Co,borderBottomLeftRadius:Co,borderBottomRightRadius:Co,boxShadow:wD};function CD(s,t,e){const n=Ge(s)?s:pr(s);return n.start(Sm("",n,t,e)),n.animation}const _D=(s,t)=>s.depth-t.depth;class RD{constructor(){this.children=[],this.isDirty=!1}add(t){Gp(this.children,t),this.isDirty=!0}remove(t){qp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_D),this.isDirty=!1,this.children.forEach(t)}}function MD(s,t){const e=ln.now(),n=({timestamp:r})=>{const o=r-e;o>=t&&(xs(n),s(o-t))};return ne.setup(n,!0),()=>xs(n)}const cw=["TopLeft","TopRight","BottomLeft","BottomRight"],DD=cw.length,Kv=s=>typeof s=="string"?parseFloat(s):s,Wv=s=>typeof s=="number"||vt.test(s);function LD(s,t,e,n,r,o){r?(s.opacity=re(0,e.opacity??1,OD(n)),s.opacityExit=re(t.opacity??1,0,ND(n))):o&&(s.opacity=re(t.opacity??1,e.opacity??1,n));for(let l=0;l<DD;l++){const u=`border${cw[l]}Radius`;let d=Qv(t,u),f=Qv(e,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||Wv(d)===Wv(f)?(s[u]=Math.max(re(Kv(d),Kv(f),n),0),(di.test(f)||di.test(d))&&(s[u]+="%")):s[u]=f}(t.rotate||e.rotate)&&(s.rotate=re(t.rotate||0,e.rotate||0,n))}function Qv(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const OD=uw(0,.5,WS),ND=uw(.5,.95,zn);function uw(s,t,e){return n=>n<s?0:n>t?1:e(Go(s,t,n))}function Zv(s,t){s.min=t.min,s.max=t.max}function kn(s,t){Zv(s.x,t.x),Zv(s.y,t.y)}function Jv(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function tA(s,t,e,n,r){return s-=t,s=vu(s,1/e,n),r!==void 0&&(s=vu(s,1/r,n)),s}function PD(s,t=0,e=1,n=.5,r,o=s,l=s){if(di.test(t)&&(t=parseFloat(t),t=re(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=re(o.min,o.max,n);s===o&&(u-=t),s.min=tA(s.min,t,e,u,r),s.max=tA(s.max,t,e,u,r)}function eA(s,t,[e,n,r],o,l){PD(s,t[e],t[n],t[r],t.scale,o,l)}const kD=["x","scaleX","originX"],BD=["y","scaleY","originY"];function nA(s,t,e,n){eA(s.x,t,kD,e?e.x:void 0,n?n.x:void 0),eA(s.y,t,BD,e?e.y:void 0,n?n.y:void 0)}function iA(s){return s.translate===0&&s.scale===1}function hw(s){return iA(s.x)&&iA(s.y)}function sA(s,t){return s.min===t.min&&s.max===t.max}function FD(s,t){return sA(s.x,t.x)&&sA(s.y,t.y)}function aA(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function dw(s,t){return aA(s.x,t.x)&&aA(s.y,t.y)}function rA(s){return $e(s.x)/$e(s.y)}function oA(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class jD{constructor(){this.members=[]}add(t){Gp(this.members,t),t.scheduleRender()}remove(t){if(qp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let n;for(let r=e;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ID(s,t,e){let n="";const r=s.x.translate/t.x,o=s.y.translate/t.y,l=e?.z||0;if((r||o||l)&&(n=`translate3d(${r}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:b,skewX:v,skewY:A}=e;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),m&&(n+=`rotateX(${m}deg) `),b&&(n+=`rotateY(${b}deg) `),v&&(n+=`skewX(${v}deg) `),A&&(n+=`skewY(${A}deg) `)}const u=s.x.scale*t.x,d=s.y.scale*t.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const Lf=["","X","Y","Z"],UD=1e3;let zD=0;function Of(s,t,e,n){const{latestValues:r}=t;r[s]&&(e[s]=r[s],t.setStaticValue(s,0),n&&(n[s]=0))}function fw(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const e=Zx(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:o}=s.options;window.MotionCancelOptimisedAnimation(e,"transform",ne,!(r||o))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&fw(n)}function pw({attachResizeListener:s,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(l={},u=t?.()){this.id=zD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GD),this.nodes.forEach($D),this.nodes.forEach(KD),this.nodes.forEach(qD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new RD)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new $p),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Mx(l)&&!LR(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),s){let p,m=0;const b=()=>this.root.updateBlockedByResize=!1;ne.read(()=>{m=window.innerWidth}),s(l,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,p&&p(),p=MD(b,250),lu.hasAnimatedSinceResize&&(lu.hasAnimatedSinceResize=!1,this.nodes.forEach(uA)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||f.getDefaultTransition()||tL,{onLayoutAnimationStart:S,onLayoutAnimationComplete:w}=f.getProps(),E=!this.targetLayout||!dw(this.targetLayout,v),C=!m&&b;if(this.options.layoutRoot||this.resumeFrom||C||m&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...om(A,"layout"),onPlay:S,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,C)}else m||uA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WD),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YD),this.nodes.forEach(VD),this.nodes.forEach(HD)):this.nodes.forEach(cA),this.clearAllSnapshots();const u=ln.now();je.delta=ji(0,1e3/60,u-je.timestamp),je.timestamp=u,je.isProcessing=!0,Af.update.process(je),Af.preRender.process(je),Af.render.process(je),je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XD),this.sharedNodes.forEach(QD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$e(this.snapshot.measuredBox.x)&&!$e(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!hw(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||$s(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),eL(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ye();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nL))){const{scroll:f}=this.root;f&&(nr(u.x,f.offset.x),nr(u.y,f.offset.y))}return u}removeElementScroll(l){const u=ye();if(kn(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&kn(u,l),nr(u.x,p.offset.x),nr(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const d=ye();kn(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ir(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),$s(p.latestValues)&&ir(d,p.latestValues)}return $s(this.latestValues)&&ir(d,this.latestValues),d}removeTransform(l){const u=ye();kn(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!$s(f.latestValues))continue;cp(f.latestValues)&&f.updateSnapshot();const p=ye(),m=f.measurePageBox();kn(p,m),nA(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return $s(this.latestValues)&&nA(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=je.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Uo(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),Xx(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Uo(this.relativeTargetOrigin,this.target,b.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cp(this.parent.latestValues)||qx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===je.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;kn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,b=this.treeScale.y;AM(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ye());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jv(this.prevProjectionDelta.x,this.projectionDelta.x),Jv(this.prevProjectionDelta.y,this.projectionDelta.y)),Io(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==b||!oA(this.projectionDelta.x,this.prevProjectionDelta.x)||!oA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sr(),this.projectionDelta=sr(),this.projectionDeltaWithTransform=sr()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=sr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=ye(),v=d?d.source:void 0,A=this.layout?this.layout.source:void 0,S=v!==A,w=this.getStack(),E=!w||w.members.length<=1,C=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(JD));this.animationProgress=0;let _;this.mixTargetDelta=D=>{const M=D/1e3;hA(m.x,l.x,M),hA(m.y,l.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uo(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZD(this.relativeTarget,this.relativeTargetOrigin,b,M),_&&FD(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ye()),kn(_,this.relativeTarget)),S&&(this.animationValues=p,LD(p,f,this.latestValues,M,C,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{lu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pr(0)),this.currentAnimation=CD(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:p}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&mw(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||ye();const m=$e(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+m;const b=$e(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}kn(u,d),ir(u,p),Io(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new jD),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&Of("z",l,f,this.animationValues);for(let p=0;p<Lf.length;p++)Of(`rotate${Lf[p]}`,l,f,this.animationValues),Of(`skew${Lf[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=ou(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=ou(u?.pointerEvents)||""),this.hasProjected&&!$s(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=ID(this.projectionDeltaWithTransform,this.treeScale,p);d&&(m=d(p,m)),l.transform=m;const{x:b,y:v}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const A in $o){if(p[A]===void 0)continue;const{correct:S,applyTo:w,isCSSVariable:E}=$o[A],C=m==="none"?p[A]:S(p[A],f);if(w){const _=w.length;for(let D=0;D<_;D++)l[w[D]]=C}else E?this.options.visualElement.renderState.vars[A]=C:l[A]=C}this.options.layoutId&&(l.pointerEvents=f===this?ou(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(lA),this.root.sharedNodes.clear()}}}function VD(s){s.updateLayout()}function HD(s){const t=s.resumeFrom?.snapshot||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:n}=s.layout,{animationType:r}=s.options,o=t.source!==s.layout.source;r==="size"?In(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],b=$e(m);m.min=e[p].min,m.max=m.min+b}):mw(r,t.layoutBox,e)&&In(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],b=$e(e[p]);m.max=m.min+b,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[p].max=s.relativeTarget[p].min+b)});const l=sr();Io(l,e,t.layoutBox);const u=sr();o?Io(u,s.applyTransform(n,!0),t.measuredBox):Io(u,e,t.layoutBox);const d=!hw(l);let f=!1;if(!s.resumeFrom){const p=s.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:b}=p;if(m&&b){const v=ye();Uo(v,t.layoutBox,m.layoutBox);const A=ye();Uo(A,e,b.layoutBox),dw(v,A)||(f=!0),p.options.layoutRoot&&(s.relativeTarget=A,s.relativeTargetOrigin=v,s.relativeParent=p)}}}s.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(s.isLead()){const{onExitComplete:e}=s.options;e&&e()}s.options.transition=void 0}function GD(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function qD(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function XD(s){s.clearSnapshot()}function lA(s){s.clearMeasurements()}function cA(s){s.isLayoutDirty=!1}function YD(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function uA(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function $D(s){s.resolveTargetDelta()}function KD(s){s.calcProjection()}function WD(s){s.resetSkewAndRotation()}function QD(s){s.removeLeadSnapshot()}function hA(s,t,e){s.translate=re(t.translate,0,e),s.scale=re(t.scale,1,e),s.origin=t.origin,s.originPoint=t.originPoint}function dA(s,t,e,n){s.min=re(t.min,e.min,n),s.max=re(t.max,e.max,n)}function ZD(s,t,e,n){dA(s.x,t.x,e.x,n),dA(s.y,t.y,e.y,n)}function JD(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const tL={duration:.45,ease:[.4,0,.1,1]},fA=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),pA=fA("applewebkit/")&&!fA("chrome/")?Math.round:zn;function mA(s){s.min=pA(s.min),s.max=pA(s.max)}function eL(s){mA(s.x),mA(s.y)}function mw(s,t,e){return s==="position"||s==="preserve-aspect"&&!oD(rA(t),rA(e),.2)}function nL(s){return s!==s.root&&s.scroll?.wasRoot}const iL=pw({attachResizeListener:(s,t)=>Ko(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nf={current:void 0},gw=pw({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Nf.current){const s=new iL({});s.mount(window),s.setOptions({layoutScroll:!0}),Nf.current=s}return Nf.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),sL={pan:{Feature:xD},drag:{Feature:SD,ProjectionNode:gw,MeasureLayout:lw}};function gA(s,t,e){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,o=n[r];o&&ne.postRender(()=>o(t,ll(t)))}class aL extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=CR(t,(e,n)=>(gA(this.node,n,"Start"),r=>gA(this.node,r,"End"))))}unmount(){}}class rL extends Cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=al(Ko(this.node.current,"focus",()=>this.onFocus()),Ko(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yA(s,t,e){const{props:n}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),o=n[r];o&&ne.postRender(()=>o(t,ll(t)))}class oL extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=DR(t,(e,n)=>(yA(this.node,n,"Start"),(r,{success:o})=>yA(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gp=new WeakMap,Pf=new WeakMap,lL=s=>{const t=gp.get(s.target);t&&t(s)},cL=s=>{s.forEach(lL)};function uL({root:s,...t}){const e=s||document;Pf.has(e)||Pf.set(e,{});const n=Pf.get(e),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(cL,{root:s,...t})),n[r]}function hL(s,t,e){const n=uL(t);return gp.set(s,e),n.observe(s),()=>{gp.delete(s),n.unobserve(s)}}const dL={some:0,all:1};class fL extends Cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:dL[r]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),b=f?p:m;b&&b(d)};return hL(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(pL(t,e))&&this.startObserver()}unmount(){}}function pL({viewport:s={}},{viewport:t={}}={}){return e=>s[e]!==t[e]}const mL={inView:{Feature:fL},tap:{Feature:oL},focus:{Feature:rL},hover:{Feature:aL}},gL={layout:{ProjectionNode:gw,MeasureLayout:lw}},yL={...eD,...mL,...sL,...gL},De=yM(yL,DM);var yw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bA=vs.createContext&&vs.createContext(yw),bL=["attr","size","title"];function vL(s,t){if(s==null)return{};var e=AL(s,t),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(e[n]=s[n])}return e}function AL(s,t){if(s==null)return{};var e={};for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){if(t.indexOf(n)>=0)continue;e[n]=s[n]}return e}function Au(){return Au=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},Au.apply(this,arguments)}function vA(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),e.push.apply(e,n)}return e}function Su(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(e),!0).forEach(function(n){SL(s,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):vA(Object(e)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(e,n))})}return s}function SL(s,t,e){return t=xL(t),t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function xL(s){var t=wL(s,"string");return typeof t=="symbol"?t:t+""}function wL(s,t){if(typeof s!="object"||!s)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var n=e.call(s,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function bw(s){return s&&s.map((t,e)=>vs.createElement(t.tag,Su({key:e},t.attr),bw(t.child)))}function cl(s){return t=>vs.createElement(EL,Au({attr:Su({},s.attr)},t),bw(s.child))}function EL(s){var t=e=>{var{attr:n,size:r,title:o}=s,l=vL(s,bL),u=r||e.size||"1em",d;return e.className&&(d=e.className),s.className&&(d=(d?d+" ":"")+s.className),vs.createElement("svg",Au({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,l,{className:d,style:Su(Su({color:s.color||e.color},e.style),s.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&vs.createElement("title",null,o),s.children)};return bA!==void 0?vs.createElement(bA.Consumer,null,e=>t(e)):t(yw)}function AA(s){return cl({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(s)}function SA(s){return cl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(s)}const kf=[{href:"#home",label:"Home"},{href:"#about",label:"About"},{href:"#projects",label:"Projects"},{href:"#experience",label:"Experience"},{href:"#certs",label:"Certifications"},{href:"#resume",label:"Resume"},{href:"#news",label:"News"},{href:"#contact",label:"Contact"}];function TL(){const s=LS(),[t,e]=L.useState(!1),n=(r,o)=>{if(r.preventDefault(),e(!1),o.startsWith("#")){const l=o.slice(1);if(window.location.pathname!=="/")s("/",{state:{scrollTo:l}});else{window.history.replaceState&&window.history.replaceState(null,"",window.location.pathname);const u=document.getElementById(l);u&&u.scrollIntoView({behavior:"smooth"})}}else s(o)};return R.jsxs("nav",{className:"fixed top-0 inset-x-0 z-50 border-b border-gray-800/60 bg-black/50 backdrop-blur-md",children:[R.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center justify-between",children:[R.jsxs("a",{href:"/",onClick:r=>n(r,"#home"),className:"font-semibold tracking-wide text-cyan-400",children:["Raziuddin Mohammed",R.jsx("span",{className:"text-slate-400",children:".portfolio"})]}),R.jsxs("button",{className:"relative w-6 h-5 flex flex-col justify-between items-center md:hidden",onClick:()=>e(!t),"aria-label":"Toggle Menu",children:[R.jsx(De.span,{animate:t?{rotate:45,y:8}:{rotate:0,y:0},className:"block h-[2px] w-full bg-slate-300 rounded origin-center",transition:{duration:.3}}),R.jsx(De.span,{animate:t?{opacity:0}:{opacity:1},className:"block h-[2px] w-full bg-slate-300 rounded",transition:{duration:.3}}),R.jsx(De.span,{animate:t?{rotate:-45,y:-8}:{rotate:0,y:0},className:"block h-[2px] w-full bg-slate-300 rounded origin-center",transition:{duration:.3}})]}),R.jsxs("ul",{className:"hidden md:flex items-center gap-6 text-sm",children:[kf.map(r=>R.jsx("li",{children:R.jsx("a",{href:"/",onClick:o=>n(o,r.href),className:"text-slate-300 hover:text-cyan-400 cursor-pointer transition-colors",children:r.label})},r.href)),R.jsxs("li",{className:"flex items-center gap-3",children:[R.jsx("a",{href:"https://www.linkedin.com/in/raziuddin-mohd/",target:"_blank",rel:"noreferrer","aria-label":"LinkedIn Profile",className:"hover:text-cyan-400",children:R.jsx(SA,{size:18})}),R.jsx("a",{href:"https://github.com/Inviciousx",target:"_blank",rel:"noreferrer","aria-label":"GitHub Profile",className:"hover:text-cyan-400",children:R.jsx(AA,{size:18})})]})]})]}),R.jsx(dm,{children:t&&R.jsx(De.div,{className:"md:hidden border-t border-gray-800/60 bg-black/80",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:R.jsxs("ul",{className:"px-4 py-3 grid gap-3",children:[kf.map((r,o)=>R.jsx(De.li,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:o*.05},children:R.jsx("a",{href:"/",onClick:l=>n(l,r.href),className:"block text-slate-300 hover:text-cyan-400",children:r.label})},r.href)),R.jsxs(De.li,{className:"flex items-center gap-4 pt-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:kf.length*.05},children:[R.jsx("a",{href:"https://www.linkedin.com/in/raziuddin-mohd/",target:"_blank",rel:"noreferrer",className:"hover:text-cyan-400",children:R.jsx(SA,{size:18})}),R.jsx("a",{href:"https://github.com/Inviciousx",target:"_blank",rel:"noreferrer",className:"hover:text-cyan-400",children:R.jsx(AA,{size:18})})]})]})})})]})}function gs(){return R.jsxs("div",{className:"relative w-full flex justify-center my-12",children:[R.jsx("div",{className:"h-[1px] w-2/3 bg-gradient-to-r from-transparent via-cyan-500/60 to-transparent animate-pulse"}),R.jsx("div",{className:"absolute -top-[3px] left-1/2 -translate-x-1/2 w-2 h-2 bg-cyan-400 rounded-full blur-[2px] animate-ping"})]})}function CL(){return R.jsx("section",{id:"home",className:"relative overflow-hidden",children:R.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-16 md:py-18 grid md:grid-cols-2 gap-10 items-center",children:[R.jsxs("div",{children:[R.jsxs(De.h1,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-3xl md:text-5xl font-bold leading-tight",children:["Technical Support Analyst ",R.jsx("span",{className:"text-cyan-400",children:"|"})," ",R.jsx("span",{className:"text-cyan-400",children:"Cybersecurity Enthusiast"})]}),R.jsx(De.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.15,duration:.8},className:"mt-4 text-slate-300/90 max-w-xl",children:"I keep systems running reliably while building toward a career in cyber defense and monitoring."}),R.jsx("blockquote",{className:"mt-8 text-lg md:text-xl font-medium italic text-cyan-300 border-l-4 border-cyan-500/60 pl-4 leading-relaxed tracking-wide",children:"“My red team is curiosity. My blue team is discipline. Logs don't lie, attackers do—and I'm training myself to see through both.”"}),R.jsxs("div",{className:"mt-8 flex gap-3",children:[R.jsx("a",{href:"#projects",className:"rounded-lg bg-cyan-500/20 px-4 py-2 text-cyan-300 hover:bg-cyan-500/30",children:"View Projects"}),R.jsx("a",{href:"#resume",className:"rounded-lg border border-cyan-600/50 px-4 py-2 text-cyan-300 hover:bg-cyan-600/10",children:"Resume"})]})]}),R.jsx("div",{className:"h-64 md:h-80 rounded-2xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border border-slate-800 shadow-inner flex items-center justify-center",children:R.jsx("span",{className:"text-slate-500 text-sm",children:"Your photo comes here (placeholder)"})})]})})}function _L(){return R.jsxs("section",{id:"about",className:"mx-auto max-w-6xl px-4 py-16",children:[R.jsxs(De.h2,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-2xl font-semibold text-slate-200 mb-6",children:["About ",R.jsx("span",{className:"text-cyan-400",children:"Me"})]}),R.jsxs(De.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.1,duration:.8},className:"space-y-4 text-slate-400 max-w-3xl",children:[R.jsxs("p",{children:["I’m ",R.jsx("span",{className:"text-slate-200 font-semibold",children:"Raziuddin Mohammed"}),", an IT Support and Technical Analyst with"," ",R.jsx("span",{className:"text-slate-200",children:"2+ years of combined experience"})," in technical support, network troubleshooting, and customer service. I blend problem-solving expertise with a growing passion for"," ",R.jsx("span",{className:"text-slate-200",children:"cyber defense and monitoring"}),"."]}),R.jsxs("p",{children:["I hold a Bachelor’s in Information Technology (Osmania University) and a Postgraduate Diploma in Computer Systems Technology – Networking (Centennial College). Certified in"," ",R.jsx("span",{className:"text-slate-200",children:"CCNA"}),","," ",R.jsx("span",{className:"text-slate-200",children:"CompTIA Security+"}),", and"," ",R.jsx("span",{className:"text-slate-200",children:"Microsoft Azure Fundamentals (AZ-900)"}),", I’m currently advancing toward"," ",R.jsx("span",{className:"text-slate-200",children:"CompTIA CySA+"})," and"," ",R.jsx("span",{className:"text-slate-200",children:"TryHackMe SOC Level 1"}),"."]}),R.jsxs("p",{children:["My experience includes SaaS and network support at"," ",R.jsx("span",{className:"text-slate-200",children:"Concentrix"})," (Intuit QuickBooks Online), IT operations improvement at"," ",R.jsx("span",{className:"text-slate-200",children:"Sound Marketing Inc."}),", and enterprise support at ",R.jsx("span",{className:"text-slate-200",children:"KhudraSoft"})," and"," ",R.jsx("span",{className:"text-slate-200",children:"Pantech E-Learning"}),", where I built strong foundations in system administration, device deployment, and automation with Python."]}),R.jsxs("p",{children:["I’m passionate about transitioning into"," ",R.jsx("span",{className:"text-slate-200",children:"Cybersecurity"})," — combining my technical expertise, curiosity, and analytical mindset to secure systems, detect anomalies, and strengthen enterprise resilience."]})]}),R.jsxs(De.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2,duration:.8},className:"mt-10 border-t border-slate-800 pt-8 grid gap-10 md:grid-cols-2 lg:grid-cols-3",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold text-slate-200 mb-4",children:"Core Technical Skills"}),R.jsx("div",{className:"flex flex-wrap gap-2",children:["Troubleshooting","Root-Cause Analysis","Windows Server / AD","Azure AD","TCP/IP, VLANs, DHCP, DNS","OSPF, QoS","Virtualization (VMware / Hyper-V)","Cloud (Azure)","Incident Response (SOC)","Documentation & SOPs"].map(s=>R.jsx("span",{className:"px-3 py-1 text-xs md:text-sm rounded-full bg-slate-800/50 text-slate-300 border border-slate-700",children:s},s))})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold text-slate-200 mb-4",children:"Cybersecurity Tools"}),R.jsx("div",{className:"flex flex-wrap gap-2",children:["Kali Linux","Splunk","ELK Stack","Wazuh","Snort","Volatility","Redline","Autopsy","pfSense","Wireshark","TCPDump"].map(s=>R.jsx("span",{className:"px-3 py-1 text-xs md:text-sm rounded-full bg-slate-800/50 text-cyan-300 border border-cyan-700/50",children:s},s))})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold text-slate-200 mb-4",children:"Support Stack & Tools"}),R.jsx("div",{className:"flex flex-wrap gap-2",children:["Jira","ServiceNow","Salesforce CRM","SharePoint","Confluence","Notion","PowerShell","Bash","Python","Windows","macOS","Linux (Ubuntu, Kali)","GlobalProtect VPN","Intuit Diagnostic Suite"].map(s=>R.jsx("span",{className:"px-3 py-1 text-xs md:text-sm rounded-full bg-slate-800/50 text-slate-300 border border-slate-700",children:s},s))})]})]})]})}const RL=[{company:"Concentrix (Intuit QuickBooks Online)",role:"Technical Support Analyst",location:"Belleville, ON",period:"Apr 2025 – Present",summary:["Delivered SaaS and network support through structured case management and root-cause analysis.","Maintained 90%+ CSAT and SLA compliance with strong technical troubleshooting and documentation."],details:["Diagnosed account, API, and connectivity issues leveraging Salesforce CRM and SharePoint KB.","Performed secure remote access via Palo Alto GlobalProtect VPN for diagnostic and configuration tasks.","Authored troubleshooting documentation improving response efficiency and knowledge sharing."],keySkills:["SaaS Platform Support","Windows & Network Troubleshooting","Root Cause Analysis","VPN Access (Palo Alto GlobalProtect)","Salesforce CRM"],moreSkills:["API Troubleshooting","Case Management","Quality Assurance","SharePoint KB Maintenance","Cloud SaaS Integration"]},{company:"Sound Marketing Inc.",role:"Technical Support Analyst",location:"Pickering, ON",period:"Jan 2024 - Aug 2024",summary:["Resolved hardware, software, and network incidents with a focus on uptime and service continuity.","Achieved 85% first-contact resolution by prioritizing tickets and applying remote triage techniques."],details:["Deployed and maintained 20+ Windows 10/11 endpoints using SCCM.","Created Confluence knowledge base entries reducing average resolution time by 30%.","Collaborated cross-functionally via Jira, Teams, and Slack for escalations and root cause tracking."],keySkills:["Remote Troubleshooting","Endpoint Deployment","Jira (ITSM)","SCCM Administration","Windows 10/11"],moreSkills:["Process Improvement","Confluence KB","Team Collaboration","Ticket Prioritization"]},{company:"KhudraSoft",role:"IT Help Desk Support",location:"Hyderabad, India",period:"Jan 2022 - Dec 2022",summary:["Handled first-line ticket triage and resolution, ensuring SLA adherence across high-volume requests.","Configured and deployed systems, reducing recurring network incidents and downtime."],details:["Troubleshot Windows, network, and peripheral issues while documenting fixes for team reuse.","Enhanced overall response efficiency by improving documentation and process flow."],keySkills:["SLA Management","Network Troubleshooting","Windows Administration","ServiceNow (ITSM)"],moreSkills:["Documentation","Workstation Imaging","Escalation Procedures"]},{company:"Pantech E-Learning",role:"Technical Support Intern",location:"Hyderabad, India",period:"Jun 2021 - Nov 2021",summary:["Supported LMS operations and resolved technical issues for end-users and administrators.","Automated tasks with Python scripts improving efficiency by 15%."],details:["Performed software installation, network troubleshooting, and LMS configuration maintenance.","Used Jira for issue tracking and reporting recurring incidents to developers."],keySkills:["LMS Support","Python Automation","Troubleshooting","Jira (Issue Tracking)"],moreSkills:["Process Optimization","Network Diagnostics","System Maintenance"]}];function ML(){const[s,t]=L.useState(null),e=n=>t(s===n?null:n);return R.jsxs("section",{id:"experience",className:"mx-auto max-w-6xl px-4 py-16",children:[R.jsx("h2",{className:"text-2xl font-semibold text-slate-200 mb-6",children:"Experience"}),R.jsx("div",{className:"grid gap-6",children:RL.map((n,r)=>R.jsxs(De.article,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.3,ease:[.4,0,.2,1]},className:`rounded-xl border ${s===r?"border-cyan-600/50":"border-slate-800"} bg-slate-900/40 p-5 md:p-6 transition-all duration-300`,children:[R.jsxs("div",{className:"flex flex-col md:flex-row md:items-baseline md:justify-between gap-1",children:[R.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-slate-100",children:[n.role," ",R.jsxs("span",{className:"text-slate-400",children:["· ",n.company]})]}),R.jsxs("div",{className:"text-sm text-slate-400",children:[n.period," • ",n.location]})]}),R.jsx("ul",{className:"mt-4 text-slate-300 space-y-2 list-disc list-inside",children:n.summary.map((o,l)=>R.jsx("li",{children:o},l))}),R.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n.keySkills.map((o,l)=>R.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-800/50 border border-slate-700 text-slate-300",children:o},l))}),R.jsx("div",{className:"mt-4 flex justify-end",children:R.jsx("button",{onClick:()=>e(r),className:"flex items-center gap-1 text-cyan-400 hover:text-cyan-300 transition text-sm hover:underline underline-offset-4 decoration-cyan-400/40",children:s===r?R.jsxs(R.Fragment,{children:["Show Less",R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):R.jsxs(R.Fragment,{children:["View More",R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})}),R.jsx(dm,{initial:!1,children:s===r&&R.jsxs(De.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.35,ease:"easeInOut"},className:"overflow-hidden",children:[R.jsx("ul",{className:"mt-3 text-slate-400 space-y-2 list-disc list-inside",children:n.details.map((o,l)=>R.jsx("li",{children:o},l))}),R.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n.moreSkills.map((o,l)=>R.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-cyan-500/10 border border-cyan-600/40 text-cyan-300",children:o},l))})]},"content")})]},r))})]})}function DL(){const s=[{name:"Cisco Certified Network Associate (CCNA)",details:"Issued July 2024 – Expires July 2027"},{name:"CompTIA Security+",details:"Issued January 2025 – Expires January 2028"},{name:"Microsoft Azure Fundamentals (AZ-900)",details:"Issued December 2024 – Does not expire"}],t=[{name:"CompTIA CySA+ (Cybersecurity Analyst)",details:"In progress – Expected completion: November 2025"},{name:"TryHackMe SOC Level 1",details:"In progress – Defensive monitoring labs ongoing"}];return R.jsx("section",{id:"certs",className:"py-16 md:py-20",children:R.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[R.jsxs("h2",{className:"text-2xl md:text-3xl font-semibold",children:["Certifications ",R.jsx("span",{className:"text-cyan-400",children:"& Training"})]}),R.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6",children:[R.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-5",children:[R.jsx("h3",{className:"text-cyan-300 font-medium text-lg",children:"Active"}),R.jsx("ul",{className:"mt-3 space-y-3 text-slate-300/90",children:s.map(e=>R.jsxs("li",{className:"flex flex-col",children:[R.jsx("span",{className:"font-medium",children:e.name}),R.jsx("span",{className:"text-xs text-slate-400",children:e.details})]},e.name))})]}),R.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-5",children:[R.jsx("h3",{className:"text-cyan-300 font-medium text-lg",children:"In Progress"}),R.jsx("ul",{className:"mt-3 space-y-3 text-slate-300/90",children:t.map(e=>R.jsxs("li",{className:"flex flex-col",children:[R.jsx("span",{className:"font-medium",children:e.name}),R.jsx("span",{className:"text-xs text-slate-400",children:e.details})]},e.name))})]})]}),R.jsx("p",{className:"mt-5 text-xs text-slate-500",children:"* All certifications verified through respective credential IDs and issuers."})]})})}function LL(){const s=[{id:"enterprise-network",title:"Enterprise Multi-Campus Network Infrastructure",desc:"Designed a scalable, fault-tolerant network spanning 3 campuses with OSPF, HSRP, and QoS.",year:"2024"}];return R.jsx("section",{id:"projects",className:"py-16 md:py-20",children:R.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[R.jsxs("h2",{className:"text-2xl md:text-3xl font-semibold",children:["Projects ",R.jsx("span",{className:"text-cyan-400",children:"& Case Studies"})]}),R.jsx("div",{className:"mt-6 grid md:grid-cols-2 gap-6",children:s.map(t=>R.jsxs(As,{to:`/projects/${t.id}`,className:"rounded-xl border border-slate-800 bg-slate-900/40 hover:bg-slate-900/60 transition p-6 block",children:[R.jsx("h3",{className:"text-xl font-semibold text-cyan-300",children:t.title}),R.jsx("p",{className:"mt-2 text-sm text-slate-300/90",children:t.desc}),R.jsxs("p",{className:"mt-3 text-xs text-slate-500",children:["Year: ",t.year]})]},t.id))})]})})}const Ye=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),yp=[.001,0,0,.001,0,0],Bf=1.35,Sn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ui={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Wo="pdfjs_internal_editor_",St={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ot={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},vw={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Fe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},zo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},me={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Za={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ul={ERRORS:0,WARNINGS:1,INFOS:5},gr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},qc={moveTo:0,lineTo:1,curveTo:2,closePath:3},Aw={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pu=ul.WARNINGS;function OL(s){Number.isInteger(s)&&(Pu=s)}function NL(){return Pu}function ku(s){Pu>=ul.INFOS&&console.info(`Info: ${s}`)}function xt(s){Pu>=ul.WARNINGS&&console.warn(`Warning: ${s}`)}function Kt(s){throw new Error(s)}function Pt(s,t){s||Kt(t)}function PL(s){switch(s?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xm(s,t=null,e=null){if(!s)return null;if(e&&typeof s=="string"&&(e.addDefaultProtocol&&s.startsWith("www.")&&s.match(/\./g)?.length>=2&&(s=`http://${s}`),e.tryConvertEncoding))try{s=IL(s)}catch{}const n=t?URL.parse(s,t):URL.parse(s);return PL(n)?n:null}function wm(s,t,e=!1){const n=URL.parse(s);return n?(n.hash=t,n.href):e&&xm(s,"http://example.com")?s.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ct(s,t,e,n=!1){return Object.defineProperty(s,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const ua=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class xA extends ua{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Ff extends ua{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class xu extends ua{constructor(t){super(t,"InvalidPDFException")}}class Qo extends ua{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class kL extends ua{constructor(t){super(t,"FormatError")}}class Ui extends ua{constructor(t){super(t,"AbortException")}}function Sw(s){(typeof s!="object"||s?.length===void 0)&&Kt("Invalid argument for bytesToString");const t=s.length,e=8192;if(t<e)return String.fromCharCode.apply(null,s);const n=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),l=s.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function hl(s){typeof s!="string"&&Kt("Invalid argument for stringToBytes");const t=s.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=s.charCodeAt(n)&255;return e}function BL(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function FL(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function jL(){try{return new Function(""),!0}catch{return!1}}class Le{static get isLittleEndian(){return Ct(this,"isLittleEndian",FL())}static get isEvalSupported(){return Ct(this,"isEvalSupported",jL())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ct(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ct(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ct(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const jf=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));class st{static makeHexColor(t,e,n){return`#${jf[t]}${jf[e]}${jf[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const r=t[n],o=t[n+1];t[n]=r*e[0]+o*e[2]+e[4],t[n+1]=r*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const m=t[n+p],b=t[n+p+1];t[n+p]=m*r+b*l+d,t[n+p+1]=m*o+b*u+f}}static applyInverseTransform(t,e){const n=t[0],r=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5],p=t[0],m=t[1],b=t[2],v=t[3];let A=r*p+d,S=A,w=r*b+d,E=w,C=u*m+f,_=C,D=u*v+f,M=D;if(o!==0||l!==0){const P=o*p,O=o*b,j=l*m,G=l*v;A+=j,E+=j,w+=G,S+=G,C+=P,M+=P,D+=O,_+=O}n[0]=Math.min(n[0],A,w,S,E),n[1]=Math.min(n[1],C,D,_,M),n[2]=Math.max(n[2],A,w,S,E),n[3]=Math.max(n[3],C,D,_,M)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],o=t[2],l=t[3],u=n**2+r**2,d=n*o+r*l,f=o**2+l**2,p=(u+f)/2,m=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,r,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,r),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,r)}static#t(t,e,n,r,o,l,u,d,f,p){if(f<=0||f>=1)return;const m=1-f,b=f*f,v=b*f,A=m*(m*(m*t+3*f*e)+3*b*n)+v*r,S=m*(m*(m*o+3*f*l)+3*b*u)+v*d;p[0]=Math.min(p[0],A),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],A),p[3]=Math.max(p[3],S)}static#e(t,e,n,r,o,l,u,d,f,p,m,b){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,r,o,l,u,d,-m/p,b);return}const v=p**2-4*m*f;if(v<0)return;const A=Math.sqrt(v),S=2*f;this.#t(t,e,n,r,o,l,u,d,(-p+A)/S,b),this.#t(t,e,n,r,o,l,u,d,(-p-A)/S,b)}static bezierBoundingBox(t,e,n,r,o,l,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,n,o,u,e,r,l,d,3*(-t+3*(n-o)+u),6*(t-2*n+o),3*(n-t),f),this.#e(t,n,o,u,e,r,l,d,3*(-e+3*(r-l)+d),6*(e-2*r+l),3*(r-e),f)}}function IL(s){return decodeURIComponent(escape(s))}let If=null,wA=null;function xw(s){return If||(If=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wA=new Map([["ﬅ","ſt"]])),s.replaceAll(If,(t,e,n)=>e?e.normalize("NFKC"):wA.get(n))}function Em(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),Sw(s)}const Tm="pdfjs_internal_id_";function UL(s,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...o]=e;if(!s(n)&&!Number.isInteger(n)||!t(r))return!1;const l=o.length;let u=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function ze(s,t,e){return Math.min(Math.max(s,t),e)}function ww(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(Sw(s))}function zL(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):hl(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...t){return new Promise(e=>{e(s(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((t,e)=>t+e,0)});class Zo{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(o){if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(Zo.shouldBuildText(u))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const d of o.children)r(d)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Cm{static setupStorage(t,e,n,r,o){const l=r.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:o}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,o=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const u=o!=="richText",d=t.div;if(d.append(l),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=m}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);l.append(m),u&&Zo.shouldBuildText(r.name)&&f.push(m)}return{textDivs:f}}const p=[[r,-1,l]];for(;p.length>0;){const[m,b,v]=p.at(-1);if(b+1===m.children.length){p.pop();continue}const A=m.children[++p.at(-1)[1]];if(A===null)continue;const{name:S}=A;if(S==="#text"){const E=document.createTextNode(A.value);f.push(E),v.append(E);continue}const w=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,S):document.createElement(S);if(v.append(w),A.attributes&&this.setAttributes({html:w,element:A,storage:e,intent:o,linkService:n}),A.children?.length>0)p.push([A,-1,w]);else if(A.value){const E=document.createTextNode(A.value);u&&Zo.shouldBuildText(S)&&f.push(E),w.append(E)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Pi="http://www.w3.org/2000/svg";class ra{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Tr(s,t="text"){if(No(s,document.baseURI)){const e=await fetch(s);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",s,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class dl{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,b,v;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,m=0,b=0,v=1;break;case 90:p=0,m=1,b=1,v=0;break;case 270:p=0,m=-1,b=-1,v=0;break;case 0:p=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,v=-v);let A,S,w,E;p===0?(A=Math.abs(f-t[1])*n+o,S=Math.abs(d-t[0])*n+l,w=(t[3]-t[1])*n,E=(t[2]-t[0])*n):(A=Math.abs(d-t[0])*n+o,S=Math.abs(f-t[1])*n+l,w=(t[2]-t[0])*n,E=(t[3]-t[1])*n),this.transform=[p*n,m*n,b*n,v*n,A-p*n*d-b*n*f,S-m*n*d-v*n*f],this.width=w,this.height=E}get rawDims(){const t=this.viewBox;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new dl({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return st.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];st.applyTransform(e,this.transform);const n=[t[2],t[3]];return st.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return st.applyInverseTransform(n,this.transform),n}}class Bu extends ua{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function fl(s){const t=s.length;let e=0;for(;e<t&&s[e].trim()==="";)e++;return s.substring(e,e+5).toLowerCase()==="data:"}function Fu(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function Ew(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function Tw(s,t="document.pdf"){if(typeof s!="string")return t;if(fl(s))return xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(s);if(!n)return t;const r=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return r(l);if(n.searchParams.size>0){const u=Array.from(n.searchParams.values()).reverse();for(const f of u)if(o.test(f))return r(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return r(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return r(d[0])}return t}class EA{started=Object.create(null);times=[];time(t){t in this.started&&xt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||xt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-r}ms
`);return t.join("")}}function No(s,t){const e=t?URL.parse(s,t):URL.parse(s);return e?.protocol==="http:"||e?.protocol==="https:"}function En(s){s.preventDefault()}function ae(s){s.preventDefault(),s.stopPropagation()}function VL(s){console.log("Deprecated API usage: "+s)}class wu{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(l+=p,u+=m):f==="+"&&(l-=p,u-=m),new Date(Date.UTC(n,r,o,l,u,d))}}function Cw(s,{scale:t=1,rotation:e=0}){const{width:n,height:r}=s.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new dl({viewBox:o,userUnit:1,scale:t,rotation:e})}function Cr(s){if(s.startsWith("#")){const t=parseInt(s.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(t=>parseInt(t)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(xt(`Not a valid color format: "${s}"`),[0,0,0])}function HL(s){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of s.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;s.set(e,Cr(n))}t.remove()}function se(s){const{a:t,b:e,c:n,d:r,e:o,f:l}=s.getTransform();return[t,e,n,r,o,l]}function si(s){const{a:t,b:e,c:n,d:r,e:o,f:l}=s.getTransform().invertSelf();return[t,e,n,r,o,l]}function Es(s,t,e=!1,n=!0){if(t instanceof dl){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:l}=s,u=Le.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}n&&s.setAttribute("data-main-rotation",t.rotation)}class Kn{constructor(){const{pixelRatio:t}=Kn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,o=-1){let l=1/0,u=1/0,d=1/0;n=Kn.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),r!==-1&&(u=r/t,d=r/e);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Eu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class GL{static get isDarkMode(){return Ct(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class _w{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Ct(this,"commentForegroundColor",Cr(n))}}function Rw(s,t,e,n){n=Math.min(Math.max(n??1,0),1);const r=255*(1-n);return s=Math.round(s*n+r),t=Math.round(t*n+r),e=Math.round(e*n+r),[s,t,e]}function TA(s,t){const e=s[0]/255,n=s[1]/255,r=s[2]/255,o=Math.max(e,n,r),l=Math.min(e,n,r),u=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const d=o-l;switch(t[1]=u<.5?d/(o+l):d/(2-o-l),o){case e:t[0]=((n-r)/d+(n<r?6:0))*60;break;case n:t[0]=((r-e)/d+2)*60;break;case r:t[0]=((e-n)/d+4)*60;break}}t[2]=u}function bp(s,t){const e=s[0],n=s[1],r=s[2],o=(1-Math.abs(2*r-1))*n,l=o*(1-Math.abs(e/60%2-1)),u=r-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+u,t[1]=l+u,t[2]=u;break;case 1:t[0]=l+u,t[1]=o+u,t[2]=u;break;case 2:t[0]=u,t[1]=o+u,t[2]=l+u;break;case 3:t[0]=u,t[1]=l+u,t[2]=o+u;break;case 4:t[0]=l+u,t[1]=u,t[2]=o+u;break;case 5:case 6:t[0]=o+u,t[1]=u,t[2]=l+u;break}}function CA(s){return s<=.03928?s/12.92:((s+.055)/1.055)**2.4}function _A(s,t,e){bp(s,e),e.map(CA);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];bp(t,e),e.map(CA);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const RA=new Map;function Mw(s,t){const e=s[0]+s[1]*256+s[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=RA.get(e);if(n)return n;const r=new Float32Array(9),o=r.subarray(0,3),l=r.subarray(3,6);TA(s,l);const u=r.subarray(6,9);TA(t,u);const d=u[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),_A(l,u,o)<f){let p,m;d?(p=l[2],m=1):(p=0,m=l[2]);const b=.005;for(;m-p>b;){const v=l[2]=(p+m)/2;d===_A(l,u,o)<f?p=v:m=v}l[2]=d?m:p}return bp(l,o),n=st.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),RA.set(e,n),n}function _m({html:s,dir:t,className:e},n){const r=document.createDocumentFragment();if(typeof s=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=s.split(/(?:\r\n?|\n)/);for(let u=0,d=l.length;u<d;++u){const f=l[u];o.append(document.createTextNode(f)),u<d-1&&o.append(document.createElement("br"))}r.append(o)}else Cm.render({xfaHtml:s,div:r,intent:"richText"});r.firstChild.classList.add("richText",e),n.append(r)}class Vo{#t=null;#e=null;#i;#n=null;#r=null;#s=null;#a=null;#o=null;static#c=null;constructor(t){this.#i=t,Vo.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",En,{signal:e}),t.addEventListener("pointerdown",Vo.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const r=this.#i.toolbarPosition;if(r){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,ae(t)}#h(t){this.#i._focusEventsAllowed=!0,ae(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",En,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Vo.#c[t]),this.#f(n)&&n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#r=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const r=this.#a=this.#g;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(r,e)):this.#n.append(n,r),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){switch(t){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#a?.remove(),this.#a=null;break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const r=this.#n.querySelector(n);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class qL{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",En,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#r(t,e){let n=0,r=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const u=o.x+(e?o.width:0);if(l>n){r=u,n=l;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,n]}show(t,e,n){const[r,o]=this.#r(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,r){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(o.addEventListener("contextmenu",En,{signal:u}),o.addEventListener("click",r,{signal:u})),this.#t.append(o)}}function Dw(s,t,e){for(const n of e)t.addEventListener(n,s[n].bind(s))}class XL{#t=0;get id(){return`${Wo}${this.#t++}`}}class Rm{#t=Em();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await Tr(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=Rm._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,f()},l.onload=async()=>{const m=n.svgUrl=l.result;u.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=l.onerror=p});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){xt(r),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:o}=t;return this.#n(`${e}_${n}_${r}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class YL{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(l&&this.#t[this.#n].type===o){u&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class pl{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Le.platform;for(const[n,r,o={}]of t)for(const l of n){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(t,e)||(r.bind(t,...l,e)(),o||ae(e))}}class Mm{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return HL(t),Ct(this,"_colors",t)}convert(t){const e=Cr(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((o,l)=>o===e[l]))return Mm._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?st.makeHexColor(...e):t}}class zi{#t=new AbortController;#e=null;#i=null;#n=new Map;#r=new Map;#s=null;#a=null;#o=null;#c=new YL;#l=null;#d=null;#h=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#T=null;#w=null;#A=null;#_=null;#x=!1;#E=null;#D=new XL;#R=!1;#M=!1;#F=!1;#O=null;#P=null;#j=null;#k=null;#G=null;#C=St.NONE;#S=new Set;#N=null;#I=null;#z=null;#Y=null;#X=null;#$={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#B=null;#q=null;#Z=null;#J=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=zi.prototype,e=l=>l.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new pl([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#q.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,r,o,l,u,d,f,p,m,b,v,A,S,w){const E=this._signal=this.#t.signal;this.#q=t,this.#Z=e,this.#J=n,this.#s=r,this.#l=o,this.#I=l,this.#X=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:E}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),u._on("setpreference",this.onSetPreference.bind(this),{signal:E}),u._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:E}),window.addEventListener("pointerdown",()=>{this.#M=!0},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{this.#M=!1},{capture:!0,signal:E}),this.#lt(),this.#dt(),this.#et(),this.#a=d.annotationStorage,this.#T=d.filterFactory,this.#z=f,this.#_=p||null,this.#y=m,this.#v=b,this.#b=v,this.#G=A||null,this.viewParameters={realScale:ra.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=w!==!1,o?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#m.clear(),this.#k?.clear(),this.#e=null,this.#S.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#I?.destroy(),this.#E?.hide(),this.#E=null,this.#j?.destroy(),this.#j=null,this.#i=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#X=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return Ct(this,"hcmFilter",this.#z?this.#T.addHCMFilter(this.#z.foreground,this.#z.background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return Ct(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Ct(this,"highlightColors",null);const e=new Map,n=!!this.#z;for(const[r,o]of t){const l=r.endsWith("_HCM");if(n&&l){e.set(r.replace("_HCM",""),o);continue}!n&&!l&&e.set(r,o)}return Ct(this,"highlightColors",e)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#j=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,r){this.#l?.showDialog(this,t,e,n,r)}selectComment(t,e){this.#r.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#r.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),r=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await n}getSignature(t){this.#I?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#I}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#b=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#q.focus()}findParent(t,e){for(const n of this.#r.values()){const{x:r,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=o&&e<=o+u)return n}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ra.PDF_TO_CSS_UNITS;for(const e of this.#m)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#r.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u}=n,d=n.toString(),p=this.#Q(n).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;n.empty();const b=this.#tt(p),v=this.#C===St.NONE,A=()=>{const S=b?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u,text:d});v&&this.showAllEditors("highlight",!0,!0),e&&S?.editComment()};if(v){this.switchToMode(St.HIGHLIGHT,A);return}A()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Q(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#E||=new qL(this),this.#E.show(n,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#a)return null;const e=`${Wo}${t}`,n=this.#a.getRawValue(e);return n&&this.#a.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#N&&(this.#E?.hide(),this.#N=null,this.#L({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#N)return;const r=this.#Q(t).closest(".textLayer");if(!r){this.#N&&(this.#E?.hide(),this.#N=null,this.#L({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#N=e,this.#L({hasSelectedText:!0}),!(this.#C!==St.HIGHLIGHT&&this.#C!==St.NONE)&&(this.#C===St.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#C===St.HIGHLIGHT?this.#tt(r):null;if(o?.toggleDrawing(),this.#M){const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else o?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(t=""){this.#C===St.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#rt()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#A)return;this.#A=new AbortController;const t=this.combinedSignal(this.#A);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#A?.abort(),this.#A=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#S)if(e.div.contains(t)){this.#P=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#P)return;const[t,e]=this.#P;this.#P=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#O)return;this.#O=new AbortController;const t=this.combinedSignal(this.#O);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#O?.abort(),this.#O=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#S){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){xt(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of n){const f=await r.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)this.#st(d);this.#at(o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){xt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==St.NONE&&!this.isEditorHandlingKeyboard&&zi._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#L(t){Object.entries(t).some(([n,r])=>this.#$[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#$,t)}),this.#C===St.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#H([[Ot.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#L({isEditing:this.#C!==St.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#L({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#H(e.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#r.get(this.#f)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#r.set(t.pageIndex,t),this.#R?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,r=!1,o=!1){if(this.#C!==t&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===St.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===St.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===St.SIGNATURE&&await this.#I?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#r.values())l.updateMode(t);if(t===St.POPUP){this.#i||=await this.#X.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const l=new Set,u=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:p,deleted:m}=d;f&&l.add(f),p&&!m&&u.push(d.getData())}for(const d of this.#i){const{id:f,popupRef:p,contentsObj:m}=d;p&&m?.str&&!l.has(f)&&!this.#g.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():r?l.enterInEditMode():l.focus()):l.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Ot.CREATE:this.currentLayer.addNewEditor(e);return;case Ot.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#S)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#Y?.get(Ot.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#H([[Ot.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#F!==t){this.#F=t;for(const e of this.#r.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#R){this.#R=!0;const t=[];for(const e of this.#r.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#R){this.#R=!1;for(const t of this.#r.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#k?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#r.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#H(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#mt===t&&this.#H(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#H(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#L({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#S)e!==t&&e.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#L({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#L({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#c.add(t),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(t){this.#c.cleanType(t)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#S],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#at(t){for(const e of this.#S)e.unselect();this.#S.clear();for(const e of t)e.isEmpty()||(this.#S.add(e),e.select());this.#L({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#at(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==St.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#L({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=t,this.#V[1]+=e;const[r,o]=this.#V,l=[...this.#S],u=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,o),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-o),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#S)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:r,y:o,pageIndex:l},u]of t)u.newX=r,u.newY=o,u.newPageIndex=l,e||=r!==u.savedX||o!==u.savedY||l!==u.savedPageIndex;if(!e)return!1;const n=(r,o,l,u)=>{if(this.#n.has(r.id)){const d=this.#r.get(u);d?r._setParentAndPosition(d,o,l):(r.pageIndex=u,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:u}]of t)n(r,o,l,u)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:u}]of t)n(r,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==St.NONE}get imageManager(){return Ct(this,"imageManager",new Rm)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,m,b)=>({x:(p-r)/l,y:1-(f+m-n)/o,width:b/l,height:m/o});break;case"180":u=(f,p,m,b)=>({x:1-(f+m-n)/o,y:1-(p+b-r)/l,width:m/o,height:b/l});break;case"270":u=(f,p,m,b)=>({x:1-(p+b-r)/l,y:(f-n)/o,width:b/l,height:m/o});break;default:u=(f,p,m,b)=>({x:(f-n)/o,y:(p-r)/l,width:m/o,height:b/l});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const m=e.getRangeAt(f);if(!m.collapsed)for(const{x:b,y:v,width:A,height:S}of m.getClientRects())A===0||S===0||d.push(u(b,v,A,S))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#a.getRawValue(e);n&&(this.#C===St.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#k?.get(t);r&&(r.setCanvas(e,n),this.#k.delete(t))}addMissingCanvas(t,e){(this.#k||=new Map).set(t,e)}}class li{#t=null;#e=!1;#i=null;#n=null;#r=null;#s=null;#a=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,li.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){li._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",li.#f.missing),e.setAttribute("data-l10n-id",li.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",En,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#a=!0,r(o))},{signal:n}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await li._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(this.#l=n,this.#d=r),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#r=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",li.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",li.#f[`${this.#g}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#r;if(!e){this.#r=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Xc{#t=null;#e=null;#i=!1;#n=null;#r=null;#s=null;#a=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(n.backgroundColor=r)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#n.parent.boundingClientRect;return[(t-r)/l,(e+n-o)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",En,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,ae(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,ae(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,r(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,r;if(e)[n,r]=e;else{[n,r]=this.#n.commentButtonPosition;const{width:p,height:m,x:b,y:v}=this.#n;n=b+n*p,r=v+r*m}const o=this.#n.parent.boundingClientRect,{x:l,y:u,width:d,height:f}=o;this.#n._uiManager.editComment(this.#n,l+n*d,u+r*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#a===""}isEmpty(){return this.#a===null}hasBeenEdited(){return this.isDeleted()||this.#a!==this.#r}serialize(){return this.data}get data(){return{text:this.#a,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#a&&(this.#s=null),t===null){this.#a="",this.#c=!0;return}this.#a=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#r=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#a="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class ml{#t;#e=!1;#i=null;#n;#r;#s;#a;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){this.#t=t,this.#i=n,this.#n=e,this.#r=r,this.#s=o,this.#a=l,this.#d=new AbortController,this.#c=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Kn.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,o=AbortSignal.any([this.#c,r.signal]),l=this.#t,u={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ae(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#c,this.#h.signal]),o=this.#t,l={signal:r,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),l);const u=this.#p.bind(this);o.addEventListener("touchend",u,l),o.addEventListener("touchcancel",u,l),l.capture=!0,o.addEventListener("pointerdown",ae,l),o.addEventListener("pointermove",ae,l),o.addEventListener("pointercancel",ae,l),o.addEventListener("pointerup",ae,l),this.#r?.()}if(ae(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;ae(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:o}=e,{screenX:l,screenY:u}=n,d=this.#l,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:b}=d,v=m-f,A=b-p,S=l-r,w=u-o,E=Math.hypot(S,w)||1,C=Math.hypot(v,A)||1;if(!this.#e&&Math.abs(C-E)<=ml.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=o,d.touch1X=l,d.touch1Y=u,!this.#e){this.#e=!0;return}const _=[(r+l)/2,(o+u)/2];this.#s?.(_,C,E)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#a?.()),this.#l&&(ae(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class pt{#t=null;#e=null;#i=null;#n=null;#r=null;#s=!1;#a=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#v=!1;#b=null;#T=0;#w=0;#A=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#E=pt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Mm;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=pt.prototype._resizeWithKeyboard,e=zi.TRANSLATE_SMALL,n=zi.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new pl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],pt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new $L({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(pt._l10n??=t,pt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),pt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);pt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Kt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(t){this.#x=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#B(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/o,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#D([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#D(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#D(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,o]}=this;if(this.x+=t/r,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=pt,r=n/t,o=n/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:o,y:l,width:u,height:d}=this;if(u*=n,d*=r,o*=n,l*=r,this._mustFixPosition)switch(t){case 0:o=ze(o,0,n-u),l=ze(l,0,r-d);break;case 90:o=ze(o,0,n-d),l=ze(l,u,r);break;case 180:o=ze(o,u,n),l=ze(l,d,r);break;case 270:o=ze(o,d,n),l=ze(l,0,r-u);break}this.x=o/=n,this.y=l/=r;const[f,p]=this.getBaseTranslation();o+=f,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#R(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return pt.#R(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return pt.#R(t,e,360-this.parentRotation)}#M(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#F(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#O.bind(this,n),{signal:e}),r.addEventListener("contextmenu",En,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#c)}#O(t,e){e.preventDefault();const{isMac:n}=Le.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#k.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",ae,{passive:!1,signal:l}),window.addEventListener("contextmenu",En,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#j()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#P(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#j(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#d;this.#d=null;const o=this.x,l=this.y,u=this.width,d=this.height;o===t&&l===e&&u===n&&d===r||this.addCommands({cmd:this.#P.bind(this,o,l,u,d),undo:this.#P.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#k(t,e){const[n,r]=this.parentDimensions,o=this.x,l=this.y,u=this.width,d=this.height,f=pt.MIN_SIZE/n,p=pt.MIN_SIZE/r,m=this.#M(this.rotation),b=(B,U)=>[m[0]*B+m[2]*U,m[1]*B+m[3]*U],v=this.#M(360-this.rotation),A=(B,U)=>[v[0]*B+v[2]*U,v[1]*B+v[3]*U];let S,w,E=!1,C=!1;switch(t){case"topLeft":E=!0,S=(B,U)=>[0,0],w=(B,U)=>[B,U];break;case"topMiddle":S=(B,U)=>[B/2,0],w=(B,U)=>[B/2,U];break;case"topRight":E=!0,S=(B,U)=>[B,0],w=(B,U)=>[0,U];break;case"middleRight":C=!0,S=(B,U)=>[B,U/2],w=(B,U)=>[0,U/2];break;case"bottomRight":E=!0,S=(B,U)=>[B,U],w=(B,U)=>[0,0];break;case"bottomMiddle":S=(B,U)=>[B/2,U],w=(B,U)=>[B/2,0];break;case"bottomLeft":E=!0,S=(B,U)=>[0,U],w=(B,U)=>[B,0];break;case"middleLeft":C=!0,S=(B,U)=>[0,U/2],w=(B,U)=>[B,U/2];break}const _=S(u,d),D=w(u,d);let M=b(...D);const P=pt._round(o+M[0]),O=pt._round(l+M[1]);let j=1,G=1,W,J;if(e.fromKeyboard)({deltaX:W,deltaY:J}=e);else{const{screenX:B,screenY:U}=e,[Z,rt]=this.#l;[W,J]=this.screenToPageTranslation(B-Z,U-rt),this.#l[0]=B,this.#l[1]=U}if([W,J]=A(W/n,J/r),E){const B=Math.hypot(u,d);j=G=Math.max(Math.min(Math.hypot(D[0]-_[0]-W,D[1]-_[1]-J)/B,1/u,1/d),f/u,p/d)}else C?j=ze(Math.abs(D[0]-_[0]-W),f,1)/u:G=ze(Math.abs(D[1]-_[1]-J),p,1)/d;const ot=pt._round(u*j),ut=pt._round(d*G);M=b(...w(ot,ut));const nt=P-M[0],dt=O-M[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=ot,this.height=ut,this.x=nt,this.y=dt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Vo(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(li.initialize(pt._l10n),this.#i=new li(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Xc(this)}addStandaloneCommentButton(){if(this.#r){this._uiManager.isEditingMode()&&this.#r.classList.remove("hidden");return}this.hasComment&&(this.#r=this.#n.renderForStandalone(),this.div.append(this.#r))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#r=null}hideStandaloneCommentButton(){this.#r?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:r}}=this.#n;return{text:e,richText:t,date:n,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Xc(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new Xc(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Xc(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,u=l+o+1,d=r-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#z();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),Dw(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new ml({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#M(this.rotation),u=(P,O)=>[l[0]*P+l[2]*O,l[1]*P+l[3]*O],[d,f]=this.parentDimensions,p=this.x,m=this.y,b=this.width,v=this.height,A=pt.MIN_SIZE/d,S=pt.MIN_SIZE/f;o=Math.max(Math.min(o,1/b,1/v),A/b,S/v);const w=pt._round(b*o),E=pt._round(v*o);if(w===b&&E===v)return;this.#u||=[p,m,b,v];const C=u(b/2,v/2),_=pt._round(p+C[0]),D=pt._round(m+C[1]),M=u(w/2,E/2);this.x=_-M[0],this.y=D-M[1],this.width=w,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#j()}pointerdown(t){const{isMac:e}=Le.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#I(t);return}this.#N(t)}#N(t){const{isMac:e}=Le.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#I(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},u=f=>{r.abort(),this.#a=null,this.#p=!1,this._uiManager.endDragSession()||this.#N(f),n&&this._onStopDragging()};e&&(this.#T=t.clientX,this.#w=t.clientY,this.#a=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:m,pointerId:b}=f;if(b!==this.#a){ae(f);return}const[v,A]=this.screenToPageTranslation(p-this.#T,m-this.#w);this.#T=p,this.#w=m,this._uiManager.dragSelectedEditors(v,A)},l),window.addEventListener("touchmove",ae,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#_||f.isPrimary)&&u(f),ae(f)},l));const d=f=>{if(!this.#a||this.#a===f.pointerId){u(f);return}ae(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/r,p=e/r,m=this.x*o,b=this.y*l,v=this.width*o,A=this.height*l;switch(n){case 0:return[m+f+u,l-b-p-A+d,m+f+v+u,l-b-p+d];case 90:return[m+p+u,l-b+f+d,m+p+A+u,l-b+f+v+d];case 180:return[m-f-v+u,l-b+p+d,m-f+u,l-b+p+A+d];case 270:return[m-p-A+u,l-b-f-v+d,m-p+u,l-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,o,l]=t,u=o-n,d=l-r;switch(this.rotation){case 0:return[n,e-l,u,d];case 90:return[n,e-r,d,u];case 180:return[o,e-r,u,d];case 270:return[o,e-l,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:r,deleted:o,richText:l},uid:u,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:n||p,popupRef:!o,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&r>0&&t<o&&n>0}#z(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#z()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[o,l]=r.pageDimensions,[u,d,f,p]=r.getRectInCurrentCoords(t.rect,l);return r.x=u/o,r.y=d/l,r.width=f/o,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#B(),this.removeEditToolbar(),this.#A){for(const t of this.#A.values())clearTimeout(t);this.#A=null}this.parent=null,this.#_?.destroy(),this.#_=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,r,o,l]=this.getPDFRect();return[pt._round(n+(o-n)*t),pt._round(r+(l-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#Y.bind(this),u=this.#X.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#$.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",pt._l10nResizer[p])}}const n=this.#e[0];let r=0;for(const l of e){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)this.#c.append(this.#c.firstChild);else if(o>r)for(let u=0;u<o-r;u++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const u of e){const f=this.#e[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",pt._l10nResizer[f])}}this.#V(0),this.#v=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#Y(t){pt._resizerKeyboardManager.exec(this,t)}#X(t){this.#v&&t.relatedTarget?.parentNode!==this.#c&&this.#B()}#$(t){this.#g=this.#v?t:""}#V(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#v&&this.#k(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#v=!1,this.#V(-1),this.#j()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(t){this.#m=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#A||=new Map;const{action:n}=t;let r=this.#A.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#A.delete(n),this.#A.size===0&&(this.#A=null)},pt._telemetryTimeout),this.#A.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class $L extends pt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const MA=3285377520,Bn=4294901760,ai=65535;class Lw{constructor(t){this.h1=t?t&4294967295:MA,this.h2=t?t&4294967295:MA}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let S=0,w=t.length;S<w;S++){const E=t.charCodeAt(S);E<=255?e[n++]=E:(e[n++]=E>>>8,e[n++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(e.buffer,0,r);let u=0,d=0,f=this.h1,p=this.h2;const m=3432918353,b=461845907,v=m&ai,A=b&ai;for(let S=0;S<r;S++)S&1?(u=l[S],u=u*m&Bn|u*v&ai,u=u<<15|u>>>17,u=u*b&Bn|u*A&ai,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[S],d=d*m&Bn|d*v&ai,d=d<<15|d>>>17,d=d*b&Bn|d*A&ai,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*m&Bn|u*v&ai,u=u<<15|u>>>17,u=u*b&Bn|u*A&ai,r&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Bn|t*36045&ai,e=e*4283543511&Bn|((e<<16|t>>>16)*2950163797&Bn)>>>16,t^=e>>>1,t=t*444984403&Bn|t*60499&ai,e=e*3301882366&Bn|((e<<16|t>>>16)*3120437893&Bn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const vp=Object.freeze({map:null,hash:"",transfer:void 0});class Dm{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof pt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof pt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(r=!0,n[o]=l);else r=!0,this.#n.set(t,e);r&&this.#r(),e instanceof pt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#r(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Ow(this)}get serializable(){if(this.#n.size===0)return vp;const t=new Map,e=new Lw,n=[],r=Object.create(null);let o=!1;for(const[l,u]of this.#n){const d=u instanceof pt?u.serialize(!1,r):u;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:vp}get editorStats(){let t=null;const e=new Map;let n=0,r=0;for(const o of this.#n.values()){if(!(o instanceof pt)){o.popup&&(o.popup.deleted?r+=1:n+=1);continue}o.isCommentDeleted?r+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:u}=l;e.has(u)||e.set(u,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let m=d.get(f);m||(m=new Map,d.set(f,m));const b=m.get(p)??0;m.set(p,b+1)}}if((r>0||n>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Ow extends Dm{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,o=structuredClone(e,r?{transfer:r}:null);this.#t={map:o,hash:n,transfer:r}}get print(){Kt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}class KL{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Pt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=t,u=new FontFace(r,o,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),n?.(t)}catch{xt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Kt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw xt(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ct(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ct(this,"isSyncFontLoadingSupported",Ye||Le.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Pt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(D,M){return D.charCodeAt(M)<<24|D.charCodeAt(M+1)<<16|D.charCodeAt(M+2)<<8|D.charCodeAt(M+3)&255}function r(D,M,P,O){const j=D.substring(0,M),G=D.substring(M+P);return j+O+G}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(D,M){if(++f>30){xt("Load test font never loaded."),M();return}if(d.font="30px "+D,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(p.bind(null,D,M))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,m.length,m);const A=16,S=1482184792;let w=n(b,A);for(o=0,l=m.length-3;o<l;o+=4)w=w-S+n(m,o)|0;o<m.length&&(w=w-S+n(m+"XXX",o)|0),b=r(b,A,4,BL(w));const E=`url(data:font/opentype;base64,${btoa(b)});`,C=`@font-face {font-family:"${m}";src:${E}}`;this.insertRule(C);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const D of[t.loadedName,m]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=D,_.append(M)}this._document.body.append(_),p(m,()=>{_.remove(),e.complete()})}}class WL{#t;constructor(t,e=null,n,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${ww(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(l){xt(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function QL(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(Ye)return s;const t=URL.parse(s,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ZL(s){if(Ye&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return hl(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s?.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Yc(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const Ap=s=>typeof s=="object"&&Number.isInteger(s?.num)&&s.num>=0&&Number.isInteger(s?.gen)&&s.gen>=0,JL=s=>typeof s=="object"&&typeof s?.name=="string",Nw=UL.bind(null,Ap,JL);class tO{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){xt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const $c={DATA:1,ERROR:2},we={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function DA(){}function rn(s){if(s instanceof Ui||s instanceof xu||s instanceof xA||s instanceof Qo||s instanceof Ff)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||Kt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new Ui(s.message);case"InvalidPDFException":return new xu(s.message);case"PasswordException":return new xA(s.message,s.code);case"ResponseException":return new Qo(s.message,s.status,s.missing);case"UnknownErrorException":return new Ff(s.message,s.details)}return new Ff(s.message,s.toString())}class Po{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===$c.DATA)r.resolve(t.data);else if(t.callback===$c.ERROR)r.reject(rn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:$c.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:$c.ERROR,callbackId:t.callbackId,reason:rn(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,r){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:we.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Pt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:we.CANCEL,streamId:o,reason:rn(f)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,m){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:we.ENQUEUE,streamId:e,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:we.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Pt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:we.ERROR,streamId:e,reason:rn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:we.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:we.START_COMPLETE,streamId:e,reason:rn(f)})})}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case we.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(rn(t.reason));break;case we.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(rn(t.reason));break;case we.PULL:if(!u){o.postMessage({sourceName:n,targetName:r,stream:we.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||DA).then(function(){o.postMessage({sourceName:n,targetName:r,stream:we.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:we.PULL_COMPLETE,streamId:e,reason:rn(f)})});break;case we.ENQUEUE:if(Pt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case we.CLOSE:if(Pt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#r(l,e);break;case we.ERROR:Pt(l,"error should have stream controller"),l.controller.error(rn(t.reason)),this.#r(l,e);break;case we.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(rn(t.reason)),this.#r(l,e);break;case we.CANCEL:if(!u)break;const d=rn(t.reason);Promise.try(u.onCancel||DA,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:we.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:we.CANCEL_COMPLETE,streamId:e,reason:rn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#r(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class Pw{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Kt("Abstract method `_createCanvas` called.")}}class eO extends Pw{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class kw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class LA extends kw{async _fetch(t){const e=await Tr(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):hl(e)}}class Bw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,o){return"none"}destroy(t=!1){}}class nO extends Bw{#t;#e;#i;#n;#r;#s;#a=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#r=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#r.createElementNS(Pi,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#r.createElementNS(Pi,"defs"),t.append(n),n.append(this.#i),this.#r.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[e,n,r]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,l[d]=n[d]/255,u[d]=r[d]/255;return[o.join(","),l.join(","),u.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#r.URL;e!==this.#r.baseURI&&(fl(e)?xt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=wm(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,r,o]=this.#d(t),l=t.length===1?n:`${n}${r}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#a++}`,d=this.#h(u);this.#o.set(t,d),this.#o.set(l,d);const f=this.#p(u);return this.#m(n,r,o,f),d}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let o=this.#c.get(r);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#c.set(r,o)),!t||!e))return o.url;const l=this.#v(t);t=st.makeHexColor(...l);const u=this.#v(e);if(e=st.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let v=0;v<=255;v++){const A=v/255;d[v]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,m=o.filter=this.#p(p);this.#m(f,f,f,m),this.#g(m);const b=(v,A)=>{const S=l[v]/255,w=u[v]/255,E=new Array(A+1);for(let C=0;C<=A;C++)E[C]=S+C/A*(w-S);return E.join(",")};return this.#m(b(0,5),b(1,5),b(2,5),m),o.url=this.#h(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),r=`alpha_${n}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#p(o);return this.#y(n,u),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#p(o);return this.#f(u),t&&this.#y(n,u),l}addHighlightHCMFilter(t,e,n,r,o){const l=`${e}-${n}-${r}-${o}`;let u=this.#c.get(t);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#c.set(t,u)),!e||!n))return u.url;const[d,f]=[e,n].map(this.#v.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,v]=[r,o].map(this.#v.bind(this));m<p&&([p,m,b,v]=[m,p,v,b]),this.#l.style.color="";const A=(E,C,_)=>{const D=new Array(256),M=(m-p)/_,P=E/255,O=(C-E)/(255*_);let j=0;for(let G=0;G<=_;G++){const W=Math.round(p+G*M),J=P+G*O;for(let ot=j;ot<=W;ot++)D[ot]=J;j=W+1}for(let G=j;G<256;G++)D[G]=D[j-1];return D.join(",")},S=`g_${this.#n}_hcm_${t}_filter`,w=u.filter=this.#p(S);return this.#g(w),this.#m(A(b[0],v[0],5),A(b[1],v[1],5),A(b[2],v[2],5),w),u.url=this.#h(S),u.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#a=0)}#f(t){const e=this.#r.createElementNS(Pi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#r.createElementNS(Pi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#r.createElementNS(Pi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const r=this.#r.createElementNS(Pi,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#m(t,e,n,r){const o=this.#r.createElementNS(Pi,"feComponentTransfer");r.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",n)}#y(t,e){const n=this.#r.createElementNS(Pi,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#v(t){return this.#l.style.color=t,Cr(getComputedStyle(this.#l).getPropertyValue("color"))}}class Fw{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class OA extends Fw{async _fetch(t){const e=await Tr(t,"arraybuffer");return new Uint8Array(e)}}class jw{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class NA extends jw{async _fetch(t){const e=await Tr(t,"arraybuffer");return new Uint8Array(e)}}Ye&&xt("Please use the `legacy` build in Node.js environments.");async function Lm(s){const e=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(e)}class iO extends Bw{}class sO extends Pw{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class aO extends kw{async _fetch(t){return Lm(t)}}class rO extends Fw{async _fetch(t){return Lm(t)}}class oO extends jw{async _fetch(t){return Lm(t)}}const Qa="__forcedDependency",{floor:PA,ceil:kA}=Math;function Kc(s,t,e,n,r,o){s[t*4+0]=Math.min(s[t*4+0],e),s[t*4+1]=Math.min(s[t*4+1],n),s[t*4+2]=Math.max(s[t*4+2],r),s[t*4+3]=Math.max(s[t*4+3],o)}const Sp=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class lO{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===Sp}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Wc=(s,t)=>{if(!s)return;let e=s.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},s.set(t,e)),e};class cO{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Qa]:[]};#i=new Map;#n=[];#r=[];#s=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#p;#u;#m;constructor(t,e,n=!1){this.#f=t.width,this.#g=t.height,this.#y(e),n&&(this.#m=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(Sp,e.length)):this.#u.fill(Sp)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Qa]:{__proto__:this.#e[Qa]}},this.#a={__proto__:this.#a},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#a=Object.getPrototypeOf(this.#a);const n=this.#n.pop();return n!==void 0&&(Wc(this.#m,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(Wc(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#r.push(t),this}endMarkedContent(t){const e=this.#r.pop();return e!==void 0&&(Wc(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(st.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Qa,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Qa,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,r,o,l){const u=st.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];st.axialAlignedBoundingBox([n,o,r,l],u,d);const f=st.intersect(this.#a,d);return f?(this.#a[0]=f[0],this.#a[1]=f[1],this.#a[2]=f[2],this.#a[3]=f[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(t,e,n,r,o,l){const u=this.#a;if(u[0]===1/0)return this;const d=st.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(u[0]===-1/0)return st.axialAlignedBoundingBox([n,o,r,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return st.axialAlignedBoundingBox([n,o,r,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,n,r=1,o=0,l=0,u){const d=n.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#h.get(n),f!==!1&&(p=[0,0,0,0],st.axialAlignedBoundingBox(d,n.fontMatrix,p),(r!==1||o!==0||l!==0)&&st.scaleMinMax([r,0,0,-r,o,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const m=u();return d&&p&&f===void 0&&(f=p[0]<=o-m.actualBoundingBoxLeft&&p[2]>=o+m.actualBoundingBoxRight&&p[1]<=l-m.actualBoundingBoxAscent&&p[3]>=l+m.actualBoundingBoxDescent,this.#h.set(n,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-m.actualBoundingBoxLeft,o+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#a[0]),this.#o[1]=Math.max(0,this.#a[1]),this.#o[2]=Math.min(this.#f,this.#a[2]),this.#o[3]=Math.min(this.#g,this.#a[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,r=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(r[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Qa]),this.#m){const n=Wc(this.#m,t),{dependencies:r}=n;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#r.forEach(r.add,r),r.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=PA(this.#o[0]*256/this.#f),r=PA(this.#o[1]*256/this.#g),o=kA(this.#o[2]*256/this.#f),l=kA(this.#o[3]*256/this.#g);Kc(this.#p,t,n,r,o,l);for(const u of this.#l)u!==t&&Kc(this.#p,u,n,r,o,l);for(const u of this.#n)u!==t&&Kc(this.#p,u,n,r,o,l);for(const u of this.#r)u!==t&&Kc(this.#p,u,n,r,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of n)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#a[0]=Math.max(this.#a[0],this.#o[0]),this.#a[1]=Math.max(this.#a[1],this.#o[1]),this.#a[2]=Math.min(this.#a[2],this.#o[2]),this.#a[3]=Math.min(this.#a[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new lO(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class Tu{#t;#e;#i;#n=0;#r=0;constructor(t,e,n){if(t instanceof Tu&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#r++,this.#t.save(this.#e),this}restore(t){return this.#r>0&&(this.#t.restore(this.#e),this.#r--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,r,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,r,o,l),this}recordBBox(t,e,n,r,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,r,o,l),this}recordCharacterBBox(t,e,n,r,o,l,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,r,o,l,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Fn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ie={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xp(s,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),s.clip(r)}class Om{isModifyingCurrentTransform(){return!1}getPattern(){Kt("Abstract method `getPattern` called.")}}class uO extends Om{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let o;if(r===Ie.STROKE||r===Ie.FILL){const l=e.current.getClippedPathBoundingBox(r,se(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=st.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),xp(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(n);o.setTransform(m)}else xp(t,this._bbox),o=this._createGradient(t);return o}}function Uf(s,t,e,n,r,o,l,u){const d=t.coords,f=t.colors,p=s.data,m=s.width*4;let b;d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=o,o=l,l=b),d[n+1]>d[r+1]&&(b=n,n=r,r=b,b=l,l=u,u=b),d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=o,o=l,l=b);const v=(d[e]+t.offsetX)*t.scaleX,A=(d[e+1]+t.offsetY)*t.scaleY,S=(d[n]+t.offsetX)*t.scaleX,w=(d[n+1]+t.offsetY)*t.scaleY,E=(d[r]+t.offsetX)*t.scaleX,C=(d[r+1]+t.offsetY)*t.scaleY;if(A>=C)return;const _=f[o],D=f[o+1],M=f[o+2],P=f[l],O=f[l+1],j=f[l+2],G=f[u],W=f[u+1],J=f[u+2],ot=Math.round(A),ut=Math.round(C);let nt,dt,B,U,Z,rt,gt,k;for(let q=ot;q<=ut;q++){if(q<w){const ht=q<A?0:(A-q)/(A-w);nt=v-(v-S)*ht,dt=_-(_-P)*ht,B=D-(D-O)*ht,U=M-(M-j)*ht}else{let ht;q>C?ht=1:w===C?ht=0:ht=(w-q)/(w-C),nt=S-(S-E)*ht,dt=P-(P-G)*ht,B=O-(O-W)*ht,U=j-(j-J)*ht}let tt;q<A?tt=0:q>C?tt=1:tt=(A-q)/(A-C),Z=v-(v-E)*tt,rt=_-(_-G)*tt,gt=D-(D-W)*tt,k=M-(M-J)*tt;const et=Math.round(Math.min(nt,Z)),ct=Math.round(Math.max(nt,Z));let mt=m*q+et*4;for(let ht=et;ht<=ct;ht++)tt=(nt-ht)/(nt-Z),tt<0?tt=0:tt>1&&(tt=1),p[mt++]=dt-(dt-rt)*tt|0,p[mt++]=B-(B-gt)*tt|0,p[mt++]=U-(U-k)*tt|0,p[mt++]=255}}function hO(s,t,e){const n=t.coords,r=t.colors;let o,l;switch(t.type){case"lattice":const u=t.verticesPerRow,d=Math.floor(n.length/u)-1,f=u-1;for(o=0;o<d;o++){let p=o*u;for(let m=0;m<f;m++,p++)Uf(s,e,n[p],n[p+1],n[p+u],r[p],r[p+1],r[p+u]),Uf(s,e,n[p+u+1],n[p+1],n[p+u],r[p+u+1],r[p+1],r[p+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Uf(s,e,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class dO extends Om{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),v=f/m,A=p/b,S={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/v,scaleY:1/A},w=m+4,E=b+4,C=n.getCanvas("mesh",w,E),_=C.context,D=_.createImageData(m,b);if(e){const P=D.data;for(let O=0,j=P.length;O<j;O+=4)P[O]=e[0],P[O+1]=e[1],P[O+2]=e[2],P[O+3]=255}for(const P of this._figures)hO(D,P,S);return _.putImageData(D,2,2),{canvas:C.canvas,offsetX:u-2*v,offsetY:d-2*A,scaleX:v,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){xp(t,this._bbox);const o=new Float32Array(2);if(r===Ie.SHADING)st.singularValueDecompose2dScale(se(t),o);else if(this.matrix){st.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;st.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=d}else st.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,r===Ie.SHADING?null:this._background,e.cachedCanvases);return r!==Ie.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class fO extends Om{getPattern(){return"hotpink"}}function pO(s){switch(s[0]){case"RadialAxial":return new uO(s);case"Mesh":return new dO(s);case"Dummy":return new fO}throw new Error(`Unknown IR type: ${s[0]}`)}const BA={COLORED:1,UNCOLORED:2};class Nm{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:n,operatorList:r,paintType:o,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),ku("TilingType: "+l);const m=n[0],b=n[1],v=n[2],A=n[3],S=v-m,w=A-b,E=new Float32Array(2);st.singularValueDecompose2dScale(this.matrix,E);const[C,_]=E;st.singularValueDecompose2dScale(this.baseTransform,E);const D=C*E[0],M=_*E[1];let P=S,O=w,j=!1,G=!1;const W=Math.ceil(f*D),J=Math.ceil(p*M),ot=Math.ceil(S*D),ut=Math.ceil(w*M);W>=ot?P=f:j=!0,J>=ut?O=p:G=!0;const nt=this.getSizeAndScale(P,this.ctx.canvas.width,D),dt=this.getSizeAndScale(O,this.ctx.canvas.height,M),B=t.cachedCanvases.getCanvas("pattern",nt.size,dt.size),U=B.context,Z=d.createCanvasGraphics(U,e);if(Z.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Z,o,u),U.translate(-nt.scale*m,-dt.scale*b),Z.transform(0,nt.scale,0,0,dt.scale,0,0),U.save(),Z.dependencyTracker?.save(),this.clipBbox(Z,m,b,v,A),Z.baseTransform=se(Z.ctx),Z.executeOperatorList(r),Z.endDrawing(),Z.dependencyTracker?.restore(),U.restore(),j||G){const rt=B.canvas;j&&(P=f),G&&(O=p);const gt=this.getSizeAndScale(P,this.ctx.canvas.width,D),k=this.getSizeAndScale(O,this.ctx.canvas.height,M),q=gt.size,tt=k.size,et=t.cachedCanvases.getCanvas("pattern-workaround",q,tt),ct=et.context,mt=j?Math.floor(S/f):0,ht=G?Math.floor(w/p):0;for(let Wt=0;Wt<=mt;Wt++)for(let _t=0;_t<=ht;_t++)ct.drawImage(rt,q*Wt,tt*_t,q,tt,0,0,q,tt);return{canvas:et.canvas,scaleX:gt.scale,scaleY:k.scale,offsetX:m,offsetY:b}}return{canvas:B.canvas,scaleX:nt.scale,scaleY:dt.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,e,n){const r=Math.max(Nm.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=r?o=r:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,r,o){const l=r-e,u=o-n;t.ctx.rect(e,n,l,u),st.axialAlignedBoundingBox([e,n,r,o],se(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,o=t.current;switch(e){case BA.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=u;break;case BA.UNCOLORED:r.fillStyle=r.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new kL(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r,o){let l=n;r!==Ie.SHADING&&(l=st.transform(l,e.baseTransform),this.matrix&&(l=st.transform(l,this.matrix)));const u=this.createPatternCanvas(e,o);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function mO({src:s,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=Le.isLittleEndian?4278190080:255,[d,f]=l?[o,u]:[u,o],p=n>>3,m=n&7,b=s.length;e=new Uint32Array(e.buffer);let v=0;for(let A=0;A<r;A++){for(const w=t+p;t<w;t++){const E=t<b?s[t]:255;e[v++]=E&128?f:d,e[v++]=E&64?f:d,e[v++]=E&32?f:d,e[v++]=E&16?f:d,e[v++]=E&8?f:d,e[v++]=E&4?f:d,e[v++]=E&2?f:d,e[v++]=E&1?f:d}if(m===0)continue;const S=t<b?s[t++]:255;for(let w=0;w<m;w++)e[v++]=S&1<<7-w?f:d}return{srcPos:t,destPos:v}}const FA=16,jA=100,gO=15,IA=10,on=16,zf=new DOMMatrix,wn=new Float32Array(2),ar=new Float32Array([1/0,1/0,-1/0,-1/0]);function yO(s,t){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){t.save(),this.__originalSave()},s.restore=function(){t.restore(),this.__originalRestore()},s.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},s.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},s.transform=function(e,n,r,o,l,u){t.transform(e,n,r,o,l,u),this.__originalTransform(e,n,r,o,l,u)},s.setTransform=function(e,n,r,o,l,u){t.setTransform(e,n,r,o,l,u),this.__originalSetTransform(e,n,r,o,l,u)},s.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},s.rotate=function(e){t.rotate(e),this.__originalRotate(e)},s.clip=function(e){t.clip(e),this.__originalClip(e)},s.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},s.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},s.bezierCurveTo=function(e,n,r,o,l,u){t.bezierCurveTo(e,n,r,o,l,u),this.__originalBezierCurveTo(e,n,r,o,l,u)},s.rect=function(e,n,r,o){t.rect(e,n,r,o),this.__originalRect(e,n,r,o)},s.closePath=function(){t.closePath(),this.__originalClosePath()},s.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class bO{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Qc(s,t,e,n,r,o,l,u,d,f){const[p,m,b,v,A,S]=se(s);if(m===0&&b===0){const C=l*p+A,_=Math.round(C),D=u*v+S,M=Math.round(D),P=(l+d)*p+A,O=Math.abs(Math.round(P)-_)||1,j=(u+f)*v+S,G=Math.abs(Math.round(j)-M)||1;return s.setTransform(Math.sign(p),0,0,Math.sign(v),_,M),s.drawImage(t,e,n,r,o,0,0,O,G),s.setTransform(p,m,b,v,A,S),[O,G]}if(p===0&&v===0){const C=u*b+A,_=Math.round(C),D=l*m+S,M=Math.round(D),P=(u+f)*b+A,O=Math.abs(Math.round(P)-_)||1,j=(l+d)*m+S,G=Math.abs(Math.round(j)-M)||1;return s.setTransform(0,Math.sign(m),Math.sign(b),0,_,M),s.drawImage(t,e,n,r,o,0,0,G,O),s.setTransform(p,m,b,v,A,S),[G,O]}s.drawImage(t,e,n,r,o,l,u,d,f);const w=Math.hypot(p,m),E=Math.hypot(b,v);return[w*d,E*f]}class UA{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=yp;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Fe.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=ar.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ie.FILL,e=null){const n=this.minMax.slice();if(t===Ie.STROKE){e||Kt("Stroke bounding box must include transform."),st.singularValueDecompose2dScale(e,wn);const r=wn[0]*this.lineWidth/2,o=wn[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const t=st.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(ar,0)}getClippedPathBoundingBox(t=Ie.FILL,e=null){return st.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function zA(s,t){if(t instanceof ImageData){s.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%on,o=(e-r)/on,l=r===0?o:o+1,u=s.createImageData(n,on);let d=0,f;const p=t.data,m=u.data;let b,v,A,S;if(t.kind===zo.GRAYSCALE_1BPP){const w=p.byteLength,E=new Uint32Array(m.buffer,0,m.byteLength>>2),C=E.length,_=n+7>>3,D=4294967295,M=Le.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(A=b<o?on:r,f=0,v=0;v<A;v++){const P=w-d;let O=0;const j=P>_?n:P*8-7,G=j&-8;let W=0,J=0;for(;O<G;O+=8)J=p[d++],E[f++]=J&128?D:M,E[f++]=J&64?D:M,E[f++]=J&32?D:M,E[f++]=J&16?D:M,E[f++]=J&8?D:M,E[f++]=J&4?D:M,E[f++]=J&2?D:M,E[f++]=J&1?D:M;for(;O<j;O++)W===0&&(J=p[d++],W=128),E[f++]=J&W?D:M,W>>=1}for(;f<C;)E[f++]=0;s.putImageData(u,0,b*on)}}else if(t.kind===zo.RGBA_32BPP){for(v=0,S=n*on*4,b=0;b<o;b++)m.set(p.subarray(d,d+S)),d+=S,s.putImageData(u,0,v),v+=on;b<l&&(S=n*r*4,m.set(p.subarray(d,d+S)),s.putImageData(u,0,v))}else if(t.kind===zo.RGB_24BPP)for(A=on,S=n*A,b=0;b<l;b++){for(b>=o&&(A=r,S=n*A),f=0,v=S;v--;)m[f++]=p[d++],m[f++]=p[d++],m[f++]=p[d++],m[f++]=255;s.putImageData(u,0,b*on)}else throw new Error(`bad image kind: ${t.kind}`)}function VA(s,t){if(t.bitmap){s.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%on,o=(e-r)/on,l=r===0?o:o+1,u=s.createImageData(n,on);let d=0;const f=t.data,p=u.data;for(let m=0;m<l;m++){const b=m<o?on:r;({srcPos:d}=mO({src:f,srcPos:d,dest:p,width:n,height:b,nonBlackColor:0})),s.putImageData(u,0,m*on)}}function _o(s,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)s[n]!==void 0&&(t[n]=s[n]);s.setLineDash!==void 0&&(t.setLineDash(s.getLineDash()),t.lineDashOffset=s.lineDashOffset)}function Zc(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:t}=s;t!=="none"&&t!==""&&(s.filter="none")}function HA(s,t){if(t)return!0;st.singularValueDecompose2dScale(s,wn);const e=Math.fround(Kn.pixelRatio*ra.PDF_TO_CSS_UNITS);return wn[0]<=e&&wn[1]<=e}const vO=["butt","round","square"],AO=["miter","round","bevel"],SO={},GA={};class lr{constructor(t,e,n,r,o,{optionalContentConfig:l,markedContentStack:u=null},d,f,p){this.ctx=t,this.current=new UA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new bO(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...se(this.compositeCtx))}this.ctx.save(),Zc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=se(this.ctx)}executeOperatorList(t,e,n,r,o){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>IA&&typeof n=="function",m=p?Date.now()+gO:0;let b=0;const v=this.commonObjs,A=this.objs;let S,w;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,n),d;if(!o||o(d))if(S=u[d],w=l[d]??null,S!==gr.dependency)w===null?this[S](d):this[S](d,...w);else for(const E of w){this.dependencyTracker?.recordNamedData(E,d);const C=E.startsWith("g_")?v:A;if(!C.has(E))return C.get(E,n),d}if(d++,d===f)return d;if(p&&++b>IA){if(Date.now()>m)return n(),d;b=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=n,d=r,f="prescale1",p,m;for(;o>2&&u>1||l>2&&d>1;){let b=u,v=d;o>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/b),l>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/v),p=this.cachedCanvases.getCanvas(f,b,v),m=p.context,m.clearRect(0,0,b,v),m.drawImage(t,0,0,u,d,0,0,b,v),t=p.canvas,u=b,d=v,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const n=this.ctx,{width:r,height:o}=e,l=this.current.fillColor,u=this.current.patternFill,d=se(n);let f,p,m,b;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const J=f.get(p);if(J&&!u){const ot=Math.round(Math.min(d[0],d[2])+d[4]),ut=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Fn.transformAndFill),{canvas:J,offsetX:ot,offsetY:ut}}m=J}m||(b=this.cachedCanvases.getCanvas("maskCanvas",r,o),VA(b.context,e));let v=st.transform(d,[1/r,0,0,-1/o,0,0]);v=st.transform(v,[1,0,0,1,0,-o]);const A=ar.slice();st.axialAlignedBoundingBox([0,0,r,o],v,A);const[S,w,E,C]=A,_=Math.round(E-S)||1,D=Math.round(C-w)||1,M=this.cachedCanvases.getCanvas("fillCanvas",_,D),P=M.context,O=S,j=w;P.translate(-O,-j),P.transform(...v),m||(m=this._scaleImage(b.canvas,si(P)),m=m.img,f&&u&&f.set(p,m)),P.imageSmoothingEnabled=HA(se(P),e.interpolate),Qc(P,m,0,0,m.width,m.height,0,0,r,o),P.globalCompositeOperation="source-in";const G=st.transform(si(P),[1,0,0,1,-O,-j]);return P.fillStyle=u?l.getPattern(n,this,G,Ie.FILL,t):l,P.fillRect(0,0,r,o),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,M.canvas)),this.dependencyTracker?.recordDependencies(t,Fn.transformAndFill),{canvas:M.canvas,offsetX:Math.round(O),offsetY:Math.round(j)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=vO[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=AO[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),_o(this.suspendedCtx,l),yO(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_o(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const o=r[0],l=r[1],u=r[2]-o,d=r[3]-l;u===0||d===0||(this.genericComposeSMask(e.context,n,u,d,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,o,l,u,d,f,p,m){let b=t.canvas,v=d-p,A=f-m;if(l)if(v<0||A<0||v+n>b.width||A+r>b.height){const w=this.cachedCanvases.getCanvas("maskExtension",n,r),E=w.context;E.drawImage(b,-v,-A),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,n,r),E.globalCompositeOperation="source-over",b=w.canvas,v=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(v,A,n,r),t.clip(w),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(v,A,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const S=new Path2D;S.rect(d,f,n,r),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,v,A,n,r,d,f,n,r),e.restore()}save(t){this.inSMaskMode&&_o(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&_o(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,o,l,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,r,o,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,r){let[o]=n;if(!r){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===gr.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=n[0]=new Path2D;for(let u=0,d=o.length;u<d;)switch(o[u++]){case qc.moveTo:l.moveTo(o[u++],o[u++]);break;case qc.lineTo:l.lineTo(o[u++],o[u++]);break;case qc.curveTo:l.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);break;case qc.closePath:l.closePath();break;default:xt(`Unrecognized drawing path operator: ${o[u-1]}`);break}o=l}st.axialAlignedBoundingBox(r,se(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,si(r),Ie.STROKE,t),l){const u=new Path2D;u.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=u}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Fn.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Ie.STROKE,se(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const r=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=o.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=o.getPattern(r,this,si(r),Ie.FILL,t),f){const p=new Path2D;p.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=p}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,Fn.fill),u&&(r.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Fn.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=SO}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=GA}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:u,y:d,fontSize:f,path:p}of e)p&&r.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(u,d).scale(f,-f));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||yp,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&xt("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const l=r.loadedName||"sans-serif",u=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let p=n;n<FA?p=FA:n>jA&&(p=jA),this.current.fontSizeScale=n/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,o,l){const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,b=p&Fe.FILL_STROKE_MASK,v=!!(p&Fe.ADD_TO_PATH_FLAG),A=d.patternFill&&!f.missingFile,S=d.patternStroke&&!f.missingFile;let w;if((f.disableFontFace||v||A||S)&&!f.missingFile&&(w=f.getPathGenerator(this.commonObjs,e)),w&&(f.disableFontFace||A||S)){u.save(),u.translate(n,r),u.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(t,u,f);let E;if(b===Fe.FILL||b===Fe.FILL_STROKE)if(o){E=u.getTransform(),u.setTransform(...o);const C=this.#i(w,E,o);u.fill(C)}else u.fill(w);if(b===Fe.STROKE||b===Fe.FILL_STROKE)if(l){E||=u.getTransform(),u.setTransform(...l);const{a:C,b:_,c:D,d:M}=E,P=st.inverseTransform(l),O=st.transform([C,_,D,M,0,0],P);st.singularValueDecompose2dScale(O,wn),u.lineWidth*=Math.max(wn[0],wn[1])/m,u.stroke(this.#i(w,E,l))}else u.lineWidth/=m,u.stroke(w);u.restore()}else(b===Fe.FILL||b===Fe.FILL_STROKE)&&(u.fillText(e,n,r),this.dependencyTracker?.recordCharacterBBox(t,u,f,m,n,r,()=>u.measureText(e))),(b===Fe.STROKE||b===Fe.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,m,n,r,()=>u.measureText(e)).recordDependencies(t,Fn.stroke),u.strokeText(e,n,r));v&&((this.pendingTextPaths||=[]).push({transform:se(u),x:n,y:r,fontSize:m,path:w}),this.dependencyTracker?.recordCharacterBBox(t,u,f,m,n,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Ct(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Fn.showText).resetBBox(t),this.current.textRenderingMode&Fe.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,u=n.fontSizeScale,d=n.charSpacing,f=n.wordSpacing,p=n.fontDirection,m=n.textHScale*p,b=e.length,v=r.vertical,A=v?1:-1,S=r.defaultVMetrics,w=o*n.fontMatrix[0],E=n.textRenderingMode===Fe.FILL&&!r.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(m,-1):l.scale(m,1);let C,_;if(n.patternFill){l.save();const j=n.fillColor.getPattern(l,this,si(l),Ie.FILL,t);C=se(l),l.restore(),l.fillStyle=j}if(n.patternStroke){l.save();const j=n.strokeColor.getPattern(l,this,si(l),Ie.STROKE,t);_=se(l),l.restore(),l.strokeStyle=j}let D=n.lineWidth;const M=n.textMatrixScale;if(M===0||D===0){const j=n.textRenderingMode&Fe.FILL_STROKE_MASK;(j===Fe.STROKE||j===Fe.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=M;if(u!==1&&(l.scale(u,u),D/=u),l.lineWidth=D,r.isInvalidPDFjsFont){const j=[];let G=0;for(const J of e)j.push(J.unicode),G+=J.width;const W=j.join("");if(l.fillText(W,0,0),this.dependencyTracker!==null){const J=l.measureText(W);this.dependencyTracker.recordBBox(t,this.ctx,-J.actualBoundingBoxLeft,J.actualBoundingBoxRight,-J.actualBoundingBoxAscent,J.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=G*w*m,l.restore(),this.compose();return}let P=0,O;for(O=0;O<b;++O){const j=e[O];if(typeof j=="number"){P+=A*j*o/1e3;continue}let G=!1;const W=(j.isSpace?f:0)+d,J=j.fontChar,ot=j.accent;let ut,nt,dt=j.width;if(v){const Z=j.vmetric||S,rt=-(j.vmetric?Z[1]:dt*.5)*w,gt=Z[2]*w;dt=Z?-Z[0]:dt,ut=rt/u,nt=(P+gt)/u}else ut=P/u,nt=0;let B;if(r.remeasure&&dt>0){B=l.measureText(J);const Z=B.width*1e3/o*u;if(dt<Z&&this.isFontSubpixelAAEnabled){const rt=dt/Z;G=!0,l.save(),l.scale(rt,1),ut/=rt}else dt!==Z&&(ut+=(dt-Z)/2e3*o/u)}if(this.contentVisible&&(j.isInFont||r.missingFile)){if(E&&!ot)l.fillText(J,ut,nt),this.dependencyTracker?.recordCharacterBBox(t,l,B?{bbox:null}:r,o/u,ut,nt,()=>B??l.measureText(J));else if(this.paintChar(t,J,ut,nt,C,_),ot){const Z=ut+o*ot.offset.x/u,rt=nt-o*ot.offset.y/u;this.paintChar(t,ot.fontChar,Z,rt,C,_)}}const U=v?dt*w-W*p:dt*w+W*p;P+=U,G&&l.restore()}v?n.y-=P:n.x+=P*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,r=this.current,o=r.font,l=r.fontSize,u=r.fontDirection,d=o.vertical?1:-1,f=r.charSpacing,p=r.wordSpacing,m=r.textHScale*u,b=r.fontMatrix||yp,v=e.length,A=r.textRenderingMode===Fe.INVISIBLE;let S,w,E,C;if(A||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(m,u);const _=this.dependencyTracker;for(this.dependencyTracker=_?new Tu(_,t):null,S=0;S<v;++S){if(w=e[S],typeof w=="number"){C=d*w*l/1e3,this.ctx.translate(C,0),r.x+=C*m;continue}const D=(w.isSpace?p:0)+f,M=o.charProcOperatorList[w.operatorListId];M?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...b),this.executeOperatorList(M),this.restore()):xt(`Type3 character "${w.operatorListId}" is not available.`);const P=[w.width,0];st.applyTransform(P,b),E=P[0]*l+D,n.translate(E,0),r.x+=E*m}n.restore(),_&&(this.dependencyTracker=_)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,r,o,l,u){const d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,l,o,u).recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const r=this.baseTransform||se(this.ctx),o={createCanvasGraphics:(l,u)=>new lr(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Tu(this.dependencyTracker,u,!0):null)};n=new Nm(e,this.ctx,o,r)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=pO(this.getObject(t,e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const r=this._getPattern(t,e);n.fillStyle=r.getPattern(n,this,si(n),Ie.SHADING,t);const o=si(n);if(o){const{width:l,height:u}=n.canvas,d=ar.slice();st.axialAlignedBoundingBox([0,0,l,u],o,d);const[f,p,m,b]=d;this.ctx.fillRect(f,p,m-f,b-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Fn.transform).recordDependencies(t,Fn.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Kt("Should not call beginInlineImage")}beginImageData(){Kt("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=se(this.ctx),n)){st.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,o,l,u]=n,d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||ku("TODO: Support non-isolated groups."),e.knockout&&xt("Knockout groups not supported.");const r=se(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=ar.slice();st.axialAlignedBoundingBox(e.bbox,se(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=st.intersect(o,l)||[0,0,0,0];const u=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-u,1),p=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,f,p),v=b.context;v.translate(-u,-d),v.transform(...r);let A=new Path2D;const[S,w,E,C]=e.bbox;if(A.rect(S,w,E-S,C-w),e.matrix){const _=new Path2D;_.addPath(A,new DOMMatrix(e.matrix)),A=_}v.clip(A),e.smask&&this.smaskStack.push({canvas:b.canvas,context:v,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(u,d),n.save()),_o(n,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=se(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=ar.slice();st.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,o,l){if(this.#t(),Zc(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const u=n[2]-n[0],d=n[3]-n[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=u,n[3]=d,st.singularValueDecompose2dScale(se(this.ctx),wn);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),m=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:b,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(wn[0],0,0,-wn[1],0,d*wn[1]),Zc(this.ctx)}else{Zc(this.ctx),this.endPath(t);const f=new Path2D;f.rect(n[0],n[1],u,d),this.ctx.clip(f)}}this.current=new UA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const r=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,r=0,o=0,l,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=se(d);d.transform(n,r,o,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let m=0,b=u.length;m<b;m+=2){const v=st.transform(f,[n,r,o,l,u[m],u[m+1]]);d.drawImage(p.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(t,this.ctx,v[4],v[4]+p.canvas.width,v[5],v[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Fn.transformAndFill);for(const l of e){const{data:u,width:d,height:f,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=m.context;b.save();const v=this.getObject(t,u,l);VA(b,v),b.globalCompositeOperation="source-in",b.fillStyle=o?r.getPattern(b,this,si(n),Ie.FILL,t):r,b.fillRect(0,0,d,f),b.restore(),n.save(),n.transform(...p),n.scale(1,-1),Qc(n,m.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,d,0,f),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,r,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){xt("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let p=0,m=o.length;p<m;p+=2)f.push({transform:[n,0,0,r,o[p],o[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,r=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/r);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,r).context;zA(p,e),u=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(u,si(o));o.imageSmoothingEnabled=HA(se(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-r,0).recordDependencies(t,Fn.imageXObject).recordOperation(t),Qc(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,n,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;zA(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of n)r.save(),r.transform(...l.transform),r.scale(1,-1),Qc(r,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Fn.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(r||(this.pendingClip===GA?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=se(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:o}=this.ctx.getTransform();let l,u;if(n===0&&r===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)l=u=1/d;else{const p=d*t;l=u=p<1?1/p:1}else if(t===0)l=1/d,u=1/f;else{const p=d*t,m=f*t;l=p<1?1/p:1,u=m<1?1/m:1}}else{const d=Math.abs(e*o-n*r),f=Math.hypot(e,n),p=Math.hypot(r,o);if(t===0)l=p/d,u=f/d;else{const m=t*d;l=p>m?p/m:1,u=f>m?f/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(r||1)*o,n.stroke(t);return}const u=n.getLineDash();e&&n.save(),n.scale(o,l),zf.a=1/o,zf.d=1/l;const d=new Path2D;if(d.addPath(t,zf),u.length>0){const f=Math.max(o,l);n.setLineDash(u.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=r||1,n.stroke(d),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const s in gr)lr.prototype[s]!==void 0&&(lr.prototype[gr[s]]=lr.prototype[s]);class cr{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let r=0;for(const f of cr.strings){const p=e.encode(t[f]);n[f]=p,r+=4+p.length}const o=new ArrayBuffer(r),l=new Uint8Array(o),u=new DataView(o);let d=0;for(const f of cr.strings){const p=n[f],m=p.length;u.setUint32(d,m),l.set(p,d+4),d+=4+m}return Pt(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Pt(t<cr.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class ur{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let r=0;for(const b of ur.strings){const v=e.encode(t[b]);n[b]=v,r+=4+v.length}r+=4;let o,l,u=1+r;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),u+=4+o.length+4+l.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;p.setUint8(m++,t.guessFallback?1:0),p.setUint32(m,0),m+=4,r=0;for(const b of ur.strings){const v=n[b],A=v.length;r+=4+A,p.setUint32(m,A),f.set(v,m+4),m+=4+A}return p.setUint32(m-r-4,r),t.style&&(p.setUint32(m,o.length),f.set(o,m+4),m+=4+o.length,p.setUint32(m,l.length),f.set(l,m+4),m+=4+l.length),Pt(m<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(m)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Pt(t<ur.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:n,weight:o}}}class Xt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#r=this.#n+1+6;#s;#a;#o;constructor({data:t,extra:e}){this.#s=t,this.#a=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){Pt(t<Xt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,r=this.#o.getUint8(e)>>n&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return Pt(t<Xt.numbers.length,"Invalid number index"),this.#o.getFloat64(Xt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Xt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<4;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=Xt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<6;r++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=Xt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<3;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#d(t){Pt(t<Xt.strings.length,"Invalid string index");let e=Xt.#r+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,e+4,n)),this.#a.decode(r)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=Xt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=Xt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Xt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);if(r===0)return null;const o=new Uint8Array(r);return o.set(new Uint8Array(this.#s,t+4,r)),new cr(o.buffer)}get systemFontInfo(){let t=Xt.#r;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,t+4,n)),new ur(r.buffer)}static write(t){const e=t.systemFontInfo?ur.write(t.systemFontInfo):null,n=t.cssFontInfo?cr.write(t.cssFontInfo):null,r=new TextEncoder,o={};let l=0;for(const S of Xt.strings)o[S]=r.encode(t[S]),l+=4+o[S].length;const u=Xt.#r+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;const b=Xt.bools.length;let v=0,A=0;for(let S=0;S<b;S++){const w=t[Xt.bools[S]];v|=(w===void 0?0:w?2:1)<<A,A+=2,(A===8||S===b-1)&&(p.setUint8(m++,v),v=0,A=0)}Pt(m===Xt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const S of Xt.numbers)p.setFloat64(m,t[S]),m+=8;if(Pt(m===Xt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(m++,4);for(const S of t.bbox)p.setInt16(m,S,!0),m+=2}else p.setUint8(m++,0),m+=8;if(Pt(m===Xt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(m++,6);for(const S of t.fontMatrix)p.setFloat64(m,S,!0),m+=8}else p.setUint8(m++,0),m+=48;if(Pt(m===Xt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(m++,1);for(const S of t.defaultVMetrics)p.setInt16(m,S,!0),m+=2}else p.setUint8(m++,0),m+=6;Pt(m===Xt.#r,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(Xt.#r,0),m+=4;for(const S of Xt.strings){const w=o[S],E=w.length;p.setUint32(m,E),f.set(w,m+4),m+=4+E}if(p.setUint32(Xt.#r,m-Xt.#r-4),!e)p.setUint32(m,0),m+=4;else{const S=e.byteLength;p.setUint32(m,S),Pt(m+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),m+4),m+=4+S}if(!n)p.setUint32(m,0),m+=4;else{const S=n.byteLength;p.setUint32(m,S),Pt(m+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(n),m+4),m+=4+S}return t.data===void 0?(p.setUint32(m,0),m+=4):(p.setUint32(m,t.data.length),f.set(t.data,m+4),m+=4+t.data.length),Pt(m<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(m)}}class Ss{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class xO{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Ja=Symbol("INTERNAL");class wO{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:o}){this.#t=!!(t&Sn.DISPLAY),this.#e=!!(t&Sn.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Ja&&Kt("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class EO{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=Sn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new wO(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Ja,!1);for(const n of t.on)this.#e.get(n)._setVisible(Ja,!0);for(const n of t.off)this.#e.get(n)._setVisible(Ja,!1);this.#i=this.getHash()}}#r(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const o=t[r];let l;if(Array.isArray(o))l=this.#r(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return xt(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return ku("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(xt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return xt(`Unknown optional content policy ${t.policy}.`),!0}return xt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){xt(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(Ja,!1,!0);r._setVisible(Ja,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=this.#e.get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new Lw;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class TO{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Pt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});Pt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Pt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new CO(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new _O(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class CO{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=Fu(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _O{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function RO(s){let t=!0,e=n("filename\\*","i").exec(s);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),o(p)}if(e=l(s),e){const p=f(e);return o(p)}if(e=n("filename","i").exec(s),e){e=e[1];let p=u(e);return p=f(p),o(p)}function n(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const b=new TextDecoder(p,{fatal:!0}),v=hl(m);m=b.decode(v),t=!1}catch{}}return m}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function l(p){const m=[];let b;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=v.exec(p))!==null;){let[,S,w,E]=b;if(S=parseInt(S,10),S in m){if(S===0)break;continue}m[S]=[w,E]}const A=[];for(let S=0;S<m.length&&S in m;++S){let[w,E]=m[S];E=u(E),w&&(E=unescape(E),S===0&&(E=d(E))),A.push(E)}return A.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let b=0;b<m.length;++b){const v=m[b].indexOf('"');v!==-1&&(m[b]=m[b].slice(0,v),m.length=b+1),m[b]=m[b].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const b=p.slice(0,m),A=p.slice(m+1).replace(/^[^']*'/,"");return r(b,A)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,b,v,A){if(v==="q"||v==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,w){return String.fromCharCode(parseInt(w,16))}),r(b,A);try{A=atob(A)}catch{}return r(b,A)})}return""}function Iw(s,t){const e=new Headers;if(!s||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function ju(s){return URL.parse(s)?.origin??null}function Uw({responseHeaders:s,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(s.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||n||!t||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function zw(s){const t=s.get("Content-Disposition");if(t){let e=RO(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Fu(e))return e}return null}function gl(s,t){return new Qo(`Unexpected server response (${s}) while retrieving PDF "${t}".`,s,s===404||s===0&&t.startsWith("file:"))}function Vw(s){return s===200||s===206}function Hw(s,t,e){return{method:"GET",headers:s,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Gw(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(xt(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class MO{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Iw(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Pt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new DO(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new LO(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class DO{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,Hw(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=ju(o.url),!Vw(o.status))throw gl(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:d}=Uw({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=zw(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ui("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Gw(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class LO{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=r.url;fetch(l,Hw(o,this._withCredentials,this._abortController)).then(u=>{const d=ju(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!Vw(u.status))throw gl(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Gw(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Vf=200,Hf=206;function OO(s){const t=s.response;return typeof t!="string"?t:hl(t).buffer}class NO{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Iw(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Hf):r.expectedStatus=Vf,e.responseType="arraybuffer",Pt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||Vf;if(!(o===Vf&&n.expectedStatus===Hf)&&o!==n.expectedStatus){n.onError(r.status);return}const u=OO(r);if(o===Hf){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:u}):(xt('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class PO{constructor(t){this._source=t,this._manager=new NO(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Pt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new kO(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new BO(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class kO{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=ju(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=Uw({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=zw(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=gl(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class BO{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=ju(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=gl(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const FO=/^[a-z][a-z0-9\-+.]+:/i;function jO(s){if(FO.test(s))return new URL(s);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(s))}class IO{constructor(t){this.source=t,this.url=jO(t.url),Pt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Pt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new UO(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new zO(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class UO{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=gl(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ui("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class zO{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ro=Symbol("INITIAL_DATA");class qw{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Ro}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===Ro)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Ro}delete(t){const e=this.#t[t];return!e||e.data===Ro?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Ro&&(yield[t,e])}}}const VO=1e5,qA=30;let Jo=class jn{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#a=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#T=new WeakMap;static#w=null;static#A=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*Kn.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:o,pageX:l,pageY:u}=n.rawDims;this.#y=[1,0,0,-1,-l,u+o],this.#o=r,this.#a=o,jn.#M(),Es(e,n),this.#t.promise.finally(()=>{jn.#A.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Le.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#r??=e.lang,Object.assign(this.#f,e.styles),this.#_(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),jn.#A.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Kn.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Es(this.#l,{rotation:r})),n!==this.#h){e?.(),this.#h=n;const o={div:null,properties:null,ctx:jn.#D(this.#r)};for(const l of this.#u)o.properties=this.#m.get(l),o.div=l,this.#E(o)}}cancel(){const t=new Ui("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#_(t){if(this.#i)return;this.#s.ctx??=jn.#D(this.#r);const e=this.#u,n=this.#g;for(const r of t){if(e.length>VO){xt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),o.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#x(r)}}#x(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=st.transform(this.#y,t.transform);let o=Math.atan2(r[1],r[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let u=this.#n&&l.fontSubstitution||l.fontFamily;u=jn.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),f=d*jn.#F(u,l,this.#r);let p,m;o===0?(p=r[4],m=r[5]-f):(p=r[4]+f*Math.sin(o),m=r[5]-f*Math.cos(o));const b="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#l?(v.left=`${(100*p/this.#o).toFixed(2)}%`,v.top=`${(100*m/this.#a).toFixed(2)}%`):(v.left=`${b}${p.toFixed(2)}px)`,v.top=`${b}${m.toFixed(2)}px)`),v.fontSize=`${b}${(jn.#w*d).toFixed(2)}px)`,v.fontFamily=u,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let A=!1;if(t.str.length>1)A=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const S=Math.abs(t.transform[0]),w=Math.abs(t.transform[3]);S!==w&&Math.max(S,w)/Math.min(S,w)>1.5&&(A=!0)}if(A&&(n.canvasWidth=l.vertical?t.height:t.width),this.#m.set(e,n),this.#s.div=e,this.#s.properties=n,this.#E(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#e.append(S)}}#E(t){const{div:e,properties:n,ctx:r}=t,{style:o}=e;let l="";if(jn.#w>1&&(l=`scale(${1/jn.#w})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=n;jn.#R(r,f*this.#h,u);const{width:p}=r.measureText(e.textContent);p>0&&(l=`scaleX(${d*this.#h/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#A.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#D(t=null){let e=this.#b.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#T.set(e,{size:0,family:""})}return e}static#R(t,e,n){const r=this.#T.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#M(){if(this.#w!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#F(t,e,n){const r=this.#v.get(t);if(r)return r;const o=this.#D(n);o.canvas.width=o.canvas.height=qA,this.#R(o,qA,t);const l=o.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(Le.platform.isFirefox&&xt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#v.set(t,f),f}};const HO=100;function Pm(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const t=new km,{docId:e}=t,n=s.url?QL(s.url):null,r=s.data?ZL(s.data):null,o=s.httpHeaders||null,l=s.withCredentials===!0,u=s.password??null,d=s.range instanceof Bm?s.range:null,f=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:2**16;let p=s.worker instanceof yr?s.worker:null;const m=s.verbosity,b=typeof s.docBaseUrl=="string"&&!fl(s.docBaseUrl)?s.docBaseUrl:null,v=Yc(s.cMapUrl),A=s.cMapPacked!==!1,S=s.CMapReaderFactory||(Ye?aO:LA),w=Yc(s.iccUrl),E=Yc(s.standardFontDataUrl),C=s.StandardFontDataFactory||(Ye?rO:OA),_=Yc(s.wasmUrl),D=s.WasmFactory||(Ye?oO:NA),M=s.stopAtErrors!==!0,P=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,O=s.isEvalSupported!==!1,j=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!Ye,G=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!Ye&&(Le.platform.isFirefox||!globalThis.chrome),W=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,J=typeof s.disableFontFace=="boolean"?s.disableFontFace:Ye,ot=s.fontExtraProperties===!0,ut=s.enableXfa===!0,nt=s.ownerDocument||globalThis.document,dt=s.disableRange===!0,B=s.disableStream===!0,U=s.disableAutoFetch===!0,Z=s.pdfBug===!0,rt=s.CanvasFactory||(Ye?sO:eO),gt=s.FilterFactory||(Ye?iO:nO),k=s.enableHWA===!0,q=s.useWasm!==!1,tt=d?d.length:s.length??NaN,et=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!Ye&&!J,ct=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(S===LA&&C===OA&&D===NA&&v&&E&&_&&No(v,document.baseURI)&&No(E,document.baseURI)&&No(_,document.baseURI)),mt=null;OL(m);const ht={canvasFactory:new rt({ownerDocument:nt,enableHWA:k}),filterFactory:new gt({docId:e,ownerDocument:nt}),cMapReaderFactory:ct?null:new S({baseUrl:v,isCompressed:A}),standardFontDataFactory:ct?null:new C({baseUrl:E}),wasmFactory:ct?null:new D({baseUrl:_})};p||(p=yr.create({verbosity:m,port:Ss.workerPort}),t._worker=p);const Wt={docId:e,apiVersion:"5.4.296",data:r,password:u,disableAutoFetch:U,rangeChunkSize:f,length:tt,docBaseUrl:b,enableXfa:ut,evaluatorOptions:{maxImageSize:P,disableFontFace:J,ignoreErrors:M,isEvalSupported:O,isOffscreenCanvasSupported:j,isImageDecoderSupported:G,canvasMaxAreaInBytes:W,fontExtraProperties:ot,useSystemFonts:et,useWasm:q,useWorkerFetch:ct,cMapUrl:v,iccUrl:w,standardFontDataUrl:E,wasmUrl:_}},_t={ownerDocument:nt,pdfBug:Z,styleElement:mt,loadingParams:{disableAutoFetch:U,enableXfa:ut}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ut=p.messageHandler.sendWithPromise("GetDocRequest",Wt,r?[r.buffer]:null);let We;if(d)We=new TO(d,{disableRange:dt,disableStream:B});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const hn=No(n)?MO:Ye?IO:PO;We=new hn({url:n,length:tt,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:dt,disableStream:B})}return Ut.then(hn=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const kt=new Po(e,hn,p.port),Bt=new XO(kt,t,We,_t,ht,k);t._transport=Bt,kt.send("Ready",null)})}).catch(t._capability.reject),t}class km{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${km.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Bm=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#r=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#r)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Kt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class GO{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class qO{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new EA:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new qw,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new dl({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:r="display",annotationMode:o=ui.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:b=!1,recordOperations:v=!1,operationsFilter:A=null}){this._stats?.time("Overall");const S=this._transport.getRenderingIntent(r,o,m,b),{renderingIntent:w,cacheKey:E}=S;this.#t=!1,d||=this._transport.getOptionalContentConfig(w);let C=this._intentStates.get(E);C||(C=Object.create(null),this._intentStates.set(E,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const _=!!(w&Sn.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(S));const D=!!(this._pdfBug&&globalThis.StepperManager?.enabled),M=!this.recordedBBoxes&&(v||D),P=G=>{if(C.renderTasks.delete(O),M){const W=O.gfx?.dependencyTracker.take();W&&(O.stepper&&O.stepper.setOperatorBBoxes(W,O.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=W))}_&&(this.#t=!0),this.#e(),G?(O.capability.reject(G),this._abortOperatorList({intentState:C,reason:G instanceof Error?G:new Error(G)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new rr({callback:P,params:{canvas:e,canvasContext:t,dependencyTracker:M?new cO(e,C.operatorList.length,D):null,viewport:n,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:A});(C.renderTasks||=new Set).add(O);const j=O.task;return Promise.all([C.displayReadyCapability.promise,d]).then(([G,W])=>{if(this.destroyed){P();return}if(this._stats?.time("Rendering"),!(W.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:G,optionalContentConfig:W}),O.operatorListChanged()}).catch(P),j}getOperatorList({intent:t="display",annotationMode:e=ui.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,n,r,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Zo.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function o(){l.read().then(function({value:d,done:f}){if(f){n(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},r)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new EA),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:m,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Bu){let r=HO;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Ui(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var bs,$n,ki,ta,_u,ea,na,Ke,cu,Xw,Yw,ko,fr,uu;const ee=class ee{constructor({name:t=null,port:e=null,verbosity:n=NL()}={}){ni(this,Ke);ni(this,bs,Promise.withResolvers());ni(this,$n,null);ni(this,ki,null);ni(this,ta,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(te(ee,na).has(e))throw new Error("Cannot use more than one PDFWorker per port.");te(ee,na).set(e,this),ii(this,Ke,Xw).call(this,e)}else ii(this,Ke,Yw).call(this)}get promise(){return te(this,bs).promise}get port(){return te(this,ki)}get messageHandler(){return te(this,$n)}destroy(){this.destroyed=!0,te(this,ta)?.terminate(),an(this,ta,null),te(ee,na).delete(te(this,ki)),an(this,ki,null),te(this,$n)?.destroy(),an(this,$n,null)}static create(t){const e=te(this,na).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ee(t)}static get workerSrc(){if(Ss.workerSrc)return Ss.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>te(this,fr,uu)?te(this,fr,uu):(await import(this.workerSrc)).WorkerMessageHandler)())}};bs=new WeakMap,$n=new WeakMap,ki=new WeakMap,ta=new WeakMap,_u=new WeakMap,ea=new WeakMap,na=new WeakMap,Ke=new WeakSet,cu=function(){te(this,bs).resolve(),te(this,$n).send("configure",{verbosity:this.verbosity})},Xw=function(t){an(this,ki,t),an(this,$n,new Po("main","worker",t)),te(this,$n).on("ready",()=>{}),ii(this,Ke,cu).call(this)},Yw=function(){if(te(ee,ea)||te(ee,fr,uu)){ii(this,Ke,ko).call(this);return}let{workerSrc:t}=ee;try{ee._isSameOrigin(window.location,t)||(t=ee._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Po("main","worker",e),r=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?te(this,bs).reject(new Error("Worker was destroyed")):ii(this,Ke,ko).call(this)},o=new AbortController;e.addEventListener("error",()=>{te(this,ta)||r()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}an(this,$n,n),an(this,ki,e),an(this,ta,e),ii(this,Ke,cu).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{ii(this,Ke,ko).call(this)}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{ku("The worker has been disabled.")}ii(this,Ke,ko).call(this)},ko=function(){te(ee,ea)||(xt("Setting up fake worker."),an(ee,ea,!0)),ee._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){te(this,bs).reject(new Error("Worker was destroyed"));return}const e=new tO;an(this,ki,e);const n=`fake${Hb(ee,_u)._++}`,r=new Po(n+"_worker",n,e);t.setup(r,e),an(this,$n,new Po(n,n+"_worker",e)),ii(this,Ke,cu).call(this)}).catch(t=>{te(this,bs).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},fr=new WeakSet,uu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ni(ee,fr),ni(ee,_u,0),ni(ee,ea,!1),ni(ee,na,new WeakMap),Ye&&(an(ee,ea,!0),Ss.workerSrc||="./pdf.worker.mjs"),ee._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},ee._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ee.fromPort=t=>{if(VL("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ee.create(t)};let yr=ee;class XO{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#r=null;constructor(t,e,n,r,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new qw,this.fontLoader=new KL({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Ct(this,"annotationStorage",new Dm)}getRenderingIntent(t,e=ui.ENABLE,n=null,r=!1,o=!1){let l=Sn.DISPLAY,u=vp;switch(t){case"any":l=Sn.ANY;break;case"display":break;case"print":l=Sn.PRINT;break;default:xt(`getRenderingIntent - invalid intent: ${t}`)}const d=l&Sn.PRINT&&n instanceof Ow?n:this.annotationStorage;switch(e){case ui.DISABLE:l+=Sn.ANNOTATIONS_DISABLE;break;case ui.ENABLE:break;case ui.ENABLE_FORMS:l+=Sn.ANNOTATIONS_FORMS;break;case ui.ENABLE_STORAGE:l+=Sn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:xt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=Sn.IS_EDITING),o&&(l+=Sn.OPLIST);const{ids:f,hash:p}=d.modifiedIds,m=[l,u.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Jo.cleanup(),this._networkStream?.cancelAllRequests(new Ui("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Pt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Pt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,r)=>{Pt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){r.close();return}Pt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new GO(n,this))}),t.on("DocException",n=>{e._capability.reject(rn(n))}),t.on("PasswordRequest",n=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw rn(n);const r=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};e.onPassword(r,n.code)}catch(r){this.#r.reject(r)}return this.#r.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in o){const p=o.error;xt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new Xt(o),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new WL(l,u,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=o;Pt(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,m]of p.objs)if(m?.ref===f)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,o,l])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(n)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new qO(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,r),r}getPageIndex(t){return Ap(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new EO(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new xO(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Jo.cleanup()}}cachedPageNumber(t){if(!Ap(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class YO{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class rr{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:b=null,enableHWA:v=!1,operationsFilter:A=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new YO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=A}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(rr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");rr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:o,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new lr(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),rr.#e.delete(this._canvas),t||=new Bu(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),rr.#e.delete(this._canvas),this.callback())))}}const $w="5.4.296",Kw="f56dc8601";class xn{#t=null;#e=null;#i;#n=null;#r=!1;#s=!1;#a=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return Ct(this,"_keyboardManager",new pl([[["Escape","mac+Escape"],xn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xn.prototype._moveToPrevious],[["Home","mac+Home"],xn.prototype._moveToBeginning],[["End","mac+End"],xn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#a=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",xn.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#a&&(t.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",En,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(t.id=`${this.#a.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",xn.#d[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===this.#i,o.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Ot.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#m){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#m){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#m){this.#p(t);return}this.#n.lastChild?.focus()}#g(t){xn._keyboardManager.exec(this,t)}#p(t){if(this.#m){this.hideDropdown();return}if(this.#r=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#m){this.#a?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class tl{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,tl.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",tl.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function XA(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function Mo(s){return Math.max(0,Math.min(255,255*s))}class YA{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Mo(t),[t,t,t]}static G_HTML([t]){const e=XA(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Mo)}static RGB_HTML(t){return`#${t.map(XA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[Mo(1-Math.min(1,t+r)),Mo(1-Math.min(1,n+r)),Mo(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,o=1-e,l=1-n,u=Math.min(r,o,l);return["CMYK",r,o,l,u]}}class $O{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Kt("Abstract method `_createSVG` called.")}}class el extends $O{_createSVG(t){return document.createElementNS(Pi,t)}}const KO=9,oa=new WeakSet,WO=new Date().getTimezoneOffset()*60*1e3;class $A{static create(t){switch(t.data.annotationType){case me.LINK:return new Fm(t);case me.TEXT:return new ZO(t);case me.WIDGET:switch(t.data.fieldType){case"Tx":return new JO(t);case"Btn":return t.data.radioButton?new Ww(t):t.data.checkBox?new eN(t):new nN(t);case"Ch":return new iN(t);case"Sig":return new tN(t)}return new ha(t);case me.POPUP:return new wp(t);case me.FREETEXT:return new Qw(t);case me.LINE:return new aN(t);case me.SQUARE:return new rN(t);case me.CIRCLE:return new oN(t);case me.POLYLINE:return new Zw(t);case me.CARET:return new cN(t);case me.INK:return new jm(t);case me.POLYGON:return new lN(t);case me.HIGHLIGHT:return new Jw(t);case me.UNDERLINE:return new uN(t);case me.SQUIGGLY:return new hN(t);case me.STRIKEOUT:return new dN(t);case me.STAMP:return new t1(t);case me.FILEATTACHMENT:return new fN(t);default:return new le(t)}}}class le{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return le._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:r}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>l?(l=e[u+1],o=e[u+2]):e[u+1]===l&&(o=Math.max(o,e[u+2]));return[o,l]}if(n?.length>=1){for(const u of n)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>l?(l=u[d+1],o=u[d]):u[d+1]===l&&(o=Math.max(o,u[d]));if(o!==1/0)return[o,l]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Wo}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${Wo}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&n?.text&&(this._createPopup(n),r=this.#i.popup),r&&(r.updateEdited(t),n?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(l-t[3]+d)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof ha)&&!(this instanceof Fm)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof wp){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,o),o}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,w=e.borderStyle.verticalCornerRadius;if(S>0||w>0){const C=`calc(${S}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;l.borderRadius=C}else if(this instanceof Ww){const C=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=C}switch(e.borderStyle.style){case Za.SOLID:l.borderStyle="solid";break;case Za.DASHED:l.borderStyle="dashed";break;case Za.BEVELED:xt("Unimplemented border style: beveled");break;case Za.INSET:xt("Unimplemented border style: inset");break;case Za.UNDERLINE:l.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,l.borderColor=st.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const f=st.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:m,pageX:b,pageY:v}=r.rawDims;l.left=`${100*(f[0]-b)/p}%`,l.top=`${100*(f[1]-v)/m}%`;const{rotation:A}=e;return e.hasOwnCanvas||A===0?(l.width=`${100*u/p}%`,l.height=`${100*d/m}%`):this.setRotation(A,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const o=r.detail[e],l=o[0],u=o.slice(1);r.target.style[n]=YA[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:YA[`${l}_rgb`](u)})};return Ct(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,o]of Object.entries(e)){const l=n[r];if(l){const u={detail:{[r]:o},target:t};l(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,o]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,w,E,C]=t.subarray(2,6);if(r===S&&o===w&&e===E&&n===C)return}const{style:l}=this.container;let u;if(this.#e){const{borderColor:S,borderWidth:w}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const d=r-e,f=o-n,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const b=p.createElement("defs");m.append(b);const v=p.createElement("clipPath"),A=`clippath_${this.data.id}`;v.setAttribute("id",A),v.setAttribute("clipPathUnits","objectBoundingBox"),b.append(v);for(let S=2,w=t.length;S<w;S+=8){const E=t[S],C=t[S+1],_=t[S+2],D=t[S+3],M=p.createElement("rect"),P=(_-e)/d,O=(o-C)/f,j=(E-_)/d,G=(C-D)/f;M.setAttribute("x",P),M.setAttribute("y",O),M.setAttribute("width",j),M.setAttribute("height",G),v.append(M),u?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${O}" width="${j}" height="${G}"/>`)}this.#e&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${A})`}_createPopup(t=null){const{data:e}=this;let n,r;t?(n={str:t.text},r=t.date):(n=e.contentsObj,r=e.modificationDate);const o=this.#i=new wp({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Kt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:l,exportValues:u}of r){if(o===-1||l===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!oa.has(f)){xt(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==e&&oa.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class QO extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class Fm extends le{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const o=n.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:o,include:l}=e,u=[];if(r.length!==0||o.length!==0){const p=new Set(o);for(const m of r){const b=this._fieldObjects[m]||[];for(const{id:v}of b)p.add(v)}for(const m of Object.values(this._fieldObjects))for(const b of m)p.has(b.id)===l&&u.push(b)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:m}=p;switch(f.push(m),p.type){case"text":{const v=p.defaultValue||"";d.setValue(m,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;d.setValue(m,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";d.setValue(m,{value:v});break}default:continue}const b=document.querySelector(`[data-element-id="${m}"]`);if(b){if(!oa.has(b)){xt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class ZO extends le{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ha extends le{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Le.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}})})}_setEventListeners(t,e,n,r){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":st.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||KO,o=t.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(Bf*r))||1,m=f/p;l=Math.min(r,d(m/Bf))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(r,d(f/Bf))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=st.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class JO extends ha{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),oa.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:m}=this.data,b=!!p&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(n,"value",A.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",A=>{const S=this.data.defaultFieldValue??"";n.value=d.userValue=S,d.formattedValue=null});let v=A=>{const{formattedValue:S}=d;S!=null&&(A.target.value=S),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",S=>{if(d.focused)return;const{target:w}=S;if(b&&(w.type=p,m&&(w.step=m)),d.userValue){const E=d.userValue;if(b)if(p==="time"){const C=new Date(E),_=[C.getHours(),C.getMinutes(),C.getSeconds()];w.value=_.map(D=>D.toString().padStart(2,"0")).join(":")}else w.value=new Date(E-WO).toISOString().split(p==="date"?"T":".",1)[0];else w.value=E}d.lastCommittedValue=w.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const w={value(E){d.userValue=E.detail.value??"",b||t.setValue(e,{value:d.userValue.toString()}),E.target.value=d.userValue},formattedValue(E){const{formattedValue:C}=E.detail;d.formattedValue=C,C!=null&&E.target!==document.activeElement&&(E.target.value=C);const _={formattedValue:C};b&&(_.value=C),t.setValue(e,_)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{const{charLimit:C}=E.detail,{target:_}=E;if(C===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",C);let D=d.userValue;!D||D.length<=C||(D=D.slice(0,C),_.value=d.userValue=D,t.setValue(e,{value:D}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(w,S)}),n.addEventListener("keydown",S=>{d.commitKey=1;let w=-1;if(S.key==="Escape"?w=0:S.key==="Enter"&&!this.data.multiLine?w=2:S.key==="Tab"&&(d.commitKey=3),w===-1)return;const{value:E}=S.target;d.lastCommittedValue!==E&&(d.lastCommittedValue=E,d.userValue=E,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:w,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const A=v;v=null,n.addEventListener("blur",S=>{if(!d.focused||!S.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:w}=S;let{value:E}=w;if(b){if(E&&p==="time"){const C=E.split(":").map(_=>parseInt(_,10));E=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),w.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();w.type="text"}d.userValue=E,d.lastCommittedValue!==E&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}),A(S)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",S=>{d.lastCommittedValue=null;const{data:w,target:E}=S,{value:C,selectionStart:_,selectionEnd:D}=E;let M=_,P=D;switch(S.inputType){case"deleteWordBackward":{const O=C.substring(0,_).match(/\w*[^\w]*$/);O&&(M-=O[0].length);break}case"deleteWordForward":{const O=C.substring(_).match(/^[^\w]*\w*/);O&&(P+=O[0].length);break}case"deleteContentBackward":_===D&&(M-=1);break;case"deleteContentForward":_===D&&(P+=1);break}S.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:w||"",willCommit:!1,selStart:M,selEnd:P}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class tN extends ha{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class eN extends ha{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return oa.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Ww extends ha{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(oa.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const b=p&&m.id===n;m.domElement&&(m.domElement.checked=b),t.setValue(m.id,{value:b})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class nN extends Fm{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class iN extends ha{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");oa.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,n.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),r.append(m)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const u=p=>{const m=p?"value":"textContent",{options:b,multiple:v}=r;return v?Array.prototype.filter.call(b,A=>A.selected).map(A=>A[m]):b.selectedIndex===-1?null:b[b.selectedIndex][m]};let d=u(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const m={value(b){l?.();const v=b.detail.value,A=new Set(Array.isArray(v)?v:[v]);for(const S of r.options)S.selected=A.has(S.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(b){r.multiple=!0},remove(b){const v=r.options,A=b.detail.remove;v[A].selected=!1,r.remove(A),v.length>0&&Array.prototype.findIndex.call(v,w=>w.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(b){const{index:v,displayValue:A,exportValue:S}=b.detail.insert,w=r.children[v],E=document.createElement("option");E.textContent=A,E.value=S,w?w.before(E):r.append(E),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},items(b){const{items:v}=b.detail;for(;r.length!==0;)r.remove(0);for(const A of v){const{displayValue:S,exportValue:w}=A,E=document.createElement("option");E.textContent=S,E.value=w,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},indices(b){const v=new Set(b.detail.indices);for(const A of b.target.options)A.selected=v.has(A.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("input",p=>{const m=u(!0),b=u(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class wp extends le{constructor(t){const{data:e,elements:n,parent:r}=t,o=!!r._commentManager;if(super(t,{isRenderable:!o&&le._hasPopupData(e)}),this.elements=n,o&&le._hasPopupData(e)){const l=this.popup=this.#t();for(const u of n)u.popup=l}else this.popup=null}#t(){return new sN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Tm}${r}`).join(",")),this.container}}class sN{#t=null;#e=this.#G.bind(this);#i=this.#I.bind(this);#n=this.#N.bind(this);#r=this.#S.bind(this);#s=null;#a=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#v=null;#b=null;#T=null;#w=null;#A=null;#_=!1;#x=null;#E=null;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:m,commentManager:b=null}){this.#a=t,this.#w=r,this.#o=l,this.#T=u,this.#d=d,this.#s=e,this.#b=f,this.#h=p,this.#l=n,this.#t=b,this.#x=n[0],this.#c=wu.toDateObject(o),this.trigger=n.flatMap(v=>v.getElementsToTriggerPopup()),b?this.renderCommentButton():(this.#D(),this.#a.hidden=!0,m&&this.#S())}#D(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#r,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#R(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#R(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#x.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#m=this.#x.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#m=document.createElement("button");l.className="annotationCommentButton";const u=this.#x.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#F(),this.#M(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),u.after(l)}}#M(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#m;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#F(){this.#x.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#x.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}}get elementBeforePopup(){return this.#m}get comment(){return this.#E||=this.#x.commentText,this.#E}set comment(t){t!==this.comment&&(this.#x.commentText=this.#E=t)}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#m&&(this.#m.classList.toggle("selected",t),this.#m.ariaExpanded=e)}setSelectedCommentButton(t){this.#m.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:t,y:e,height:n}=this.#m.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#x.layer.getBoundingClientRect();return[(t-r)/l,(e+n-o)/u]}set commentPopupPosition(t){this.#v=t}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#v||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:o,y:l,width:u,height:d}=r;this.#t.showDialog(null,this,o+e*u,l+n*d,{...t,parentDimensions:r})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=st.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#w?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#w}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}_m({html:this.#O||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#a.append(t)}get#O(){const t=this.#T,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#T.html||null}get#P(){return this.#O?.attributes?.style?.fontSize||0}get#j(){return this.#O?.attributes?.style?.color||null}#k(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#j,fontSize:this.#P?`calc(${this.#P}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return n}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#F(),this.#E=e.text)),t&&(this.#y=null,this.#R(),this.#M());return}if(n||e?.deleted){this.remove();return}this.#D(),this.#A||={contentsObj:this.#o,richText:this.#T},t&&(this.#u=null),e&&e.text&&(this.#T=this.#k(e.text),this.#c=wu.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#A&&({contentsObj:this.#o,richText:this.#T}=this.#A,this.#A=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#_=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:o}}}=this.#d;let l=!!this.#h,u=l?this.#h:this.#b;for(const A of this.#l)if(!u||st.intersect(A.data.rect,u)!==null){u=A.data.rect,l=!0;break}const d=st.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=l?u[2]-u[0]+5:0,m=d[0]+p,b=d[1];this.#u=[100*(m-r)/e,100*(b-o)/n];const{style:v}=this.#a;v.left=`${this.#u[0]}%`,v.top=`${this.#u[1]}%`}#S(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#N(),this.#a.addEventListener("click",this.#r),this.#a.addEventListener("keydown",this.#e)):(this.#I(),this.#a.removeEventListener("click",this.#r),this.#a.removeEventListener("keydown",this.#e))}#N(){this.#g||this.render(),this.isVisible?this.#f&&this.#a.classList.add("focused"):(this.#C(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#I(){this.#a.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#a.hidden=!0)}maybeShow(){this.#t||(this.#D(),this.#_&&(this.#g||this.#N(),this.#_=!1,this.#a.hidden=!1))}get isVisible(){return this.#t?!1:this.#a.hidden===!1}}class Qw extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=St.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class aN extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class rN extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class oN extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Zw extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:o,height:l}=this;if(!e)return this.container;const u=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,m=e.length;p<m;p+=2){const b=e[p]-t[0],v=t[3]-e[p+1];d.push(`${b},${v}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class lN extends Zw{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class cN extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class jm extends le{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?St.HIGHLIGHT:St.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:o}}=this,{transform:l,width:u,height:d}=this.#i(e,t),f=this.svgFactory.create(u,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let m=0,b=n.length;m<b;m++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",n[m].join(",")),p.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,u=this.#e.length;l<u;l++)this.#e[l].setAttribute("points",n[l].join(","));if(r){const{transform:l,width:u,height:d}=this.#i(this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Jw extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=St.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class uN extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class hN extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class dN extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class t1 extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=St.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class fN extends le{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=Le.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Im=class e1{#t=null;#e=null;#i=null;#n=new Map;#r=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#r=u||null,this.#s=f||null,this.#i=p||new Dm,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e,n){const r=t.firstChild||t,o=r.id=`${Tm}${e}`,l=await this.#r?.getAriaAttributes(o);if(l)for(const[u,d]of l)r.setAttribute(u,d);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,n=this.div;Es(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new el,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const u=l.annotationType===me.POPUP;if(u){const p=r.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const d=$A.create(o);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=r.get(l.popupRef);p?p.push(d):r.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#a(f,l.id,o.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new el,parent:this};for(const n of t){n.borderStyle||=e1._defaultBorderStyle,e.data=n;const r=$A.create(e);if(!r.isRenderable)continue;const o=r.render();await this.#a(o,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Es(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):r.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:r}=t,o=new QO({data:{id:n,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Ct(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Za.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Jc=/\r\n?|\n/g;class Re extends pt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Re.prototype,e=o=>o.isEmpty(),n=zi.TRANSLATE_SMALL,r=zi.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new pl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=St.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Re._defaultColor||pt._defaultLineColor,this.#n=t.fontSize||Re._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){pt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Ot.FREETEXT_SIZE:Re._defaultFontSize=e;break;case Ot.FREETEXT_COLOR:Re._defaultColor=e;break}}updateParams(t,e){switch(t){case Ot.FREETEXT_SIZE:this.#r(e);break;case Ot.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[Ot.FREETEXT_SIZE,Re._defaultFontSize],[Ot.FREETEXT_COLOR,Re._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[Ot.FREETEXT_SIZE,this.#n],[Ot.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new tl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ot.FREETEXT_COLOR}#r(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=r=>{this.color=r,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Re._internalPadding*t,-(Re._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Re.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#a().trimEnd();if(t===e)return;const n=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Re._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[m,b]=this.pageTranslation;let v,A;switch(this.rotation){case 0:v=t+(l[0]-m)/f,A=e+this.height-(l[1]-b)/p;break;case 90:v=t+(l[0]-m)/f,A=e-(l[1]-b)/p,[u,d]=[d,-u];break;case 180:v=t-this.width+(l[0]-m)/f,A=e-(l[1]-b)/p,[u,d]=[-u,-d];break;case 270:v=t+(l[0]-m-this.height*p)/f,A=e+(l[1]-b-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(v*r,A*o,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Jc,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=Re.#h(e.getData("text")||"").replaceAll(Jc,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const v=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(Jc,"")),v!==this.editorDiv){let A=f;for(const S of this.editorDiv.childNodes){if(S===v){A=p;continue}A.push(Re.#c(S))}}f.push(u.nodeValue.slice(0,d).replaceAll(Jc,""))}else if(u===this.editorDiv){let v=f,A=0;for(const S of this.editorDiv.childNodes)A++===d&&(v=p),v.push(Re.#c(S))}this.#t=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#l();const m=new Range;let b=Math.sumPrecise(f.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const A=v.nodeValue.length;if(b<=A){m.setStart(v,b),m.setEnd(v,b);break}b-=A}o.removeAllRanges(),o.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(" "," ")}static#h(t){return t.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Re._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let r=null;if(t instanceof Qw){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:p,popupRef:m,richText:b,contentsObj:v,creationDate:A,modificationDate:S},textContent:w,textPosition:E,parent:{page:{pageNumber:C}}}=t;if(!w||w.length===0)return null;r=t={annotationType:St.FREETEXT,color:Array.from(u),fontSize:l,value:w.join(`
`),position:E,pageIndex:C-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:v?.str||null,richText:b,creationDate:A,modificationDate:S}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=st.makeHexColor(...t.color),o.#t=Re.#h(t.value),o._initialData=r,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,u)=>l!==r[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class it{static PRECISION=1e-4;toSVGPath(){Kt("Abstract method `toSVGPath` must be implemented.")}get box(){Kt("Abstract getter `box` must be implemented.")}serialize(t,e){Kt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u]*r,l[u+1]=n+t[u+1]*o;return l}static _rescaleAndSwap(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u+1]*r,l[u+1]=n+t[u]*o;return l}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o],r[o+1]=n+t[o+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,o){switch(o){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,o,l){return[(t+5*n)/6,(e+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}class Zs{#t;#e=[];#i;#n;#r=[];#s=new Float32Array(18);#a;#o;#c;#l;#d;#h;#f=[];static#g=8;static#p=2;static#u=Zs.#g+Zs.#p;constructor({x:t,y:e},n,r,o,l,u=0){this.#t=n,this.#h=o*r,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=Zs.#g*r,this.#c=Zs.#u*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,r,o,l]=this.#t;return[(this.#a+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-r)/l,(this.#a+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#a=t,this.#o=e;const[n,r,o,l]=this.#t;let[u,d,f,p]=this.#s.subarray(8,12);const m=t-f,b=e-p,v=Math.hypot(m,b);if(v<this.#c)return!1;const A=v-this.#l,S=A/v,w=S*m,E=S*b;let C=u,_=d;u=f,d=p,f+=w,p+=E,this.#f?.push(t,e);const D=-E/A,M=w/A,P=D*this.#h,O=M*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+P,p+O],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-P,p-O],16),isNaN(this.#s[6])?(this.#r.length===0&&(this.#s.set([u+P,d+O],2),this.#r.push(NaN,NaN,NaN,NaN,(u+P-n)/o,(d+O-r)/l),this.#s.set([u-P,d-O],14),this.#e.push(NaN,NaN,NaN,NaN,(u-P-n)/o,(d-O-r)/l)),this.#s.set([C,_,u,d,f,p],6),!this.isEmpty()):(this.#s.set([C,_,u,d,f,p],6),Math.abs(Math.atan2(_-d,C-u)-Math.atan2(E,w))<Math.PI/2?([u,d,f,p]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((u+f)/2-n)/o,((d+p)/2-r)/l),[u,d,C,_]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+u)/2-n)/o,((_+d)/2-r)/l),!0):([C,_,u,d,f,p]=this.#s.subarray(0,6),this.#r.push(((C+5*u)/6-n)/o,((_+5*d)/6-r)/l,((5*u+f)/6-n)/o,((5*d+p)/6-r)/l,((u+f)/2-n)/o,((d+p)/2-r)/l),[f,p,u,d,C,_]=this.#s.subarray(12,18),this.#e.push(((C+5*u)/6-n)/o,((_+5*d)/6-r)/l,((5*u+f)/6-n)/o,((5*d+p)/6-r)/l,((u+f)/2-n)/o,((d+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#b(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#v(n),n.join(" ")}#y(){const[t,e,n,r]=this.#t,[o,l,u,d]=this.#m();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/r} L${o} ${l} L${u} ${d} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/r} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,n,r,o]=this.#t,l=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[d,f,p,m]=this.#m();t.push(`L${(l[0]-e)/r} ${(l[1]-n)/o} L${d} ${f} L${p} ${m} L${(u[0]-e)/r} ${(u[1]-n)/o}`)}newFreeDrawOutline(t,e,n,r,o,l){return new n1(t,e,n,r,o,l)}getOutlines(){const t=this.#r,e=this.#e,n=this.#s,[r,o,l,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,b=d.length-2;m<b;m+=2)d[m]=(this.#f[m]-r)/l,d[m+1]=(this.#f[m+1]-o)/u;if(d[d.length-2]=(this.#a-r)/l,d[d.length-1]=(this.#o-o)/u,isNaN(n[6])&&!this.isEmpty())return this.#T(d);const f=new Float32Array(this.#r.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){f[m]=f[m+1]=NaN;continue}f[m]=t[m],f[m+1]=t[m+1]}p=this.#A(f,p);for(let m=e.length-6;m>=6;m-=6)for(let b=0;b<6;b+=2){if(isNaN(e[m+b])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[m+b],f[p+1]=e[m+b+1],p+=2}return this.#w(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#T(t){const e=this.#s,[n,r,o,l]=this.#t,[u,d,f,p]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-r)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-r)/l],0),this.newFreeDrawOutline(m,t,this.#t,this.#d,this.#i,this.#n)}#w(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#A(t,e){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[o,l,u,d]=this.#t,[f,p,m,b]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/u,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-l)/d],e),e+=24}}class n1 extends it{#t;#e=new Float32Array(4);#i;#n;#r;#s;#a;constructor(t,e,n,r,o,l){super(),this.#a=t,this.#r=e,this.#t=n,this.#s=r,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,d,f,p]=this.#e;for(let m=0,b=t.length;m<b;m+=2)t[m]=(t[m]-u)/f,t[m+1]=(t[m+1]-d)/p;for(let m=0,b=e.length;m<b;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-d)/p}toSVGPath(){const t=[`M${this.#a[4]} ${this.#a[5]}`];for(let e=6,n=this.#a.length;e<n;e+=6){if(isNaN(this.#a[e])){t.push(`L${this.#a[e+4]} ${this.#a[e+5]}`);continue}t.push(`C${this.#a[e]} ${this.#a[e+1]} ${this.#a[e+2]} ${this.#a[e+3]} ${this.#a[e+4]} ${this.#a[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],o){const l=n-t,u=r-e;let d,f;switch(o){case 0:d=it._rescale(this.#a,t,r,l,-u),f=it._rescale(this.#r,t,r,l,-u);break;case 90:d=it._rescaleAndSwap(this.#a,t,e,l,u),f=it._rescaleAndSwap(this.#r,t,e,l,u);break;case 180:d=it._rescale(this.#a,n,e,-l,u),f=it._rescale(this.#r,n,e,-l,u);break;case 270:d=it._rescaleAndSwap(this.#a,n,r,-l,-u),f=it._rescaleAndSwap(this.#r,n,r,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#a;let n=e[4],r=e[5];const o=[n,r,n,r];let l=n,u=r,d=n,f=r;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let v=6,A=e.length;v<A;v+=6){const S=e[v+4],w=e[v+5];isNaN(e[v])?(st.pointBoundingBox(S,w,o),u>w?(l=S,u=w):u===w&&(l=p(l,S)),f<w?(d=S,f=w):f===w&&(d=p(d,S))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,st.bezierBoundingBox(n,r,...e.slice(v,v+6),m),st.rectBoundingBox(m[0],m[1],m[2],m[3],o),u>m[1]?(l=m[0],u=m[1]):u===m[1]&&(l=p(l,m[0])),f<m[3]?(d=m[2],f=m[3]):f===m[3]&&(d=p(d,m[2]))),n=S,r=w}const b=this.#e;b[0]=o[0]-this.#i,b[1]=o[1]-this.#i,b[2]=o[2]-o[0]+2*this.#i,b[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,n,r,o,l=0){return new Zs(t,e,n,r,o,l)}getNewOutline(t,e){const[n,r,o,l]=this.#e,[u,d,f,p]=this.#t,m=o*f,b=l*p,v=n*f+u,A=r*p+d,S=this.newOutliner({x:this.#r[0]*m+v,y:this.#r[1]*b+A},this.#t,this.#s,t,this.#n,e??this.#i);for(let w=2;w<this.#r.length;w+=2)S.add({x:this.#r[w]*m+v,y:this.#r[w+1]*b+A});return S.getOutlines()}}class Ep{#t;#e;#i;#n=[];#r=[];constructor(t,e=0,n=0,r=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:S,y:w,width:E,height:C}of t){const _=Math.floor((S-e)/l)*l,D=Math.ceil((S+E+e)/l)*l,M=Math.floor((w-e)/l)*l,P=Math.ceil((w+C+e)/l)*l,O=[_,M,P,!0],j=[D,M,P,!1];this.#n.push(O,j),st.rectBoundingBox(_,M,D,P,o)}const u=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n;let m=r?-1/0:1/0,b=1/0;const v=this.#n.at(r?-1:-2),A=[v[0],v[2]];for(const S of this.#n){const[w,E,C,_]=S;!_&&r?E<b?(b=E,m=w):E===b&&(m=Math.max(m,w)):_&&!r&&(E<b?(b=E,m=w):E===b&&(m=Math.min(m,w))),S[0]=(w-f)/u,S[1]=(E-p)/d,S[2]=(C-p)/d}this.#t=new Float32Array([f,p,u,d]),this.#e=[m,b],this.#i=A}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[u,d,f]=l;e.push([u,d,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,d,f,p,m]=l;n.delete(l);let b=u,v=d;for(o=[u,f],r.push(o);;){let A;if(n.has(p))A=p;else if(n.has(m))A=m;else break;n.delete(A),[u,d,f,p,m]=A,b!==u&&(o.push(b,v,u,v===d?d:f),b=u),v=v===d?f:d}o.push(b,v)}return new pN(r,this.#t,this.#e,this.#i)}#a(t){const e=this.#r;let n=0,r=e.length-1;for(;n<=r;){const o=n+r>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:r=o-1}return r+1}#o([,t,e]){const n=this.#a(t);this.#r.splice(n,0,[t,e])}#c([,t,e]){const n=this.#a(t);for(let r=n;r<this.#r.length;r++){const[o,l]=this.#r[r];if(o!==t)break;if(o===t&&l===e){this.#r.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=this.#r[r];if(o!==t)break;if(o===t&&l===e){this.#r.splice(r,1);return}}}#l(t){const[e,n,r]=t,o=[[e,n,r]],l=this.#a(r);for(let u=0;u<l;u++){const[d,f]=this.#r[u];for(let p=0,m=o.length;p<m;p++){const[,b,v]=o[p];if(!(f<=b||v<=d)){if(b>=d){if(v>f)o[p][1]=f;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=d,v>f&&o.push([e,f,v])}}}return o}}class pN extends it{#t;#e;constructor(t,e,n,r){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let o=2;o<e.length;o+=2){const l=e[o],u=e[o+1];l===n?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],o){const l=[],u=n-t,d=r-e;for(const f of this.#e){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*u,p[m+1]=r-f[m+1]*d;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Tp extends Zs{newFreeDrawOutline(t,e,n,r,o,l){return new mN(t,e,n,r,o,l)}}class mN extends n1{newOutliner(t,e,n,r,o,l=0){return new Tp(t,e,n,r,o,l)}}class ge extends pt{#t=null;#e=0;#i;#n=null;#r=null;#s=null;#a=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=St.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ge.prototype;return Ct(this,"_keyboardManager",new pl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ge._defaultColor,this.#m=t.thickness||ge._defaultThickness,this.opacity=t.opacity||ge._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#b(t),this.#x()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#a=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new Ep(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Ep(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#m/2+r,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:ge.#E(this.#l.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:ge.#E(this.#s.box,m),path:{d:this.#s.toSVGPath()}})}const[o,l,u,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=d;break;case 90:{const[m,b]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*b/m,this.height=d*m/b;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[m,b]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*b/m,this.height=d*m/b;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/u,(f[1]-l)/d];const{lastPoint:p}=this.#s;this.#g=[(p[0]-o)/u,(p[1]-l)/d]}static initialize(t,e){pt.initialize(t,e),ge._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Ot.HIGHLIGHT_COLOR:ge._defaultColor=e;break;case Ot.HIGHLIGHT_THICKNESS:ge._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Ot.HIGHLIGHT_COLOR:this.#T(e);break;case Ot.HIGHLIGHT_THICKNESS:this.#w(e);break}}static get defaultPropertiesToUpdate(){return[[Ot.HIGHLIGHT_COLOR,ge._defaultColor],[Ot.HIGHLIGHT_THICKNESS,ge._defaultThickness]]}get propertiesToUpdate(){return[[Ot.HIGHLIGHT_COLOR,this.color||ge._defaultColor],[Ot.HIGHLIGHT_THICKNESS,this.#m||ge._defaultThickness],[Ot.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#r?.updateColor(this.color),super.onUpdatedColor()}#T(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,ge._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#w(t){const e=this.#m,n=r=>{this.#m=r,this.#A(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new xn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#M())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#_(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#_():t&&(this.#x(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#A(t){this.#h&&(this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#_(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#x(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#E([t,e,n,r],o){switch(o){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=ge.#E(this.#l.box,t)):n=ge.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:ge.#E(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#D.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),Dw(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#D(t){ge._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#R(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#M(){return this.#h?this.rotation:0}#F(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:p,height:m}of o){const b=d*t+n,v=(1-f)*e+r;l[u]=l[u+4]=b,l[u+1]=l[u+3]=v,l[u+2]=l[u+6]=b+p*t,l[u+5]=l[u+7]=v-m*e,u+=8}return l}#O(t){return this.#l.serialize(t,this.#M())}static startHighlighting(t,e,{target:n,x:r,y:o}){const{x:l,y:u,width:d,height:f}=n.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),b=v=>{p.abort(),this.#j(t,v)};window.addEventListener("blur",b,{signal:m}),window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("pointerdown",ae,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",En,{signal:m}),n.addEventListener("pointermove",this.#P.bind(this,t),{signal:m}),this._freeHighlight=new Tp({x:r,y:o},[l,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#P(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#j(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof Jw){const{data:{quadPoints:A,rect:S,rotation:w,id:E,color:C,opacity:_,popupRef:D,richText:M,contentsObj:P,creationDate:O,modificationDate:j},parent:{page:{pageNumber:G}}}=t;r=t={annotationType:St.HIGHLIGHT,color:Array.from(C),opacity:_,quadPoints:A,boxes:null,pageIndex:G-1,rect:S.slice(0),rotation:w,annotationElementId:E,id:E,deleted:!1,popupRef:D,richText:M,comment:P?.str||null,creationDate:O,modificationDate:j}}else if(t instanceof jm){const{data:{inkLists:A,rect:S,rotation:w,id:E,color:C,borderStyle:{rawWidth:_},popupRef:D,richText:M,contentsObj:P,creationDate:O,modificationDate:j},parent:{page:{pageNumber:G}}}=t;r=t={annotationType:St.HIGHLIGHT,color:Array.from(C),thickness:_,inkLists:A,boxes:null,pageIndex:G-1,rect:S.slice(0),rotation:w,annotationElementId:E,id:E,deleted:!1,popupRef:D,richText:M,comment:P?.str||null,creationDate:O,modificationDate:j}}const{color:o,quadPoints:l,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,n);f.color=st.makeHexColor(...o),f.opacity=d||1,u&&(f.#m=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[p,m]=f.pageDimensions,[b,v]=f.pageTranslation;if(l){const A=f.#i=[];for(let S=0;S<l.length;S+=8)A.push({x:(l[S]-b)/p,y:1-(l[S+1]-v)/m,width:(l[S+2]-l[S])/p,height:(l[S+1]-l[S+5])/m});f.#v(),f.#x(),f.rotate(f.rotation)}else if(u){f.#h=!0;const A=u[0],S={x:A[0]-b,y:m-(A[1]-v)},w=new Tp(S,[0,0,p,m],1,f.#m/2,!0,.001);for(let _=0,D=A.length;_<D;_+=2)S.x=A[_]-b,S.y=m-(A[_+1]-v),w.add(S);const{id:E,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:w.toSVGPath()}},!0,!0);f.#b({highlightOutlines:w.getOutlines(),highlightId:E,clipPathId:C}),f.#x(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#m,quadPoints:this.#F(),outlines:this.#O(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#k(n)?null:(n.id=this.annotationElementId,n)}#k(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class i1{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Kt("Not implemented")}}class bt extends pt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#r=null;static#s=NaN;static#a=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(bt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,o]of Object.entries(e))n.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){Kt("Not implemented")}static get typesMap(){Kt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(bt.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,o=r[e],l=u=>{r.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,n,r]){const{parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[e,1-t,n*(l/o),r*(o/l)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(l/o),r*(o/l)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[1-e,t,n*(o/l),r*(l/o)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(o/l),r*(l/o)];default:return[t,e,n,r]}}#u(t){[this.x,this.y,this.width,this.height]=this.#g(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:t,y:e,width:n,height:r,rotation:o,parentRotation:l,parentDimensions:[u,d]}=this;switch((o*4+l)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(u/d),r*(d/u),n*(u/d)];case 5:return[1-e,t,n*(u/d),r*(d/u)];case 6:return[1-t-r*(d/u),1-e,r*(d/u),n*(u/d)];case 7:return[e-n*(u/d),1-t-r*(d/u),n*(u/d),r*(d/u)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(d/u),e,r*(d/u),n*(u/d)];case 13:return[1-e-n*(u/d),t-r*(d/u),n*(u/d),r*(d/u)];case 14:return[1-t,1-e-n*(u/d),r*(d/u),n*(u/d)];case 15:return[e,1-t,n*(u/d),r*(d/u)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,o){Kt("Not implemented")}static startDrawing(t,e,n,r){const{target:o,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=r;if(bt.#a&&bt.#a!==f)return;const{viewport:{rotation:p}}=t,{width:m,height:b}=o.getBoundingClientRect(),v=bt.#n=new AbortController,A=t.combinedSignal(v);if(bt.#s||=d,bt.#a??=f,window.addEventListener("pointerup",S=>{bt.#s===S.pointerId?this._endDraw(S):bt.#o?.delete(S.pointerId)},{signal:A}),window.addEventListener("pointercancel",S=>{bt.#s===S.pointerId?this._currentParent.endDrawingSession():bt.#o?.delete(S.pointerId)},{signal:A}),window.addEventListener("pointerdown",S=>{bt.#a===S.pointerType&&((bt.#o||=new Set).add(S.pointerId),bt.#i.isCancellable()&&(bt.#i.removeLastElement(),bt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",En,{signal:A}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),o.addEventListener("touchmove",S=>{S.timeStamp===bt.#c&&ae(S)},{signal:A}),t.toggleDrawing(),e._editorUndoBar?.hide(),bt.#i){t.drawLayer.updateProperties(this._currentDrawId,bt.#i.startNew(l,u,m,b,p));return}e.updateUIForDefaultProperties(this),bt.#i=this.createDrawerInstance(l,u,m,b,p),bt.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(bt.#r.toSVGProperties(),bt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(bt.#c=-1,!bt.#i)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(bt.#s===r){if(bt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,bt.#i.add(e,n)),bt.#c=t.timeStamp,ae(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,bt.#i=null,bt.#r=null,bt.#a=null,bt.#c=NaN),bt.#n&&(bt.#n.abort(),bt.#n=null,bt.#s=NaN,bt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,bt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=bt.#i,r=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Ot.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Ot.DRAW_STEP),!bt.#i.isEmpty()){const{pageDimensions:[n,r],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:bt.#i.getOutlines(n*o,r*o,o,this._INNER_MARGIN),drawingOptions:bt.#r,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,o,l){Kt("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:u}}=e.viewport,d=this.deserializeDraw(l,u,r,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[r,o]=this.pageDimensions;return this.#t.serialize([e,n,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class gN{#t=new Float64Array(6);#e;#i;#n;#r;#s;#a="";#o=0;#c=new yl;#l;#d;constructor(t,e,n,r,o,l){this.#l=n,this.#d=r,this.#n=o,this.#r=l,[t,e]=this.#h(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#r=e)}#h(t,e){return it._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,r,o,l]=this.#t.subarray(2,6),u=t-o,d=e-l;return Math.hypot(this.#l*u,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,o,l,t,e],0),this.#e.push(...it.createBezierPoints(n,r,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,o){this.#l=n,this.#d=r,this.#n=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#a="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:r}=this.#i[t];this.#e=n,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const t=it.svgRound(this.#e[4]),e=it.svgRound(this.#e[5]);if(this.#s.length===2)return this.#a=`${this.#a} M ${t} ${e} Z`,this.#a;if(this.#s.length<=6){const r=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const r=it.svgRound(this.#e[10]),o=it.svgRound(this.#e[11]);return this.#a=`${this.#a} L ${r} ${o}`,this.#o=12,this.#a}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,o=this.#e.length;r<o;r+=6){const[l,u,d,f,p,m]=this.#e.slice(r,r+6).map(it.svgRound);n.push(`C${l} ${u} ${d} ${f} ${p} ${m}`)}return this.#a+=n.join(" "),this.#o=this.#e.length,this.#a}getOutlines(t,e,n,r){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,n,this.#n,this.#r,r),this.#t=null,this.#e=null,this.#i=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class yl extends it{#t;#e=0;#i;#n;#r;#s;#a;#o;#c;build(t,e,n,r,o,l,u){this.#r=e,this.#s=n,this.#a=r,this.#o=o,this.#c=l,this.#i=u??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${it.svgRound(e[4])} ${it.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${it.svgRound(e[10])} ${it.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[o,l,u,d,f,p]=e.subarray(n,n+6).map(it.svgRound);t.push(`C${o} ${l} ${u} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,n,r],o){const l=[],u=[],[d,f,p,m]=this.#d();let b,v,A,S,w,E,C,_,D;switch(this.#o){case 0:D=it._rescale,b=t,v=e+r,A=n,S=-r,w=t+d*n,E=e+(1-f-m)*r,C=t+(d+p)*n,_=e+(1-f)*r;break;case 90:D=it._rescaleAndSwap,b=t,v=e,A=n,S=r,w=t+f*n,E=e+d*r,C=t+(f+m)*n,_=e+(d+p)*r;break;case 180:D=it._rescale,b=t+n,v=e,A=-n,S=r,w=t+(1-d-p)*n,E=e+f*r,C=t+(1-d)*n,_=e+(f+m)*r;break;case 270:D=it._rescaleAndSwap,b=t+n,v=e+r,A=-n,S=-r,w=t+(1-f-m)*n,E=e+(1-d-p)*r,C=t+(1-f)*n,_=e+(1-d)*r;break}for(const{line:M,points:P}of this.#n)l.push(D(M,b,v,A,S,o?new Array(M.length):null)),u.push(D(P,b,v,A,S,o?new Array(P.length):null));return{lines:l,points:u,rect:[w,E,C,_]}}static deserialize(t,e,n,r,o,{paths:{lines:l,points:u},rotation:d,thickness:f}){const p=[];let m,b,v,A,S;switch(d){case 0:S=it._rescale,m=-t/n,b=e/r+1,v=1/n,A=-1/r;break;case 90:S=it._rescaleAndSwap,m=-e/r,b=-t/n,v=1/r,A=1/n;break;case 180:S=it._rescale,m=t/n+1,b=-e/r,v=-1/n,A=1/r;break;case 270:S=it._rescaleAndSwap,m=e/r+1,b=t/n+1,v=-1/r,A=-1/n;break}if(!l){l=[];for(const E of u){const C=E.length;if(C===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(C===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const _=new Float32Array(3*(C-2));l.push(_);let[D,M,P,O]=E.subarray(0,4);_.set([NaN,NaN,NaN,NaN,D,M],0);for(let j=4;j<C;j+=2){const G=E[j],W=E[j+1];_.set(it.createBezierPoints(D,M,P,O,G,W),(j-2)*3),[D,M,P,O]=[P,O,G,W]}}}for(let E=0,C=l.length;E<C;E++)p.push({line:S(l[E].map(_=>_??NaN),m,b,v,A),points:S(u[E].map(_=>_??NaN),m,b,v,A)});const w=new this.prototype.constructor;return w.build(p,n,r,1,d,f,o),w}#l(t=this.#c){const e=this.#i+t/2*this.#a;return this.#o%180===0?[e/this.#r,e/this.#s]:[e/this.#s,e/this.#r]}#d(){const[t,e,n,r]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,r-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)st.pointBoundingBox(r[u],r[u+1],t);continue}let o=r[4],l=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,p,m,b,v,A]=r.subarray(u,u+6);st.bezierBoundingBox(o,l,f,p,m,b,v,A,t),o=v,l=A}}const[e,n]=this.#l();t[0]=ze(t[0]-e,0,1),t[1]=ze(t[1]-n,0,1),t[2]=ze(t[2]+e,0,1),t[3]=ze(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[r,o]=this.#l(),[l,u]=[r-e,o-n],d=this.#t;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([t,e],n){const[r,o]=this.#l();this.#r=t,this.#s=e,this.#a=n;const[l,u]=this.#l(),d=l-r,f=u-o,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(it.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,o=0,l=0,u=0,d=0;switch(this.#e){case 90:r=e/t,o=-t/e,u=t;break;case 180:n=-1,l=-1,u=t,d=e;break;case 270:r=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${n} ${r} ${o} ${l} ${it.svgRound(u)} ${it.svgRound(d)})`}getPathResizingSVGProperties([t,e,n,r]){const[o,l]=this.#l(),[u,d,f,p]=this.#t;if(Math.abs(f-o)<=it.PRECISION||Math.abs(p-l)<=it.PRECISION){const S=t+n/2-(u+f/2),w=e+r/2-(d+p/2);return{path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`,transform:`${this.rotationTransform} translate(${S} ${w})`}}}const m=(n-2*o)/(f-2*o),b=(r-2*l)/(p-2*l),v=f/n,A=p/r;return{path:{"transform-origin":`${it.svgRound(u)} ${it.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${A}) translate(${it.svgRound(o)} ${it.svgRound(l)}) scale(${m} ${b}) translate(${it.svgRound(-o)} ${it.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[o,l]=this.#l(),u=this.#t,[d,f,p,m]=u;if(u[0]=t,u[1]=e,u[2]=n,u[3]=r,Math.abs(p-o)<=it.PRECISION||Math.abs(m-l)<=it.PRECISION){const w=t+n/2-(d+p/2),E=e+r/2-(f+m/2);for(const{line:C,points:_}of this.#n)it._translate(C,w,E,C),it._translate(_,w,E,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(n-2*o)/(p-2*o),v=(r-2*l)/(m-2*l),A=-b*(d+o)+t+o,S=-v*(f+l)+e+l;if(b!==1||v!==1||A!==0||S!==0)for(const{line:w,points:E}of this.#n)it._rescale(w,A,S,b,v,w),it._rescale(E,A,S,b,v,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,o]=n,l=this.#t,u=t-l[0],d=e-l[1];if(this.#r===r&&this.#s===o)for(const{line:f,points:p}of this.#n)it._translate(f,u,d,f),it._translate(p,u,d,p);else{const f=this.#r/r,p=this.#s/o;this.#r=r,this.#s=o;for(const{line:m,points:b}of this.#n)it._rescale(m,u,d,f,p,m),it._rescale(b,u,d,f,p,b);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${it.svgRound(t[0])} ${it.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Iu extends i1{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Iu(this._viewParameters);return t.updateAll(this),t}}class Um extends bt{static _type="ink";static _editorType=St.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new Iu(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ct(this,"typesMap",new Map([[Ot.INK_THICKNESS,"stroke-width"],[Ot.INK_COLOR,"stroke"],[Ot.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,o){return new gN(t,e,n,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,o,l){return yl.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){let r=null;if(t instanceof jm){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:b},popupRef:v,richText:A,contentsObj:S,creationDate:w,modificationDate:E},parent:{page:{pageNumber:C}}}=t;r=t={annotationType:St.INK,color:Array.from(p),thickness:b,opacity:m,paths:{points:l},boxes:null,pageIndex:C-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:v,richText:A,comment:S?.str||null,creationDate:w,modificationDate:E}}const o=await super.deserialize(t,e,n);return o._initialData=r,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new tl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ot.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=Um.getDefaultDrawingOptions({stroke:st.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:pt._colorManager.convert(r),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==e[u])||t.thickness!==n||t.opacity!==r||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class Cp extends yl{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const tu=8,Do=3;class Ks{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,r,o,l,u){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,m=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+m)*e+(r+b)]!==0)return p}return-1}static#r(t,e,n,r,o,l,u){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,m=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+m)*e+(r+b)]!==0)return p}return-1}static#s(t,e,n,r){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=r?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let u=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let m=1;m<e-1;m++){const b=p*e+m,v=l[b];if(v===0)continue;let A=p,S=m;if(v===1&&l[b-1]===0)u+=1,S-=1;else if(v>=1&&l[b+1]===0)u+=1,S+=1,v>1&&(d=v);else{v!==1&&(d=Math.abs(v));continue}const w=[m,p],E=S===m+1,C={isHole:E,points:w,id:u,parent:0};f.push(C);let _;for(const J of f)if(J.id===d){_=J;break}_?_.isHole?C.parent=E?_.parent:d:C.parent=E?d:_.parent:C.parent=E?d:0;const D=this.#n(l,e,p,m,A,S,0);if(D===-1){l[b]=-u,l[b]!==1&&(d=Math.abs(l[b]));continue}let M=this.#i[2*D],P=this.#i[2*D+1];const O=p+M,j=m+P;A=O,S=j;let G=p,W=m;for(;;){const J=this.#r(l,e,G,W,A,S,1);M=this.#i[2*J],P=this.#i[2*J+1];const ot=G+M,ut=W+P;w.push(ut,ot);const nt=G*e+W;if(l[nt+1]===0?l[nt]=-u:l[nt]===1&&(l[nt]=u),ot===p&&ut===m&&G===O&&W===j){l[b]!==1&&(d=Math.abs(l[b]));break}else A=G,S=W,G=ot,W=ut}}}return f}static#a(t,e,n,r){if(n-e<=4){for(let O=e;O<n-2;O+=2)r.push(t[O],t[O+1]);return}const o=t[e],l=t[e+1],u=t[n-4]-o,d=t[n-3]-l,f=Math.hypot(u,d),p=u/f,m=d/f,b=p*l-m*o,v=d/u,A=1/f,S=Math.atan(v),w=Math.cos(S),E=Math.sin(S),C=A*(Math.abs(w)+Math.abs(E)),_=A*(1-C+C**2),D=Math.max(Math.atan(Math.abs(E+w)*_),Math.atan(Math.abs(E-w)*_));let M=0,P=e;for(let O=e+2;O<n-2;O+=2){const j=Math.abs(b-p*t[O+1]+m*t[O]);j>M&&(P=O,M=j)}M>(f*D)**2?(this.#a(t,e,P+2,r),this.#a(t,P,n,r)):r.push(o,l)}static#o(t){const e=[],n=t.length;return this.#a(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,r,o,l){const u=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let S=0;S<l;S++){const w=(S-f)**2;for(let E=0;E<l;E++)u[S*l+E]=Math.exp((w+(E-f)**2)/d)}const p=new Float32Array(256),m=-2*o**2;for(let S=0;S<256;S++)p[S]=Math.exp(S**2/m);const b=t.length,v=new Uint8Array(b),A=new Uint32Array(256);for(let S=0;S<n;S++)for(let w=0;w<e;w++){const E=S*e+w,C=t[E];let _=0,D=0;for(let P=0;P<l;P++){const O=S+P-f;if(!(O<0||O>=n))for(let j=0;j<l;j++){const G=w+j-f;if(G<0||G>=e)continue;const W=t[O*e+G],J=u[P*l+j]*p[Math.abs(W-C)];_+=W*J,D+=J}}const M=v[E]=Math.round(_/D);A[M]++}return[v,A]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,o=1/0;for(let u=0,d=n.length;u<d;u++){const f=n[u]=t[u<<2];r=Math.max(r,f),o=Math.min(o,f)}const l=255/(r-o);for(let u=0,d=n.length;u<d;u++)n[u]=(n[u]-o)*l;return n}static#h(t){let e,n=-1/0,r=-1/0;const o=t.findIndex(d=>d!==0);let l=o,u=o;for(e=o;e<256;e++){const d=t[e];d>n&&(e-l>r&&(r=e-l,u=e-1),n=d,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:o}=this.#t;let l=n,u=r;if(n>o||r>o){let b=n,v=r,A=Math.log2(Math.max(n,r)/o);const S=Math.floor(A);A=A===S?S-1:S;for(let E=0;E<A;E++){l=Math.ceil(b/2),u=Math.ceil(v/2);const C=new OffscreenCanvas(l,u);C.getContext("2d").drawImage(t,0,0,b,v,0,0,l,u),b=l,v=u,t!==e&&t.close(),t=C.transferToImageBitmap()}const w=Math.min(o/l,o/u);l=Math.round(l*w),u=Math.round(u*w)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#d(p),l,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},o,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,b=p.font=`${n} ${r} ${m}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:A,actualBoundingBoxAscent:S,actualBoundingBoxDescent:w,fontBoundingBoxAscent:E,fontBoundingBoxDescent:C,width:_}=p.measureText(t),D=1.5,M=Math.ceil(Math.max(Math.abs(v)+Math.abs(A)||0,_)*D),P=Math.ceil(Math.max(Math.abs(S)+Math.abs(w)||m,Math.abs(E)+Math.abs(C)||m)*D);f=new OffscreenCanvas(M,P),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=b,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,M,P),p.fillStyle="black",p.fillText(t,M*(D-1)/2,P*(3-D)/2);const O=this.#d(p.getImageData(0,0,M,P).data),j=this.#l(O),G=this.#h(j),W=this.#s(O,M,P,G);return this.processDrawnLines({lines:{curves:W,width:M,height:P},pageWidth:o,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,o){const[l,u,d]=this.#f(t),[f,p]=this.#c(l,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#h(p),b=this.#s(f,u,d,m);return this.processDrawnLines({lines:{curves:b,width:u,height:d},pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:l,areContours:u}){r%180!==0&&([e,n]=[n,e]);const{curves:d,width:f,height:p}=t,m=t.thickness??0,b=[],v=Math.min(e/f,n/p),A=v/e,S=v/n,w=[];for(const{points:C}of d){const _=l?this.#o(C):C;if(!_)continue;w.push(_);const D=_.length,M=new Float32Array(D),P=new Float32Array(3*(D===2?2:D-2));if(b.push({line:P,points:M}),D===2){M[0]=_[0]*A,M[1]=_[1]*S,P.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[O,j,G,W]=_;O*=A,j*=S,G*=A,W*=S,M.set([O,j,G,W],0),P.set([NaN,NaN,NaN,NaN,O,j],0);for(let J=4;J<D;J+=2){const ot=M[J]=_[J]*A,ut=M[J+1]=_[J+1]*S;P.set(it.createBezierPoints(O,j,G,W,ot,ut),(J-2)*3),[O,j,G,W]=[G,W,ot,ut]}}if(b.length===0)return null;const E=u?new Cp:new yl;return E.build(b,e,n,1,r,u?0:m,o),{outline:E,newCurves:w,areContours:u,thickness:m,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:o}){let l=1/0,u=-1/0,d=0;for(const _ of t){d+=_.length;for(let D=2,M=_.length;D<M;D++){const P=_[D]-_[D-2];l=Math.min(l,P),u=Math.max(u,P)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,m=tu+Do*p,b=new Uint32Array(m);let v=0;b[v++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,b[v++]=0,b[v++]=r,b[v++]=o,b[v++]=e?0:1,b[v++]=Math.max(0,Math.floor(n??0)),b[v++]=p,b[v++]=f.BYTES_PER_ELEMENT;for(const _ of t)b[v++]=_.length-2,b[v++]=_[0],b[v++]=_[1];const A=new CompressionStream("deflate-raw"),S=A.writable.getWriter();await S.ready,S.write(b);const w=f.prototype.constructor;for(const _ of t){const D=new w(_.length-2);for(let M=2,P=_.length;M<P;M++)D[M-2]=_[M]-_[M-2];S.write(D)}S.close();const E=await new Response(A.readable).arrayBuffer(),C=new Uint8Array(E);return ww(C)}static async decompressSignature(t){try{const e=zL(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const _ of n)l||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),l.set(_,u),u+=_.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],m=d[3],b=d[4]===0,v=d[5],A=d[6],S=d[7],w=[],E=(tu+Do*A)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(S){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(l.buffer,E);break}u=0;for(let _=0;_<A;_++){const D=d[Do*_+tu],M=new Float32Array(D+2);w.push(M);for(let P=0;P<Do-1;P++)M[P]=d[Do*_+tu+P+1];for(let P=0;P<D;P++)M[P+2]=M[P]+C[u++]}return{areContours:b,thickness:v,outlines:w,width:p,height:m}}catch(e){return xt(`decompressSignature: ${e}`),null}}}class zm extends i1{constructor(){super(),super.updateProperties({fill:pt._defaultLineColor,"stroke-width":0})}clone(){const t=new zm;return t.updateAll(this),t}}class Vm extends Iu{constructor(t){super(t),super.updateProperties({stroke:pt._defaultLineColor,"stroke-width":1})}clone(){const t=new Vm(this._viewParameters);return t.updateAll(this),t}}class oi extends bt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=St.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new zm,this._defaultDrawnSignatureOptions=new Vm(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ct(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:o,areContours:l,description:u,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:m},rotation:b}=this.parent.viewport,v=Ks.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:b,innerMargin:oi._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(v,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:o}=this.#i,l=Math.max(r,o),u=Ks.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:n,width:r,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,r){const{x:o,y:l}=this,{outline:u}=this.#i=t;this.#t=u instanceof Cp,this.description=n;let d;this.#t?d=oi.getDefaultDrawingOptions():(d=oi._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Ks.process(t,e,n,r,oi._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Ks.extractContoursFromText(t,e,n,r,o,oi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Ks.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:oi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=oi.getDefaultDrawingOptions():(this._drawingOptions=oi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,r,o,l){return l.areContours?Cp.deserialize(t,e,n,r,o,l):yl.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class yN extends pt{#t=null;#e=null;#i=null;#n=null;#r=null;#s="";#a=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=St.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){pt.initialize(t,e)}static isHandlingMimeForPasting(t){return Eu.includes(t)}static paste(t,e){e.pasteEditor({mode:St.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await n.guess({name:"altText",request:{data:r,width:o,height:l,channels:r.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(r=>this.#h(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Eu.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#r||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,n=this.height*o;else if(e>l*r||n>l*o){const d=Math.min(l*r/e,l*o/n);e*=d,n*=d}this._uiManager.enableWaiting(!1);const u=this.#a=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/r,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:o}=this.#t,l=new Kn;let u=this.#t,d=r,f=o,p=null;if(e){if(r>e||o>e){const P=Math.min(e/r,e/o);d=Math.floor(r*P),f=Math.floor(o*P)}p=document.createElement("canvas");const b=p.width=Math.ceil(d*l.sx),v=p.height=Math.ceil(f*l.sy);this.#l||(u=this.#u(b,v));const A=p.getContext("2d");A.filter=this._uiManager.hcmFilter;let S="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":GL.isDarkMode&&(S="#8f8f9d",w="#42414d");const E=15,C=E*l.sx,_=E*l.sy,D=new OffscreenCanvas(C*2,_*2),M=D.getContext("2d");M.fillStyle=S,M.fillRect(0,0,C*2,_*2),M.fillStyle=w,M.fillRect(0,0,C,_),M.fillRect(C,_,C,_),A.fillStyle=A.createPattern(D,"repeat"),A.fillRect(0,0,b,v),A.drawImage(u,0,0,u.width,u.height,0,0,b,v)}let m=null;if(n){let b,v;if(l.symmetric&&u.width<t&&u.height<t)b=u.width,v=u.height;else if(u=this.#t,r>t||o>t){const w=Math.min(t/r,t/o);b=Math.floor(r*w),v=Math.floor(o*w),this.#l||(u=this.#u(b,v))}const S=new OffscreenCanvas(b,v).getContext("2d",{willReadFrequently:!0});S.drawImage(u,0,0,u.width,u.height,0,0,b,v),m={width:b,height:v,data:S.getImageData(0,0,b,v).data}}return{canvas:p,width:d,height:f,imageData:m}}#u(t,e){const{width:n,height:r}=this.#t;let o=n,l=r,u=this.#t;for(;o>2*t||l>2*e;){const d=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,o,l),u=p.transferToImageBitmap()}return u}#m(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,o=new Kn,l=Math.ceil(n*t*o.sx),u=Math.ceil(r*e*o.sy),d=this.#a;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#l?this.#t:this.#u(l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*ra.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*ra.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,o=!1;if(t instanceof t1){const{data:{rect:S,rotation:w,id:E,structParent:C,popupRef:_,richText:D,contentsObj:M,creationDate:P,modificationDate:O},container:j,parent:{page:{pageNumber:G}},canvas:W}=t;let J,ot;W?(delete t.canvas,{id:J,bitmap:ot}=n.imageManager.getFromCanvas(j.id,W),W.remove()):(o=!0,t._hasNoCanvas=!0);const ut=(await e._structTree.getAriaAttributes(`${Tm}${E}`))?.get("aria-label")||"";r=t={annotationType:St.STAMP,bitmapId:J,bitmap:ot,pageIndex:G-1,rect:S.slice(0),rotation:w,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:ut},isSvg:!1,structParent:C,popupRef:_,richText:D,comment:M?.str||null,creationDate:P,modificationDate:O}}const l=await super.deserialize(t,e,n),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:b}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,d&&(l.#t=d)):l.#n=f,l.#l=m;const[v,A]=l.pageDimensions;return l.width=(u[2]-u[0])/v,l.height=(u[3]-u[1])/A,b&&(l.altTextData=b),l._initialData=r,t.comment&&l.setCommentData(t),l.#d=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#v(n);return u.isSame?null:(u.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const u=e.stamps.get(this.#e);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return n}#v(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class ci{#t;#e=!1;#i=null;#n=null;#r=null;#s=new Map;#a=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([Re,Um,yN,ge,oi].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const m=[...ci.#m.values()];if(!ci._initialized){ci._initialized=!0;for(const b of m)b.initialize(p,t)}t.registerEditorTypes(m),this.#u=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=f,this.#h=d,this.drawLayer=u,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===St.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#A(),t){case St.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case St.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case St.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===St.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of ci.#m.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const n=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",r=>{const{clientX:l,clientY:u,timeStamp:d}=r,f=this.#p;if(d-f>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,u);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let b;const v=new RegExp(`^${Wo}[0-9]+$`);for(const S of m)if(v.test(S.id)){b=S.id;break}if(!b)return;const A=this.#s.get(b);A?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),A.dblclick(r))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,r=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){n.set(l.annotationElementId,l);continue}else r.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(this.#u.isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=r.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=n.get(u),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#A(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of ci.#m.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#v(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=Le.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),ge.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),pt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#b(){return ci.#m.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#T(t){const e=this.#b;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#w(),o=this.getNextId(),l=this.#T({parent:this,id:o,x:n,y:r,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await ci.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),o=this.#T({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#w(){const{x:t,y:e,width:n,height:r}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+r),f=(o+u)/2-t,p=(l+d)/2-e,[m,b]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#w(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Le.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#a||(this.#a=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===St.STAMP||n===St.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===St.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:e}=Le.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#a=!0,this.#b?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#b.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#b.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#u.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#A(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Es(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#A();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Es(this.div,{rotation:n}),e!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Me{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Ct(this,"_svgFactory",new el)}static#r(t,[e,n,r,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*o}%`}#s(){const t=Me._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#a(t,e){const n=Me._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Me._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r}#o(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=Me.#n++,o=this.#s(),l=Me._svgFactory.createElement("defs");o.append(l);const u=Me._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,u);const f=n?this.#a(l,d):null,p=Me._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=Me.#n++,r=this.#s(),o=Me._svgFactory.createElement("defs");r.append(o);const l=Me._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const m=Me._svgFactory.createElement("mask");o.append(m),d=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=Me._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=Me._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${u}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=Me._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:o,path:l}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(n&&this.#o(u,n),r&&Me.#r(u,r),o){const{classList:d}=u;for(const[f,p]of Object.entries(o))d.toggle(f,p)}if(l){const f=u.firstChild.firstChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Ep};globalThis.pdfjsLib={AbortException:Ui,AnnotationEditorLayer:ci,AnnotationEditorParamsType:Ot,AnnotationEditorType:St,AnnotationEditorUIManager:zi,AnnotationLayer:Im,AnnotationMode:ui,AnnotationType:me,applyOpacity:Rw,build:Kw,ColorPicker:xn,createValidAbsoluteUrl:xm,CSSConstants:_w,DOMSVGFactory:el,DrawLayer:Me,FeatureTest:Le,fetchData:Tr,findContrastColor:Mw,getDocument:Pm,getFilenameFromUrl:Ew,getPdfFilenameFromUrl:Tw,getRGB:Cr,getUuid:Em,getXfaPageViewport:Cw,GlobalWorkerOptions:Ss,ImageKind:zo,InvalidPDFException:xu,isDataScheme:fl,isPdfFile:Fu,isValidExplicitDest:Nw,MathClamp:ze,noContextMenu:En,normalizeUnicode:xw,OPS:gr,OutputScale:Kn,PasswordResponses:Aw,PDFDataRangeTransport:Bm,PDFDateString:wu,PDFWorker:yr,PermissionFlag:vw,PixelsPerInch:ra,RenderingCancelledException:Bu,renderRichText:_m,ResponseException:Qo,setLayerDimensions:Es,shadow:Ct,SignatureExtractor:Ks,stopEvent:ae,SupportedImageMimeTypes:Eu,TextLayer:Jo,TouchManager:ml,updateUrlHash:wm,Util:st,VerbosityLevel:ul,version:$w,XfaLayer:Cm};const bN=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ui,AnnotationEditorLayer:ci,AnnotationEditorParamsType:Ot,AnnotationEditorType:St,AnnotationEditorUIManager:zi,AnnotationLayer:Im,AnnotationMode:ui,AnnotationType:me,CSSConstants:_w,ColorPicker:xn,DOMSVGFactory:el,DrawLayer:Me,FeatureTest:Le,GlobalWorkerOptions:Ss,ImageKind:zo,InvalidPDFException:xu,MathClamp:ze,OPS:gr,OutputScale:Kn,PDFDataRangeTransport:Bm,PDFDateString:wu,PDFWorker:yr,PasswordResponses:Aw,PermissionFlag:vw,PixelsPerInch:ra,RenderingCancelledException:Bu,ResponseException:Qo,SignatureExtractor:Ks,SupportedImageMimeTypes:Eu,TextLayer:Jo,TouchManager:ml,Util:st,VerbosityLevel:ul,XfaLayer:Cm,applyOpacity:Rw,build:Kw,createValidAbsoluteUrl:xm,fetchData:Tr,findContrastColor:Mw,getDocument:Pm,getFilenameFromUrl:Ew,getPdfFilenameFromUrl:Tw,getRGB:Cr,getUuid:Em,getXfaPageViewport:Cw,isDataScheme:fl,isPdfFile:Fu,isValidExplicitDest:Nw,noContextMenu:En,normalizeUnicode:xw,renderRichText:_m,setLayerDimensions:Es,shadow:Ct,stopEvent:ae,updateUrlHash:wm,version:$w},Symbol.toStringTag,{value:"Module"}));function s1(s){var t,e,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(t=0;t<r;t++)s[t]&&(e=s1(s[t]))&&(n&&(n+=" "),n+=e)}else for(e in s)s[e]&&(n&&(n+=" "),n+=e);return n}function Uu(){for(var s,t,e=0,n="",r=arguments.length;e<r;e++)(s=arguments[e])&&(t=s1(s))&&(n&&(n+=" "),n+=t);return n}var KA=Object.prototype.hasOwnProperty;function WA(s,t,e){for(e of s.keys())if(hr(e,t))return e}function hr(s,t){var e,n,r;if(s===t)return!0;if(s&&t&&(e=s.constructor)===t.constructor){if(e===Date)return s.getTime()===t.getTime();if(e===RegExp)return s.toString()===t.toString();if(e===Array){if((n=s.length)===t.length)for(;n--&&hr(s[n],t[n]););return n===-1}if(e===Set){if(s.size!==t.size)return!1;for(n of s)if(r=n,r&&typeof r=="object"&&(r=WA(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(s.size!==t.size)return!1;for(n of s)if(r=n[0],r&&typeof r=="object"&&(r=WA(t,r),!r)||!hr(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)s=new Uint8Array(s),t=new Uint8Array(t);else if(e===DataView){if((n=s.byteLength)===t.byteLength)for(;n--&&s.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(s)){if((n=s.byteLength)===t.byteLength)for(;n--&&s[n]===t[n];);return n===-1}if(!e||typeof s=="object"){n=0;for(e in s)if(KA.call(s,e)&&++n&&!KA.call(t,e)||!(e in t)||!hr(s[e],t[e]))return!1;return Object.keys(t).length===n}}return s!==s&&t!==t}function bl(s){let t=!1;return{promise:new Promise((n,r)=>{s.then(o=>!t&&n(o)).catch(o=>!t&&r(o))}),cancel(){t=!0}}}const vN=["onCopy","onCut","onPaste"],AN=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],SN=["onFocus","onBlur"],xN=["onInput","onInvalid","onReset","onSubmit"],wN=["onLoad","onError"],EN=["onKeyDown","onKeyPress","onKeyUp"],TN=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],CN=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],_N=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],RN=["onSelect"],MN=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],DN=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],LN=["onScroll"],ON=["onWheel"],NN=["onAnimationStart","onAnimationEnd","onAnimationIteration"],PN=["onTransitionEnd"],kN=["onToggle"],BN=["onChange"],FN=[...vN,...AN,...SN,...xN,...wN,...EN,...TN,...CN,..._N,...RN,...MN,...DN,...LN,...ON,...NN,...PN,...BN,...kN];function a1(s,t){const e={};for(const n of FN){const r=s[n];r&&(t?e[n]=(o=>r(o,t(n))):e[n]=r)}return e}var jN="Invariant failed";function $t(s,t){if(!s)throw new Error(jN)}var Gf,QA;function IN(){if(QA)return Gf;QA=1;var s=function(){};return Gf=s,Gf}var UN=IN();const Ve=Pp(UN),r1=L.createContext(null),zN="noopener noreferrer nofollow";class VN{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return $t(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){$t(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||zN,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{$t(this.pdfDocument),$t(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{$t(Array.isArray(e));const n=e[0];new Promise(r=>{$t(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{$t(!1)}):typeof n=="number"?r(n):$t(!1)}).then(r=>{const o=r+1;$t(this.pdfViewer),$t(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}goToPage(t){const e=t-1;$t(this.pdfViewer),$t(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function dr({children:s,type:t}){return R.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:s})}const ZA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function HN(s,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return s}}function br(){return L.useReducer(HN,{value:void 0,error:void 0})}const zu=typeof window<"u",o1=zu&&window.location.protocol==="file:";function GN(s){return typeof s<"u"}function Ys(s){return GN(s)&&s!==null}function qN(s){return typeof s=="string"}function XN(s){return s instanceof ArrayBuffer}function YN(s){return $t(zu),s instanceof Blob}function _p(s){return qN(s)&&/^data:/.test(s)}function JA(s){$t(_p(s));const[t="",e=""]=s.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function $N(){return zu&&window.devicePixelRatio||1}const l1="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function tS(){Ve(!o1,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${l1}`)}function KN(){Ve(!o1,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${l1}`)}function la(s){s?.cancel&&s.cancel()}function Rp(s,t){return Object.defineProperty(s,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(s,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(s,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(s,"originalHeight",{get(){return this.view[3]},configurable:!0}),s}function WN(s){return s.name==="RenderingCancelledException"}function QN(s){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(s)})}const{PDFDataRangeTransport:ZN}=bN,JN=(s,t)=>{switch(t){case ZA.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");s(e);break}case ZA.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");s(e);break}}};function eS(s){return typeof s=="object"&&s!==null&&("data"in s||"range"in s||"url"in s)}const tP=L.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF…",noData:p="No PDF file specified.",onItemClick:m,onLoadError:b,onLoadProgress:v,onLoadSuccess:A,onPassword:S=JN,onSourceError:w,onSourceSuccess:E,options:C,renderMode:_,rotate:D,scale:M,...P},O){const[j,G]=br(),{value:W,error:J}=j,[ot,ut]=br(),{value:nt,error:dt}=ot,B=L.useRef(new VN),U=L.useRef([]),Z=L.useRef(void 0),rt=L.useRef(void 0);l&&l!==Z.current&&eS(l)&&(Ve(!hr(l,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=l),C&&C!==rt.current&&(Ve(!hr(C,rt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),rt.current=C);const gt=L.useRef({scrollPageIntoView:kt=>{const{dest:Bt,pageNumber:ie,pageIndex:ce=ie-1}=kt;if(m){m({dest:Bt,pageIndex:ce,pageNumber:ie});return}const Vi=U.current[ce];if(Vi){Vi.scrollIntoView();return}Ve(!1,`An internal link leading to page ${ie} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});L.useImperativeHandle(O,()=>({linkService:B,pages:U,viewer:gt}),[]);function k(){E&&E()}function q(){J&&(Ve(!1,J.toString()),w&&w(J))}function tt(){G({type:"RESET"})}L.useEffect(tt,[l,G]);const et=L.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return _p(l)?{data:JA(l)}:(tS(),{url:l});if(l instanceof ZN)return{range:l};if(XN(l))return{data:l};if(zu&&YN(l))return{data:await QN(l)};if($t(typeof l=="object"),$t(eS(l)),"url"in l&&typeof l.url=="string"){if(_p(l.url)){const{url:kt,...Bt}=l;return{data:JA(kt),...Bt}}tS()}return l},[l]);L.useEffect(()=>{const kt=bl(et());return kt.promise.then(Bt=>{G({type:"RESOLVE",value:Bt})}).catch(Bt=>{G({type:"REJECT",error:Bt})}),()=>{la(kt)}},[et,G]),L.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){q();return}k()}},[W]);function ct(){nt&&(A&&A(nt),U.current=new Array(nt.numPages),B.current.setDocument(nt))}function mt(){dt&&(Ve(!1,dt.toString()),b&&b(dt))}L.useEffect(function(){ut({type:"RESET"})},[ut,W]),L.useEffect(function(){if(!W)return;const Bt=C?{...W,...C}:W,ie=Pm(Bt);v&&(ie.onProgress=v),S&&(ie.onPassword=S);const ce=ie,Vi=ce.promise.then(Hi=>{ut({type:"RESOLVE",value:Hi})}).catch(Hi=>{ce.destroyed||ut({type:"REJECT",error:Hi})});return()=>{Vi.finally(()=>ce.destroy())}},[C,ut,W]),L.useEffect(()=>{if(!(typeof nt>"u")){if(nt===!1){mt();return}ct()}},[nt]),L.useEffect(function(){B.current.setViewer(gt.current),B.current.setExternalLinkRel(r),B.current.setExternalLinkTarget(o)},[r,o]);const ht=L.useCallback((kt,Bt)=>{U.current[kt]=Bt},[]),Wt=L.useCallback(kt=>{delete U.current[kt]},[]),_t=L.useMemo(()=>({imageResourcesPath:d,linkService:B.current,onItemClick:m,pdf:nt,registerPage:ht,renderMode:_,rotate:D,scale:M,unregisterPage:Wt}),[d,m,nt,ht,_,D,M,Wt]),Ut=L.useMemo(()=>a1(P,()=>nt),[P,nt]);function We(){function kt(ie){return!!ie?.pdf}if(!kt(_t))throw new Error("pdf is undefined");const Bt=typeof t=="function"?t(_t):t;return R.jsx(r1.Provider,{value:_t,children:Bt})}function hn(){return l?nt==null?R.jsx(dr,{type:"loading",children:typeof f=="function"?f():f}):nt===!1?R.jsx(dr,{type:"error",children:typeof n=="function"?n():n}):We():R.jsx(dr,{type:"no-data",children:typeof p=="function"?p():p})}return R.jsx("div",{className:Uu("react-pdf__Document",e),ref:u,...Ut,children:hn()})});function c1(){return L.useContext(r1)}function u1(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];var e=s.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(o){for(var l=0,u=e;l<u.length;l++){var d=u[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const h1=L.createContext(null);function Vu(){return L.useContext(h1)}function eP(){const s=c1(),t=Vu();$t(t);const e={...s,...t},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:m,rotate:b,scale:v=1}=e;$t(p),$t(f),$t(r);const[A,S]=br(),{value:w,error:E}=A,C=L.useRef(null);Ve(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function _(){w&&l&&l(w)}function D(){E&&(Ve(!1,E.toString()),o&&o(E))}L.useEffect(function(){S({type:"RESET"})},[S,f]),L.useEffect(function(){if(!f)return;const G=bl(f.getAnnotations()),W=G;return G.promise.then(J=>{S({type:"RESOLVE",value:J})}).catch(J=>{S({type:"REJECT",error:J})}),()=>{la(W)}},[S,f]),L.useEffect(()=>{if(w!==void 0){if(w===!1){D();return}_()}},[w]);function M(){d&&d()}function P(j){Ve(!1,`${j}`),u&&u(j)}const O=L.useMemo(()=>f.getViewport({scale:v,rotation:b}),[f,b,v]);return L.useEffect(function(){if(!p||!f||!r||!w)return;const{current:G}=C;if(!G)return;const W=O.clone({dontFlip:!0}),J={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:G,l10n:null,linkService:r,page:f,structTreeLayer:null,viewport:W},ot={annotations:w,annotationStorage:p.annotationStorage,div:G,imageResourcesPath:n,linkService:r,page:f,renderForms:m,viewport:W};G.innerHTML="";try{new Im(J).render(ot),M()}catch(ut){P(ut)}return()=>{}},[w,n,r,f,p,m,O]),R.jsx("div",{className:Uu("react-pdf__Page__annotations","annotationLayer"),ref:C})}const d1={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},nP=/^H(\d+)$/;function iP(s){return s in d1}function Hu(s){return"children"in s}function f1(s){return Hu(s)?s.children.length===1&&0 in s.children&&"id"in s.children[0]:!1}function sP(s){const t={};if(Hu(s)){const{role:e}=s,n=e.match(nP);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(iP(e)){const r=d1[e];r&&(t.role=r)}}return t}function p1(s){const t={};if(Hu(s)){if(s.alt!==void 0&&(t["aria-label"]=s.alt),s.lang!==void 0&&(t.lang=s.lang),f1(s)){const[e]=s.children;if(e){const n=p1(e);return{...t,...n}}}}else"id"in s&&(t["aria-owns"]=s.id);return t}function aP(s){return s?{...sP(s),...p1(s)}:null}function m1({className:s,node:t}){const e=L.useMemo(()=>aP(t),[t]),n=L.useMemo(()=>!Hu(t)||f1(t)?null:t.children.map((r,o)=>R.jsx(m1,{node:r},o)),[t]);return R.jsx("span",{className:s,...e,children:n})}function rP(){const s=Vu();$t(s);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=s,[n,r]=br(),{value:o,error:l}=n,{customTextRenderer:u,page:d}=s;function f(){o&&e&&e(o)}function p(){l&&(Ve(!1,l.toString()),t&&t(l))}return L.useEffect(function(){r({type:"RESET"})},[r,d]),L.useEffect(function(){if(u||!d)return;const b=bl(d.getStructTree()),v=b;return b.promise.then(A=>{r({type:"RESOLVE",value:A})}).catch(A=>{r({type:"REJECT",error:A})}),()=>la(v)},[u,d,r]),L.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?R.jsx(m1,{className:"react-pdf__Page__structTree structTree",node:o}):null}const nS=ui;function oP(s){const t=Vu();$t(t);const e={...t,...s},{_className:n,canvasBackground:r,devicePixelRatio:o=$N(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:m,scale:b}=e,{canvasRef:v}=s;$t(d);const A=L.useRef(null);function S(){d&&u&&u(Rp(d,b))}function w(D){WN(D)||(Ve(!1,D.toString()),l&&l(D))}const E=L.useMemo(()=>d.getViewport({scale:b*o,rotation:m}),[o,d,m,b]),C=L.useMemo(()=>d.getViewport({scale:b,rotation:m}),[d,m,b]);L.useEffect(function(){if(!d)return;d.cleanup();const{current:M}=A;if(!M)return;M.width=E.width,M.height=E.height,M.style.width=`${Math.floor(C.width)}px`,M.style.height=`${Math.floor(C.height)}px`,M.style.visibility="hidden";const P={annotationMode:f?nS.ENABLE_FORMS:nS.ENABLE,canvas:M,canvasContext:M.getContext("2d",{alpha:!1}),viewport:E};r&&(P.background=r);const O=d.render(P),j=O;return O.promise.then(()=>{M.style.visibility="",S()}).catch(w),()=>la(j)},[r,d,f,E,C]);const _=L.useCallback(()=>{const{current:D}=A;D&&(D.width=0,D.height=0)},[]);return L.useEffect(()=>_,[_]),R.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:u1(v,A),style:{display:"block",userSelect:"none"},children:p?R.jsx(rP,{}):null})}function lP(s){return"str"in s}function cP(){const s=Vu();$t(s);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:d,rotate:f,scale:p}=s;$t(l);const[m,b]=br(),{value:v,error:A}=m,S=L.useRef(null);Ve(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function w(){v&&n&&n(v)}function E(){A&&(Ve(!1,A.toString()),e&&e(A))}L.useEffect(function(){b({type:"RESET"})},[l,b]),L.useEffect(function(){if(!l)return;const j=bl(l.getTextContent()),G=j;return j.promise.then(W=>{b({type:"RESOLVE",value:W})}).catch(W=>{b({type:"REJECT",error:W})}),()=>la(G)},[l,b]),L.useEffect(()=>{if(v!==void 0){if(v===!1){E();return}w()}},[v]);const C=L.useCallback(()=>{o&&o()},[o]),_=L.useCallback(O=>{Ve(!1,O.toString()),r&&r(O)},[r]);function D(){const O=S.current;O&&O.classList.add("selecting")}function M(){const O=S.current;O&&O.classList.remove("selecting")}const P=L.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return L.useLayoutEffect(function(){if(!l||!v)return;const{current:j}=S;if(!j)return;j.innerHTML="";const G=l.streamTextContent({includeMarkedContent:!0}),W={container:j,textContentSource:G,viewport:P},J=new Jo(W),ot=J;return J.render().then(()=>{const ut=document.createElement("div");ut.className="endOfContent",j.append(ut);const nt=j.querySelectorAll('[role="presentation"]');if(t){let dt=0;v.items.forEach((B,U)=>{if(!lP(B))return;const Z=nt[dt];if(!Z)return;const rt=t({pageIndex:u,pageNumber:d,itemIndex:U,...B});Z.innerHTML=rt,dt+=B.str&&B.hasEOL?2:1})}C()}).catch(_),()=>la(ot)},[t,_,C,l,u,d,v,P]),R.jsx("div",{className:Uu("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:D,ref:S})}const iS=1;function uP(s){const e={...c1(),...s},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:m,error:b="Failed to load the page.",height:v,inputRef:A,loading:S="Loading page…",noData:w="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:C,onGetStructTreeError:_,onGetStructTreeSuccess:D,onGetTextError:M,onGetTextSuccess:P,onLoadError:O,onLoadSuccess:j,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:W,onRenderError:J,onRenderSuccess:ot,onRenderTextLayerError:ut,onRenderTextLayerSuccess:nt,pageIndex:dt,pageNumber:B,pdf:U,registerPage:Z,renderAnnotationLayer:rt=!0,renderForms:gt=!1,renderMode:k="canvas",renderTextLayer:q=!0,rotate:tt,scale:et=iS,unregisterPage:ct,width:mt,...ht}=e,[Wt,_t]=br(),{value:Ut,error:We}=Wt,hn=L.useRef(null);$t(U);const kt=Ys(B)?B-1:dt??null,Bt=B??(Ys(dt)?dt+1:null),ie=tt??(Ut?Ut.rotate:null),ce=L.useMemo(()=>{if(!Ut)return null;let Vn=1;const Hn=et??iS;if(mt||v){const Qn=Ut.getViewport({scale:1,rotation:ie});mt?Vn=mt/Qn.width:v&&(Vn=v/Qn.height)}return Hn*Vn},[v,Ut,ie,et,mt]);L.useEffect(function(){return()=>{Ys(kt)&&r&&ct&&ct(kt)}},[r,U,kt,ct]);function Vi(){if(j){if(!Ut||!ce)return;j(Rp(Ut,ce))}if(r&&Z){if(!Ys(kt)||!hn.current)return;Z(kt,hn.current)}}function Hi(){We&&(Ve(!1,We.toString()),O&&O(We))}L.useEffect(function(){_t({type:"RESET"})},[_t,U,kt]),L.useEffect(function(){if(!U||!Bt)return;const Hn=bl(U.getPage(Bt)),Qn=Hn;return Hn.promise.then(da=>{_t({type:"RESOLVE",value:da})}).catch(da=>{_t({type:"REJECT",error:da})}),()=>la(Qn)},[_t,U,Bt]),L.useEffect(()=>{if(Ut!==void 0){if(Ut===!1){Hi();return}Vi()}},[Ut,ce]);const _s=L.useMemo(()=>Ys(kt)&&Bt&&Ys(ie)&&Ys(ce)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:E,onGetAnnotationsSuccess:C,onGetStructTreeError:_,onGetStructTreeSuccess:D,onGetTextError:M,onGetTextSuccess:P,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:W,onRenderError:J,onRenderSuccess:ot,onRenderTextLayerError:ut,onRenderTextLayerSuccess:nt,page:Ut,pageIndex:kt,pageNumber:Bt,renderForms:gt,renderTextLayer:q,rotate:ie,scale:ce}:null,[n,o,p,m,E,C,_,D,M,P,G,W,J,ot,ut,nt,Ut,kt,Bt,gt,q,ie,ce]),Mr=L.useMemo(()=>a1(ht,()=>Ut&&(ce?Rp(Ut,ce):void 0)),[ht,Ut,ce]),Gi=`${kt}@${ce}/${ie}`;function Ku(){switch(k){case"custom":return $t(f),R.jsx(f,{},`${Gi}_custom`);case"none":return null;case"canvas":default:return R.jsx(oP,{canvasRef:l},`${Gi}_canvas`)}}function Wu(){return q?R.jsx(cP,{},`${Gi}_text`):null}function qe(){return rt?R.jsx(eP,{},`${Gi}_annotations`):null}function Qu(){function Vn(Qn){return!!Qn?.page}if(!Vn(_s))throw new Error("page is undefined");const Hn=typeof u=="function"?u(_s):u;return R.jsxs(h1.Provider,{value:_s,children:[Ku(),Wu(),qe(),Hn]})}function wl(){return Bt?U===null||Ut===void 0||Ut===null?R.jsx(dr,{type:"loading",children:typeof S=="function"?S():S}):U===!1||Ut===!1?R.jsx(dr,{type:"error",children:typeof b=="function"?b():b}):Qu():R.jsx(dr,{type:"no-data",children:typeof w=="function"?w():w})}return R.jsx("div",{className:Uu(n,d),"data-page-number":Bt,ref:u1(A,hn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ce}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Mr,children:wl()})}KN();Ss.workerSrc="pdf.worker.mjs";Ss.workerSrc="//unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js";function hP(){const[s,t]=L.useState(!1),[e,n]=L.useState(null),r="/portfolio/Raziuddin_Mohammed_Resume.pdf",o=({numPages:l})=>n(l);return R.jsxs("section",{id:"resume",className:"mx-auto max-w-6xl px-4 py-16",children:[R.jsxs("h2",{className:"text-2xl font-semibold text-slate-200 mb-6",children:["Resume ",R.jsx("span",{className:"text-cyan-400",children:"Preview"})]}),R.jsxs("div",{className:"relative border border-slate-800 rounded-lg bg-slate-900/40 overflow-hidden flex justify-center",onClick:()=>t(!0),children:[!s&&R.jsx("div",{className:"absolute inset-0 z-10 bg-transparent cursor-pointer",title:"Click to activate scrolling"}),R.jsx("div",{className:`overflow-y-auto transition-all duration-300 w-full max-h-[90vh] ${s?"pointer-events-auto":"pointer-events-none"}`,children:R.jsx(tP,{file:r,onLoadSuccess:o,loading:R.jsx("div",{className:"text-slate-400 p-4",children:"Loading resume..."}),className:"flex flex-col items-center",children:Array.from(new Array(e),(l,u)=>R.jsx(uP,{pageNumber:u+1,width:window.innerWidth<768?340:700,renderAnnotationLayer:!1,renderTextLayer:!1,className:"my-2 shadow-md"},`page_${u+1}`))})})]}),R.jsx("div",{className:"flex justify-end mt-4",children:R.jsxs("a",{href:r,download:!0,className:"inline-flex items-center gap-2 border border-cyan-600/50 text-cyan-300 px-4 py-2 rounded-md hover:bg-cyan-600/10 transition",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.8",stroke:"currentColor",className:"w-5 h-5",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-9 0V3m0 13.5l-3.75-3.75m3.75 3.75l3.75-3.75"})}),"Download"]})})]})}function dP(s){return cl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(s)}function fP(s){return cl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z"},child:[]}]})(s)}function pP(s){return cl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(s)}function mP(){const s=[{icon:R.jsx(pP,{}),href:"https://www.linkedin.com/in/raziuddin-mohd/",label:"LinkedIn",color:"hover:text-cyan-400 hover:shadow-cyan-400/40"},{icon:R.jsx(dP,{}),href:"https://github.com/Inviciousx",label:"GitHub",color:"hover:text-cyan-400 hover:shadow-cyan-400/40"},{icon:R.jsx(fP,{}),href:"mailto:raziuddin.2199@gmail.com",label:"Email",color:"hover:text-cyan-400 hover:shadow-cyan-400/40"}];return R.jsxs(De.section,{id:"contact",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mx-auto max-w-6xl px-4 py-16 text-center",children:[R.jsxs("h2",{className:"text-2xl font-semibold text-slate-200 mb-6",children:["Get ",R.jsx("span",{className:"text-cyan-400",children:"in Touch"})]}),R.jsx("p",{className:"text-slate-400 mb-8",children:"I'm open to opportunities in IT Support and Cybersecurity (Defense & Monitoring). Feel free to connect or reach out directly."}),R.jsx("div",{className:"flex justify-center gap-8",children:s.map(({href:t,icon:e,label:n,color:r})=>R.jsx("a",{href:t,target:"_blank",rel:"noreferrer","aria-label":n,className:`text-3xl text-slate-400 transition-transform duration-300 transform hover:scale-125 ${r}`,style:{textShadow:"0 0 10px rgba(34,211,238,0.5), 0 0 20px rgba(34,211,238,0.2)"},children:e},n))})]})}function gP(){return R.jsx("footer",{className:"border-t border-gray-800/60 bg-black/40",children:R.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-6 text-center text-sm text-slate-400",children:["© ",new Date().getFullYear(),"  > system.status: ",R.jsx("span",{className:"text-cyan-400",children:"SECURE"})," | author: raziuddin.mohammed | stack: React_Tailwind"]})})}function g1(s,t){return function(){return s.apply(t,arguments)}}const{toString:yP}=Object.prototype,{getPrototypeOf:Hm}=Object,{iterator:Gu,toStringTag:y1}=Symbol,qu=(s=>t=>{const e=yP.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=s=>(s=s.toLowerCase(),t=>qu(t)===s),Xu=s=>t=>typeof t===s,{isArray:_r}=Array,vr=Xu("undefined");function vl(s){return s!==null&&!vr(s)&&s.constructor!==null&&!vr(s.constructor)&&cn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const b1=Wn("ArrayBuffer");function bP(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&b1(s.buffer),t}const vP=Xu("string"),cn=Xu("function"),v1=Xu("number"),Al=s=>s!==null&&typeof s=="object",AP=s=>s===!0||s===!1,hu=s=>{if(qu(s)!=="object")return!1;const t=Hm(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(y1 in s)&&!(Gu in s)},SP=s=>{if(!Al(s)||vl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},xP=Wn("Date"),wP=Wn("File"),EP=Wn("Blob"),TP=Wn("FileList"),CP=s=>Al(s)&&cn(s.pipe),_P=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||cn(s.append)&&((t=qu(s))==="formdata"||t==="object"&&cn(s.toString)&&s.toString()==="[object FormData]"))},RP=Wn("URLSearchParams"),[MP,DP,LP,OP]=["ReadableStream","Request","Response","Headers"].map(Wn),NP=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sl(s,t,{allOwnKeys:e=!1}={}){if(s===null||typeof s>"u")return;let n,r;if(typeof s!="object"&&(s=[s]),_r(s))for(n=0,r=s.length;n<r;n++)t.call(null,s[n],n,s);else{if(vl(s))return;const o=e?Object.getOwnPropertyNames(s):Object.keys(s),l=o.length;let u;for(n=0;n<l;n++)u=o[n],t.call(null,s[u],u,s)}}function A1(s,t){if(vl(s))return null;t=t.toLowerCase();const e=Object.keys(s);let n=e.length,r;for(;n-- >0;)if(r=e[n],t===r.toLowerCase())return r;return null}const Js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,S1=s=>!vr(s)&&s!==Js;function Mp(){const{caseless:s,skipUndefined:t}=S1(this)&&this||{},e={},n=(r,o)=>{const l=s&&A1(e,o)||o;hu(e[l])&&hu(r)?e[l]=Mp(e[l],r):hu(r)?e[l]=Mp({},r):_r(r)?e[l]=r.slice():(!t||!vr(r))&&(e[l]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Sl(arguments[r],n);return e}const PP=(s,t,e,{allOwnKeys:n}={})=>(Sl(t,(r,o)=>{e&&cn(r)?s[o]=g1(r,e):s[o]=r},{allOwnKeys:n}),s),kP=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),BP=(s,t,e,n)=>{s.prototype=Object.create(t.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),e&&Object.assign(s.prototype,e)},FP=(s,t,e,n)=>{let r,o,l;const u={};if(t=t||{},s==null)return t;do{for(r=Object.getOwnPropertyNames(s),o=r.length;o-- >0;)l=r[o],(!n||n(l,s,t))&&!u[l]&&(t[l]=s[l],u[l]=!0);s=e!==!1&&Hm(s)}while(s&&(!e||e(s,t))&&s!==Object.prototype);return t},jP=(s,t,e)=>{s=String(s),(e===void 0||e>s.length)&&(e=s.length),e-=t.length;const n=s.indexOf(t,e);return n!==-1&&n===e},IP=s=>{if(!s)return null;if(_r(s))return s;let t=s.length;if(!v1(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=s[t];return e},UP=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&Hm(Uint8Array)),zP=(s,t)=>{const n=(s&&s[Gu]).call(s);let r;for(;(r=n.next())&&!r.done;){const o=r.value;t.call(s,o[0],o[1])}},VP=(s,t)=>{let e;const n=[];for(;(e=s.exec(t))!==null;)n.push(e);return n},HP=Wn("HTMLFormElement"),GP=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,r){return n.toUpperCase()+r}),sS=(({hasOwnProperty:s})=>(t,e)=>s.call(t,e))(Object.prototype),qP=Wn("RegExp"),x1=(s,t)=>{const e=Object.getOwnPropertyDescriptors(s),n={};Sl(e,(r,o)=>{let l;(l=t(r,o,s))!==!1&&(n[o]=l||r)}),Object.defineProperties(s,n)},XP=s=>{x1(s,(t,e)=>{if(cn(s)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=s[e];if(cn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},YP=(s,t)=>{const e={},n=r=>{r.forEach(o=>{e[o]=!0})};return _r(s)?n(s):n(String(s).split(t)),e},$P=()=>{},KP=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function WP(s){return!!(s&&cn(s.append)&&s[y1]==="FormData"&&s[Gu])}const QP=s=>{const t=new Array(10),e=(n,r)=>{if(Al(n)){if(t.indexOf(n)>=0)return;if(vl(n))return n;if(!("toJSON"in n)){t[r]=n;const o=_r(n)?[]:{};return Sl(n,(l,u)=>{const d=e(l,r+1);!vr(d)&&(o[u]=d)}),t[r]=void 0,o}}return n};return e(s,0)},ZP=Wn("AsyncFunction"),JP=s=>s&&(Al(s)||cn(s))&&cn(s.then)&&cn(s.catch),w1=((s,t)=>s?setImmediate:t?((e,n)=>(Js.addEventListener("message",({source:r,data:o})=>{r===Js&&o===e&&n.length&&n.shift()()},!1),r=>{n.push(r),Js.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",cn(Js.postMessage)),tk=typeof queueMicrotask<"u"?queueMicrotask.bind(Js):typeof process<"u"&&process.nextTick||w1,ek=s=>s!=null&&cn(s[Gu]),X={isArray:_r,isArrayBuffer:b1,isBuffer:vl,isFormData:_P,isArrayBufferView:bP,isString:vP,isNumber:v1,isBoolean:AP,isObject:Al,isPlainObject:hu,isEmptyObject:SP,isReadableStream:MP,isRequest:DP,isResponse:LP,isHeaders:OP,isUndefined:vr,isDate:xP,isFile:wP,isBlob:EP,isRegExp:qP,isFunction:cn,isStream:CP,isURLSearchParams:RP,isTypedArray:UP,isFileList:TP,forEach:Sl,merge:Mp,extend:PP,trim:NP,stripBOM:kP,inherits:BP,toFlatObject:FP,kindOf:qu,kindOfTest:Wn,endsWith:jP,toArray:IP,forEachEntry:zP,matchAll:VP,isHTMLForm:HP,hasOwnProperty:sS,hasOwnProp:sS,reduceDescriptors:x1,freezeMethods:XP,toObjectSet:YP,toCamelCase:GP,noop:$P,toFiniteNumber:KP,findKey:A1,global:Js,isContextDefined:S1,isSpecCompliantForm:WP,toJSONObject:QP,isAsyncFn:ZP,isThenable:JP,setImmediate:w1,asap:tk,isIterable:ek};function Et(s,t,e,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}X.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const E1=Et.prototype,T1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{T1[s]={value:s}});Object.defineProperties(Et,T1);Object.defineProperty(E1,"isAxiosError",{value:!0});Et.from=(s,t,e,n,r,o)=>{const l=Object.create(E1);X.toFlatObject(s,l,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const u=s&&s.message?s.message:"Error",d=t==null&&s?s.code:t;return Et.call(l,u,d,e,n,r),s&&l.cause==null&&Object.defineProperty(l,"cause",{value:s,configurable:!0}),l.name=s&&s.name||"Error",o&&Object.assign(l,o),l};const nk=null;function Dp(s){return X.isPlainObject(s)||X.isArray(s)}function C1(s){return X.endsWith(s,"[]")?s.slice(0,-2):s}function aS(s,t,e){return s?s.concat(t).map(function(r,o){return r=C1(r),!e&&o?"["+r+"]":r}).join(e?".":""):t}function ik(s){return X.isArray(s)&&!s.some(Dp)}const sk=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function Yu(s,t,e){if(!X.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,e=X.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,w){return!X.isUndefined(w[S])});const n=e.metaTokens,r=e.visitor||p,o=e.dots,l=e.indexes,d=(e.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(r))throw new TypeError("visitor must be a function");function f(A){if(A===null)return"";if(X.isDate(A))return A.toISOString();if(X.isBoolean(A))return A.toString();if(!d&&X.isBlob(A))throw new Et("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(A)||X.isTypedArray(A)?d&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function p(A,S,w){let E=A;if(A&&!w&&typeof A=="object"){if(X.endsWith(S,"{}"))S=n?S:S.slice(0,-2),A=JSON.stringify(A);else if(X.isArray(A)&&ik(A)||(X.isFileList(A)||X.endsWith(S,"[]"))&&(E=X.toArray(A)))return S=C1(S),E.forEach(function(_,D){!(X.isUndefined(_)||_===null)&&t.append(l===!0?aS([S],D,o):l===null?S:S+"[]",f(_))}),!1}return Dp(A)?!0:(t.append(aS(w,S,o),f(A)),!1)}const m=[],b=Object.assign(sk,{defaultVisitor:p,convertValue:f,isVisitable:Dp});function v(A,S){if(!X.isUndefined(A)){if(m.indexOf(A)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(A),X.forEach(A,function(E,C){(!(X.isUndefined(E)||E===null)&&r.call(t,E,X.isString(C)?C.trim():C,S,b))===!0&&v(E,S?S.concat(C):[C])}),m.pop()}}if(!X.isObject(s))throw new TypeError("data must be an object");return v(s),t}function rS(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Gm(s,t){this._pairs=[],s&&Yu(s,this,t)}const _1=Gm.prototype;_1.append=function(t,e){this._pairs.push([t,e])};_1.toString=function(t){const e=t?function(n){return t.call(this,n,rS)}:rS;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function ak(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function R1(s,t,e){if(!t)return s;const n=e&&e.encode||ak;X.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let o;if(r?o=r(t,e):o=X.isURLSearchParams(t)?t.toString():new Gm(t,e).toString(n),o){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class oS{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(n){n!==null&&t(n)})}}const M1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rk=typeof URLSearchParams<"u"?URLSearchParams:Gm,ok=typeof FormData<"u"?FormData:null,lk=typeof Blob<"u"?Blob:null,ck={isBrowser:!0,classes:{URLSearchParams:rk,FormData:ok,Blob:lk},protocols:["http","https","file","blob","url","data"]},qm=typeof window<"u"&&typeof document<"u",Lp=typeof navigator=="object"&&navigator||void 0,uk=qm&&(!Lp||["ReactNative","NativeScript","NS"].indexOf(Lp.product)<0),hk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dk=qm&&window.location.href||"http://localhost",fk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qm,hasStandardBrowserEnv:uk,hasStandardBrowserWebWorkerEnv:hk,navigator:Lp,origin:dk},Symbol.toStringTag,{value:"Module"})),He={...fk,...ck};function pk(s,t){return Yu(s,new He.classes.URLSearchParams,{visitor:function(e,n,r,o){return He.isNode&&X.isBuffer(e)?(this.append(n,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function mk(s){return X.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function gk(s){const t={},e=Object.keys(s);let n;const r=e.length;let o;for(n=0;n<r;n++)o=e[n],t[o]=s[o];return t}function D1(s){function t(e,n,r,o){let l=e[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=e.length;return l=!l&&X.isArray(r)?r.length:l,d?(X.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!u):((!r[l]||!X.isObject(r[l]))&&(r[l]=[]),t(e,n,r[l],o)&&X.isArray(r[l])&&(r[l]=gk(r[l])),!u)}if(X.isFormData(s)&&X.isFunction(s.entries)){const e={};return X.forEachEntry(s,(n,r)=>{t(mk(n),r,e,0)}),e}return null}function yk(s,t,e){if(X.isString(s))try{return(t||JSON.parse)(s),X.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(s)}const xl={transitional:M1,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=X.isObject(t);if(o&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return r?JSON.stringify(D1(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return pk(t,this.formSerializer).toString();if((u=X.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Yu(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),yk(t)):t}],transformResponse:[function(t){const e=this.transitional||xl.transitional,n=e&&e.forcedJSONParsing,r=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(n&&!this.responseType||r)){const l=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Et.from(u,Et.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:He.classes.FormData,Blob:He.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],s=>{xl.headers[s]={}});const bk=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vk=s=>{const t={};let e,n,r;return s&&s.split(`
`).forEach(function(l){r=l.indexOf(":"),e=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!e||t[e]&&bk[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},lS=Symbol("internals");function Lo(s){return s&&String(s).trim().toLowerCase()}function du(s){return s===!1||s==null?s:X.isArray(s)?s.map(du):String(s)}function Ak(s){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(s);)t[n[1]]=n[2];return t}const Sk=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function qf(s,t,e,n,r){if(X.isFunction(n))return n.call(this,t,e);if(r&&(t=e),!!X.isString(t)){if(X.isString(n))return t.indexOf(n)!==-1;if(X.isRegExp(n))return n.test(t)}}function xk(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function wk(s,t){const e=X.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+e,{value:function(r,o,l){return this[n].call(this,t,r,o,l)},configurable:!0})})}let un=class{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(u,d,f){const p=Lo(d);if(!p)throw new Error("header name must be a non-empty string");const m=X.findKey(r,p);(!m||r[m]===void 0||f===!0||f===void 0&&r[m]!==!1)&&(r[m||d]=du(u))}const l=(u,d)=>X.forEach(u,(f,p)=>o(f,p,d));if(X.isPlainObject(t)||t instanceof this.constructor)l(t,e);else if(X.isString(t)&&(t=t.trim())&&!Sk(t))l(vk(t),e);else if(X.isObject(t)&&X.isIterable(t)){let u={},d,f;for(const p of t){if(!X.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?X.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,e)}else t!=null&&o(e,t,n);return this}get(t,e){if(t=Lo(t),t){const n=X.findKey(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return Ak(r);if(X.isFunction(e))return e.call(this,r,n);if(X.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Lo(t),t){const n=X.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||qf(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let r=!1;function o(l){if(l=Lo(l),l){const u=X.findKey(n,l);u&&(!e||qf(n,n[u],u,e))&&(delete n[u],r=!0)}}return X.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const o=e[n];(!t||qf(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const e=this,n={};return X.forEach(this,(r,o)=>{const l=X.findKey(n,o);if(l){e[l]=du(r),delete e[o];return}const u=t?xk(o):String(o).trim();u!==o&&delete e[o],e[u]=du(r),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return X.forEach(this,(n,r)=>{n!=null&&n!==!1&&(e[r]=t&&X.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[lS]=this[lS]={accessors:{}}).accessors,r=this.prototype;function o(l){const u=Lo(l);n[u]||(wk(r,l),n[u]=!0)}return X.isArray(t)?t.forEach(o):o(t),this}};un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(un.prototype,({value:s},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(n){this[e]=n}}});X.freezeMethods(un);function Xf(s,t){const e=this||xl,n=t||e,r=un.from(n.headers);let o=n.data;return X.forEach(s,function(u){o=u.call(e,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function L1(s){return!!(s&&s.__CANCEL__)}function Rr(s,t,e){Et.call(this,s??"canceled",Et.ERR_CANCELED,t,e),this.name="CanceledError"}X.inherits(Rr,Et,{__CANCEL__:!0});function O1(s,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?s(e):t(new Et("Request failed with status code "+e.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function Ek(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function Tk(s,t){s=s||10;const e=new Array(s),n=new Array(s);let r=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=n[o];l||(l=f),e[r]=d,n[r]=f;let m=o,b=0;for(;m!==r;)b+=e[m++],m=m%s;if(r=(r+1)%s,r===o&&(o=(o+1)%s),f-l<t)return;const v=p&&f-p;return v?Math.round(b*1e3/v):void 0}}function Ck(s,t){let e=0,n=1e3/t,r,o;const l=(f,p=Date.now())=>{e=p,r=null,o&&(clearTimeout(o),o=null),s(...f)};return[(...f)=>{const p=Date.now(),m=p-e;m>=n?l(f,p):(r=f,o||(o=setTimeout(()=>{o=null,l(r)},n-m)))},()=>r&&l(r)]}const Cu=(s,t,e=3)=>{let n=0;const r=Tk(50,250);return Ck(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,f=r(d),p=l<=u;n=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};s(m)},e)},cS=(s,t)=>{const e=s!=null;return[n=>t[0]({lengthComputable:e,total:s,loaded:n}),t[1]]},uS=s=>(...t)=>X.asap(()=>s(...t)),_k=He.hasStandardBrowserEnv?((s,t)=>e=>(e=new URL(e,He.origin),s.protocol===e.protocol&&s.host===e.host&&(t||s.port===e.port)))(new URL(He.origin),He.navigator&&/(msie|trident)/i.test(He.navigator.userAgent)):()=>!0,Rk=He.hasStandardBrowserEnv?{write(s,t,e,n,r,o){const l=[s+"="+encodeURIComponent(t)];X.isNumber(e)&&l.push("expires="+new Date(e).toGMTString()),X.isString(n)&&l.push("path="+n),X.isString(r)&&l.push("domain="+r),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mk(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function Dk(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function N1(s,t,e){let n=!Mk(t);return s&&(n||e==!1)?Dk(s,t):t}const hS=s=>s instanceof un?{...s}:s;function ca(s,t){t=t||{};const e={};function n(f,p,m,b){return X.isPlainObject(f)&&X.isPlainObject(p)?X.merge.call({caseless:b},f,p):X.isPlainObject(p)?X.merge({},p):X.isArray(p)?p.slice():p}function r(f,p,m,b){if(X.isUndefined(p)){if(!X.isUndefined(f))return n(void 0,f,m,b)}else return n(f,p,m,b)}function o(f,p){if(!X.isUndefined(p))return n(void 0,p)}function l(f,p){if(X.isUndefined(p)){if(!X.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function u(f,p,m){if(m in t)return n(f,p);if(m in s)return n(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,m)=>r(hS(f),hS(p),m,!0)};return X.forEach(Object.keys({...s,...t}),function(p){const m=d[p]||r,b=m(s[p],t[p],p);X.isUndefined(b)&&m!==u||(e[p]=b)}),e}const P1=s=>{const t=ca({},s);let{data:e,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:u}=t;if(t.headers=l=un.from(l),t.url=R1(N1(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),X.isFormData(e)){if(He.hasStandardBrowserEnv||He.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(X.isFunction(e.getHeaders)){const d=e.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&l.set(p,m)})}}if(He.hasStandardBrowserEnv&&(n&&X.isFunction(n)&&(n=n(t)),n||n!==!1&&_k(t.url))){const d=r&&o&&Rk.read(o);d&&l.set(r,d)}return t},Lk=typeof XMLHttpRequest<"u",Ok=Lk&&function(s){return new Promise(function(e,n){const r=P1(s);let o=r.data;const l=un.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=r,p,m,b,v,A;function S(){v&&v(),A&&A(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function E(){if(!w)return;const _=un.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:_,config:s,request:w};O1(function(O){e(O),S()},function(O){n(O),S()},M),w=null}"onloadend"in w?w.onloadend=E:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(E)},w.onabort=function(){w&&(n(new Et("Request aborted",Et.ECONNABORTED,s,w)),w=null)},w.onerror=function(D){const M=D&&D.message?D.message:"Network Error",P=new Et(M,Et.ERR_NETWORK,s,w);P.event=D||null,n(P),w=null},w.ontimeout=function(){let D=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const M=r.transitional||M1;r.timeoutErrorMessage&&(D=r.timeoutErrorMessage),n(new Et(D,M.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,s,w)),w=null},o===void 0&&l.setContentType(null),"setRequestHeader"in w&&X.forEach(l.toJSON(),function(D,M){w.setRequestHeader(M,D)}),X.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),u&&u!=="json"&&(w.responseType=r.responseType),f&&([b,A]=Cu(f,!0),w.addEventListener("progress",b)),d&&w.upload&&([m,v]=Cu(d),w.upload.addEventListener("progress",m),w.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(p=_=>{w&&(n(!_||_.type?new Rr(null,s,w):_),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const C=Ek(r.url);if(C&&He.protocols.indexOf(C)===-1){n(new Et("Unsupported protocol "+C+":",Et.ERR_BAD_REQUEST,s));return}w.send(o||null)})},Nk=(s,t)=>{const{length:e}=s=s?s.filter(Boolean):[];if(t||e){let n=new AbortController,r;const o=function(f){if(!r){r=!0,u();const p=f instanceof Error?f:this.reason;n.abort(p instanceof Et?p:new Rr(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,o(new Et(`timeout ${t} of ms exceeded`,Et.ETIMEDOUT))},t);const u=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),s=null)};s.forEach(f=>f.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>X.asap(u),d}},Pk=function*(s,t){let e=s.byteLength;if(e<t){yield s;return}let n=0,r;for(;n<e;)r=n+t,yield s.slice(n,r),n=r},kk=async function*(s,t){for await(const e of Bk(s))yield*Pk(e,t)},Bk=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},dS=(s,t,e,n)=>{const r=kk(s,t);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await r.next();if(f){u(),d.close();return}let m=p.byteLength;if(e){let b=o+=m;e(b)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),r.return()}},{highWaterMark:2})},fS=64*1024,{isFunction:eu}=X,Fk=(({Request:s,Response:t})=>({Request:s,Response:t}))(X.global),{ReadableStream:pS,TextEncoder:mS}=X.global,gS=(s,...t)=>{try{return!!s(...t)}catch{return!1}},jk=s=>{s=X.merge.call({skipUndefined:!0},Fk,s);const{fetch:t,Request:e,Response:n}=s,r=t?eu(t):typeof fetch=="function",o=eu(e),l=eu(n);if(!r)return!1;const u=r&&eu(pS),d=r&&(typeof mS=="function"?(A=>S=>A.encode(S))(new mS):async A=>new Uint8Array(await new e(A).arrayBuffer())),f=o&&u&&gS(()=>{let A=!1;const S=new e(He.origin,{body:new pS,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!S}),p=l&&u&&gS(()=>X.isReadableStream(new n("").body)),m={stream:p&&(A=>A.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!m[A]&&(m[A]=(S,w)=>{let E=S&&S[A];if(E)return E.call(S);throw new Et(`Response type '${A}' is not supported`,Et.ERR_NOT_SUPPORT,w)})});const b=async A=>{if(A==null)return 0;if(X.isBlob(A))return A.size;if(X.isSpecCompliantForm(A))return(await new e(He.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(X.isArrayBufferView(A)||X.isArrayBuffer(A))return A.byteLength;if(X.isURLSearchParams(A)&&(A=A+""),X.isString(A))return(await d(A)).byteLength},v=async(A,S)=>{const w=X.toFiniteNumber(A.getContentLength());return w??b(S)};return async A=>{let{url:S,method:w,data:E,signal:C,cancelToken:_,timeout:D,onDownloadProgress:M,onUploadProgress:P,responseType:O,headers:j,withCredentials:G="same-origin",fetchOptions:W}=P1(A),J=t||fetch;O=O?(O+"").toLowerCase():"text";let ot=Nk([C,_&&_.toAbortSignal()],D),ut=null;const nt=ot&&ot.unsubscribe&&(()=>{ot.unsubscribe()});let dt;try{if(P&&f&&w!=="get"&&w!=="head"&&(dt=await v(j,E))!==0){let k=new e(S,{method:"POST",body:E,duplex:"half"}),q;if(X.isFormData(E)&&(q=k.headers.get("content-type"))&&j.setContentType(q),k.body){const[tt,et]=cS(dt,Cu(uS(P)));E=dS(k.body,fS,tt,et)}}X.isString(G)||(G=G?"include":"omit");const B=o&&"credentials"in e.prototype,U={...W,signal:ot,method:w.toUpperCase(),headers:j.normalize().toJSON(),body:E,duplex:"half",credentials:B?G:void 0};ut=o&&new e(S,U);let Z=await(o?J(ut,W):J(S,U));const rt=p&&(O==="stream"||O==="response");if(p&&(M||rt&&nt)){const k={};["status","statusText","headers"].forEach(ct=>{k[ct]=Z[ct]});const q=X.toFiniteNumber(Z.headers.get("content-length")),[tt,et]=M&&cS(q,Cu(uS(M),!0))||[];Z=new n(dS(Z.body,fS,tt,()=>{et&&et(),nt&&nt()}),k)}O=O||"text";let gt=await m[X.findKey(m,O)||"text"](Z,A);return!rt&&nt&&nt(),await new Promise((k,q)=>{O1(k,q,{data:gt,headers:un.from(Z.headers),status:Z.status,statusText:Z.statusText,config:A,request:ut})})}catch(B){throw nt&&nt(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,A,ut),{cause:B.cause||B}):Et.from(B,B&&B.code,A,ut)}}},Ik=new Map,k1=s=>{let t=s?s.env:{};const{fetch:e,Request:n,Response:r}=t,o=[n,r,e];let l=o.length,u=l,d,f,p=Ik;for(;u--;)d=o[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:jk(t)),p=f;return f};k1();const Op={http:nk,xhr:Ok,fetch:{get:k1}};X.forEach(Op,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const yS=s=>`- ${s}`,Uk=s=>X.isFunction(s)||s===null||s===!1,B1={getAdapter:(s,t)=>{s=X.isArray(s)?s:[s];const{length:e}=s;let n,r;const o={};for(let l=0;l<e;l++){n=s[l];let u;if(r=n,!Uk(n)&&(r=Op[(u=String(n)).toLowerCase()],r===void 0))throw new Et(`Unknown adapter '${u}'`);if(r&&(X.isFunction(r)||(r=r.get(t))))break;o[u||"#"+l]=r}if(!r){const l=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(yS).join(`
`):" "+yS(l[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Op};function Yf(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Rr(null,s)}function bS(s){return Yf(s),s.headers=un.from(s.headers),s.data=Xf.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),B1.getAdapter(s.adapter||xl.adapter,s)(s).then(function(n){return Yf(s),n.data=Xf.call(s,s.transformResponse,n),n.headers=un.from(n.headers),n},function(n){return L1(n)||(Yf(s),n&&n.response&&(n.response.data=Xf.call(s,s.transformResponse,n.response),n.response.headers=un.from(n.response.headers))),Promise.reject(n)})}const F1="1.12.2",$u={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{$u[s]=function(n){return typeof n===s||"a"+(t<1?"n ":" ")+s}});const vS={};$u.transitional=function(t,e,n){function r(o,l){return"[Axios v"+F1+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(t===!1)throw new Et(r(l," has been removed"+(e?" in "+e:"")),Et.ERR_DEPRECATED);return e&&!vS[l]&&(vS[l]=!0,console.warn(r(l," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,l,u):!0}};$u.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function zk(s,t,e){if(typeof s!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let r=n.length;for(;r-- >0;){const o=n[r],l=t[o];if(l){const u=s[o],d=u===void 0||l(u,o,s);if(d!==!0)throw new Et("option "+o+" must be "+d,Et.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Et("Unknown option "+o,Et.ERR_BAD_OPTION)}}const fu={assertOptions:zk,validators:$u},ri=fu.validators;let aa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new oS,response:new oS}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=ca(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;n!==void 0&&fu.assertOptions(n,{silentJSONParsing:ri.transitional(ri.boolean),forcedJSONParsing:ri.transitional(ri.boolean),clarifyTimeoutError:ri.transitional(ri.boolean)},!1),r!=null&&(X.isFunction(r)?e.paramsSerializer={serialize:r}:fu.assertOptions(r,{encode:ri.function,serialize:ri.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),fu.assertOptions(e,{baseUrl:ri.spelling("baseURL"),withXsrfToken:ri.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let l=o&&X.merge(o.common,o[e.method]);o&&X.forEach(["delete","get","head","post","put","patch","common"],A=>{delete o[A]}),e.headers=un.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(e)===!1||(d=d&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let p,m=0,b;if(!d){const A=[bS.bind(this),void 0];for(A.unshift(...u),A.push(...f),b=A.length,p=Promise.resolve(e);m<b;)p=p.then(A[m++],A[m++]);return p}b=u.length;let v=e;for(;m<b;){const A=u[m++],S=u[m++];try{v=A(v)}catch(w){S.call(this,w);break}}try{p=bS.call(this,v)}catch(A){return Promise.reject(A)}for(m=0,b=f.length;m<b;)p=p.then(f[m++],f[m++]);return p}getUri(t){t=ca(this.defaults,t);const e=N1(t.baseURL,t.url,t.allowAbsoluteUrls);return R1(e,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(t){aa.prototype[t]=function(e,n){return this.request(ca(n||{},{method:t,url:e,data:(n||{}).data}))}});X.forEach(["post","put","patch"],function(t){function e(n){return function(o,l,u){return this.request(ca(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}aa.prototype[t]=e(),aa.prototype[t+"Form"]=e(!0)});let Vk=class j1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const n=this;this.promise.then(r=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](r);n._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(r);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,u){n.reason||(n.reason=new Rr(o,l,u),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new j1(function(r){t=r}),cancel:t}}};function Hk(s){return function(e){return s.apply(null,e)}}function Gk(s){return X.isObject(s)&&s.isAxiosError===!0}const Np={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Np).forEach(([s,t])=>{Np[t]=s});function I1(s){const t=new aa(s),e=g1(aa.prototype.request,t);return X.extend(e,aa.prototype,t,{allOwnKeys:!0}),X.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return I1(ca(s,r))},e}const be=I1(xl);be.Axios=aa;be.CanceledError=Rr;be.CancelToken=Vk;be.isCancel=L1;be.VERSION=F1;be.toFormData=Yu;be.AxiosError=Et;be.Cancel=be.CanceledError;be.all=function(t){return Promise.all(t)};be.spread=Hk;be.isAxiosError=Gk;be.mergeConfig=ca;be.AxiosHeaders=un;be.formToJSON=s=>D1(X.isHTMLForm(s)?new FormData(s):s);be.getAdapter=B1.getAdapter;be.HttpStatusCode=Np;be.default=be;const{Axios:e3,AxiosError:n3,CanceledError:i3,isCancel:s3,CancelToken:a3,VERSION:r3,all:o3,Cancel:l3,isAxiosError:c3,spread:u3,toFormData:h3,AxiosHeaders:d3,HttpStatusCode:f3,formToJSON:p3,getAdapter:m3,mergeConfig:g3}=be;function qk(){const[s,t]=L.useState([]);return L.useEffect(()=>{(async()=>{try{const n=await be.get("https://api.rss2json.com/v1/api.json?rss_url=https://feeds.feedburner.com/TheHackersNews");t(n.data.items.slice(0,5))}catch(n){console.error("Error fetching cybersecurity news:",n)}})()},[]),R.jsxs("section",{id:"news",className:"mt-12 border-t border-slate-800 pt-8 max-w-6xl mx-auto px-4",children:[R.jsxs("h2",{className:"text-xl font-semibold text-slate-200 mb-4",children:["Latest ",R.jsx("span",{className:"text-cyan-400",children:"Cybersecurity News"})]}),R.jsx("div",{className:"space-y-3",children:s.length>0?s.map(e=>R.jsxs("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block group border border-slate-800 hover:border-cyan-500/40 rounded-lg p-3 bg-slate-900/40 hover:bg-slate-900/60 transition-colors",children:[R.jsx("h3",{className:"text-slate-100 font-medium group-hover:text-cyan-400 transition-colors",children:e.title}),R.jsxs("p",{className:"text-slate-400 text-sm line-clamp-2 mt-1",children:[e.description.replace(/<[^>]+>/g,"").slice(0,120),"..."]})]},e.link)):R.jsx("p",{className:"text-slate-500 text-sm",children:"Fetching the latest updates..."})})]})}const Xk=[{id:"enterprise-network",title:"Enterprise Multi-Campus Network Infrastructure",desc:"Designed a scalable, fault-tolerant network spanning 3 campuses with OSPF, HSRP, and QoS.",year:"2024"}];function Yk(){return R.jsxs("section",{className:"py-20 mx-auto max-w-6xl px-4",children:[R.jsxs("h2",{className:"text-3xl font-semibold mb-8",children:["Projects ",R.jsx("span",{className:"text-cyan-400",children:"& Case Studies"})]}),R.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Xk.map(s=>R.jsxs(As,{to:`/projects/${s.id}`,className:"rounded-xl border border-slate-800 bg-slate-900/40 hover:bg-slate-900/60 transition p-6 block",children:[R.jsx("h3",{className:"text-xl font-semibold text-cyan-300",children:s.title}),R.jsx("p",{className:"mt-2 text-sm text-slate-300/90",children:s.desc}),R.jsxs("p",{className:"mt-3 text-xs text-slate-500",children:["Year: ",s.year]})]},s.id))}),R.jsx("div",{className:"mt-12",children:R.jsx(As,{to:"/",className:"inline-block rounded-lg border border-cyan-600/50 px-4 py-2 text-cyan-300 hover:bg-cyan-600/10",children:"← Back to Home"})})]})}const AS="/portfolio/assets/Network_Architecture-DBTOT1WU.png",SS=[{id:"enterprise-network",title:"Enterprise Multi-Campus Network Infrastructure",desc:"Designed a scalable, fault-tolerant network spanning 3 campuses with OSPF, HSRP, and QoS.",image:AS,year:"2024"},{id:"future-soc-lab",title:"Security Operations Lab (SOC-Level 1 Simulation)",desc:"In progress — building a simulated SIEM environment using Wazuh, Sysmon, and Zeek logs.",image:AS,year:"2025",details:["Configuring Wazuh SIEM with Windows & Linux endpoints.","Integrating Sysmon & Zeek for event correlation.","Analyzing logs using MITRE ATT&CK mapping.","Building dashboards and alerting workflows."]}];function $k(){const{id:s}=GC(),t=SS.find(e=>e.id===s);return R.jsxs(De.section,{className:"mx-auto max-w-6xl px-4 pt-10 pb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.45,ease:[.4,0,.2,1],type:"tween"},children:[R.jsxs("div",{className:"mb-10 flex justify-between items-center",children:[R.jsx(As,{to:"/",className:"text-cyan-400 hover:underline",children:"← Back to Home"}),R.jsx("span",{className:"text-slate-400 text-sm",children:"Project Viewer"})]}),R.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:SS.map(e=>R.jsxs(As,{to:`/projects/${e.id}`,className:`rounded-xl border transition p-5 ${e.id===s?"border-cyan-500/70 bg-slate-900/60":"border-slate-800 bg-slate-900/40 hover:bg-slate-900/60"}`,children:[R.jsx("h3",{className:"text-lg font-semibold text-cyan-300",children:e.title}),R.jsx("p",{className:"mt-2 text-sm text-slate-300/90",children:e.desc}),R.jsxs("p",{className:"mt-3 text-xs text-slate-500",children:["Year: ",e.year]})]},e.id))}),t?R.jsxs(R.Fragment,{children:[R.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-cyan-300",children:t.title}),R.jsx("p",{className:"text-sm text-slate-400 mt-1 italic",children:"Detailed overview of project execution and results."}),R.jsx("img",{src:t.image,alt:t.title,className:"mt-6 rounded-lg border border-slate-800"}),t.id==="enterprise-network"?R.jsxs("div",{className:"mt-10 text-slate-300 leading-relaxed space-y-8",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl text-cyan-400 font-semibold mb-2",children:"Project Scope"}),R.jsx("p",{children:"Led the design and implementation of a fault-tolerant, enterprise-grade network infrastructure spanning three university campuses (Toronto, Mississauga, Hamilton), supporting 2,000+ users with 99.9% uptime requirements."})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl text-cyan-400 font-semibold mb-2",children:"Technical Architecture"}),R.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[R.jsxs("li",{children:[R.jsx("strong",{children:"Core Network Design:"})," Hierarchical 3-tier architecture (Core, Distribution, Access), dual-router redundancy per campus, 24 access switches (Catalyst 2960), and 6 multilayer switches (3560/9300) with OSPF multi-area design."]}),R.jsxs("li",{children:[R.jsx("strong",{children:"High Availability Features:"})," HSRP, LACP EtherChannel (4Gbps), dual WAN OSPF load balancing, and STP with PortFast & BPDU Guard."]}),R.jsxs("li",{children:[R.jsx("strong",{children:"Network Segmentation:"})," 21 VLANs across 3 sites (students, faculty, guest, IoT, VoIP) with ACL-based inter-VLAN routing and QoS."]})]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl text-cyan-400 font-semibold mb-2",children:"Services & Applications Deployed"}),R.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[R.jsxs("li",{children:[R.jsx("strong",{children:"Centralized Identity & Infrastructure:"})," ","Active Directory Domain Services, DHCP, DNS, IIS Web Server, Ubuntu Mail Server (Roundcube), and secure FTP."]}),R.jsxs("li",{children:[R.jsx("strong",{children:"Unified Communications:"})," Cisco VoIP System with dedicated VLAN, Call Manager, and QoS WAN policies."]})]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl text-cyan-400 font-semibold mb-2",children:"Security Implementation"}),R.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[R.jsx("li",{children:"VLAN-based segmentation by department and user role."}),R.jsx("li",{children:"ACLs, Port Security, BPDU Guard, DHCP Snooping."}),R.jsx("li",{children:"Windows Firewall, 802.1X (planned), and host-level protection."})]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl text-cyan-400 font-semibold mb-2",children:"Network Management & Monitoring"}),R.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[R.jsx("li",{children:"OSPF adjacency and routing monitoring."}),R.jsx("li",{children:"SNMP v3 for performance tracking."}),R.jsx("li",{children:"Syslog centralized logging and analysis."}),R.jsx("li",{children:"Configuration backups and documentation."})]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl text-cyan-400 font-semibold mb-2",children:"Testing & Validation"}),R.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[R.jsx("li",{children:"End-to-end connectivity and failover tests."}),R.jsx("li",{children:"HSRP and OSPF validation and performance tuning."}),R.jsx("li",{children:"Verified DHCP leases, email, VoIP, and web access across VLANs."})]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl text-cyan-400 font-semibold mb-2",children:"Project Management"}),R.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[R.jsx("li",{children:"8-week timeline (Feb–Apr 2024), delivered under $276K."}),R.jsx("li",{children:"Coordinated 4-person team and documentation handoff."}),R.jsx("li",{children:"Provided SOPs, runbooks, and configuration archives for IT staff."})]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl text-cyan-400 font-semibold mb-2",children:"Key Achievements"}),R.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[R.jsx("li",{children:"✅ Zero downtime during phased rollout."}),R.jsx("li",{children:"✅ 99.9% availability through redundancy."}),R.jsx("li",{children:"✅ 40% reduction in administrative overhead."}),R.jsx("li",{children:"✅ Scalable design for future expansion."}),R.jsx("li",{children:"✅ Comprehensive documentation ensured smooth transition."})]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl text-cyan-400 font-semibold mb-2",children:"Technologies & Protocols"}),R.jsx("p",{className:"text-slate-400 text-sm",children:"Cisco IOS, OSPF, HSRP, LACP/EtherChannel, VLANs, 802.1Q, Inter-VLAN Routing, DHCP Relay, AD DS, DNS/DHCP, Windows Server 2019, Ubuntu Server, IIS, VoIP/QoS, STP, Port Security, ACLs, SNMP, Syslog, Project Management."})]})]}):R.jsx("div",{className:"mt-8 text-slate-300 space-y-3",children:t.details?.map((e,n)=>R.jsx("li",{className:"ml-4 list-disc text-sm leading-relaxed",children:e},n))})]}):R.jsxs("div",{className:"text-center text-slate-400 mt-20",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-4 text-cyan-400",children:"Project not found"}),R.jsx(As,{to:"/",className:"text-cyan-300 hover:underline",children:"← Back to Home"})]})]})}function Kk(){const s=Ts();L.useEffect(()=>{if(s.pathname==="/"&&s.state?.scrollTo){const e=s.state.scrollTo,n=document.getElementById(e);n&&setTimeout(()=>{n.scrollIntoView({behavior:"smooth",block:"start"})},250)}},[s]),L.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s.pathname]);const t={initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:-24},transition:{duration:.45,ease:[.4,0,.2,1],type:"tween"}};return R.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-950 via-[#0b1020] to-black text-slate-200 overflow-x-hidden",children:[R.jsx(TL,{}),R.jsx("main",{className:"pt-20",children:R.jsx(dm,{mode:"wait",children:R.jsxs(a_,{location:s,children:[R.jsx(nu,{path:"/",element:R.jsxs(De.div,{...t,children:[R.jsx(CL,{}),R.jsx(gs,{}),R.jsx(_L,{}),R.jsx(gs,{}),R.jsx(LL,{}),R.jsx(gs,{}),R.jsx(ML,{}),R.jsx(gs,{}),R.jsx(DL,{}),R.jsx(gs,{}),R.jsx(hP,{}),R.jsx(gs,{}),R.jsx(qk,{}),R.jsx(gs,{}),R.jsx(mP,{}),R.jsx(gs,{})]})}),R.jsx(nu,{path:"/projects",element:R.jsx(De.div,{...t,children:R.jsx(Yk,{})})}),R.jsx(nu,{path:"/projects/:id",element:R.jsx(De.div,{...t,children:R.jsx($k,{})})})]},s.pathname)})}),R.jsx(gP,{})]})}pC.createRoot(document.getElementById("root")).render(R.jsx(vs.StrictMode,{children:R.jsx(R_,{basename:"/portfolio",children:R.jsx(Kk,{})})}));
